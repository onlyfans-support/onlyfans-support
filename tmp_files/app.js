(function(e){function t(t){for(var r,a,o=t[0],c=t[1],u=t[2],d=0,l=[];d<o.length;d++)a=o[d],Object.prototype.hasOwnProperty.call(s,a)&&s[a]&&l.push(s[a][0]),s[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);f&&f(t);while(l.length)l.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,a=1;a<n.length;a++){var o=n[a];0!==s[o]&&(r=!1)}r&&(i.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},a={app:0},s={app:0},i=[];function o(e){return c.p+""+({"banking~chats~lists~main~sign~static~streaming":"banking~chats~lists~main~sign~static~streaming",streaming:"streaming",main:"main","chats~lists~live~main~mediaVault~streaming":"chats~lists~live~main~mediaVault~streaming",live:"live",eruda:"eruda",chats:"chats","banking~static":"banking~static",banking:"banking",static:"static","vendor-amcharts":"vendor-amcharts",lists:"lists","vendor-streaming":"vendor-streaming",hellosign:"hellosign"}[e]||e)+".js?rev=202108061256-f1db0728f2"}function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n={"banking~chats~lists~main~sign~static~streaming":1,streaming:1,main:1,live:1,"chunk-f1664542":1,chats:1,banking:1,lists:1,"chunk-3f55b828":1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise((function(t,n){for(var r=({"banking~chats~lists~main~sign~static~streaming":"banking~chats~lists~main~sign~static~streaming",streaming:"streaming",main:"main","chats~lists~live~main~mediaVault~streaming":"chats~lists~live~main~mediaVault~streaming",live:"live",eruda:"eruda",chats:"chats","banking~static":"banking~static",banking:"banking",static:"static","vendor-amcharts":"vendor-amcharts",lists:"lists","vendor-streaming":"vendor-streaming",hellosign:"hellosign"}[e]||e)+".css?rev=202108061256-f1db0728f2",s=c.p+r,i=document.getElementsByTagName("link"),o=0;o<i.length;o++){var u=i[o],d=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(d===r||d===s))return t()}var l=document.getElementsByTagName("style");for(o=0;o<l.length;o++){u=l[o],d=u.getAttribute("data-href");if(d===r||d===s)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var r=t&&t.target&&t.target.src||s,i=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=r,delete a[e],f.parentNode.removeChild(f),n(i)},f.href=s;var m=document.getElementsByTagName("head")[0];m.appendChild(f)})).then((function(){a[e]=0})));var r=s[e];if(0!==r)if(r)t.push(r[2]);else{var i=new Promise((function(t,n){r=s[e]=[t,n]}));t.push(r[2]=i);var u,d=document.createElement("script");d.charset="utf-8",d.timeout=120,c.nc&&d.setAttribute("nonce",c.nc),d.src=o(e);var l=new Error;u=function(t){d.onerror=d.onload=null,clearTimeout(f);var n=s[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",l.name="ChunkLoadError",l.type=r,l.request=a,n[1](l)}s[e]=void 0}};var f=setTimeout((function(){u({type:"timeout",target:d})}),12e4);d.onerror=d.onload=u,document.head.appendChild(d)}return Promise.all(t)},c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="https://static.cdn.onlyfans.com/theme/onlyfans/spa/",c.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],d=u.push.bind(u);u.push=t,u=u.slice();for(var l=0;l<u.length;l++)t(u[l]);var f=d;i.push([1,"vendor","chunk-vendors"]),n()})({0:function(e,t){},"00ec":function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return i})),n.d(t,"getters",(function(){return o})),n.d(t,"mutations",(function(){return c})),n.d(t,"actions",(function(){return u}));n("96cf");var r=n("3b8d"),a=n("1cf1"),s=function(){return{stat:{},loading:!1}},i=s(),o={stat:function(e){return e.stat},isLoading:function(e){return e.loading}},c={setLoading:function(e,t){e.loading=t},setSubscribersStat:function(e,t){e.stat=t},logout:function(e){Object.assign(e,s())}},u={fetchSubscribersStat:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,r("setLoading",!0),s={},e.prev=3,e.next=6,Object(a["h"])(n);case 6:s=e.sent,e.next=14;break;case 9:return e.prev=9,e.t0=e["catch"](3),Sentry.captureException(e.t0),r("setLoading",!1),e.abrupt("return",{});case 14:return r("setSubscribersStat",s),r("setLoading",!1),e.abrupt("return",s);case 17:case"end":return e.stop()}}),e,null,[[3,9]])})));function t(t,n){return e.apply(this,arguments)}return t}()}},"0242":function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return c})),n.d(t,"getters",(function(){return u})),n.d(t,"mutations",(function(){return d})),n.d(t,"actions",(function(){return l}));n("96cf");var r=n("3b8d"),a=(n("ac6a"),n("2612")),s=n("5e23"),i=n("559d"),o=function(){return{userId:null,items:{},itemsIds:[],offset:0,limit:8,hasMore:!1}},c=o(),u={pastStreamsHasMore:function(e){return e.hasMore},pastStreams:function(e){return e.itemsIds.map((function(t){return e.items[t]}))}},d={setUserId:function(e,t){e.userId!==t&&(e.offset=0,e.itemsIds=[],e.items={}),e.userId=t},setStreams:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.payload,r=t.pages,a=void 0===r||r;n?(a&&(e.hasMore=n.hasMore,e.hasMore&&(e.offset+=e.limit)),n.list.forEach((function(t){e.items[t.id]||e.itemsIds.push(t.id),e.items[t.id]=t}))):(e.itemsIds=[],e.items={},e.hasMore=!1)},logout:function(e){Object.assign(e,o())}},l={fetchPastStreams:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r,o,c,u,d,l,f;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,o=t.state,c=t.dispatch,u=n.userId,d=n.pages,r("setUserId",u),e.prev=3,e.next=6,Object(a["E"])({userId:u,offset:o.offset,limit:o.limit,skip_users:"all"});case 6:l=e.sent,e.next=11;break;case 9:e.prev=9,e.t0=e["catch"](3);case 11:if(!l){e.next=20;break}if(!l.list||!l.list.length){e.next=19;break}return f=Object(s["a"])(l.list,i["r"]),e.next=16,c("users/getUsersIfNeeded",f,{root:!0});case 16:r("setStreams",{payload:l,pages:d}),e.next=20;break;case 19:r("setStreams");case 20:case"end":return e.stop()}}),e,null,[[3,9]])})));function t(t,n){return e.apply(this,arguments)}return t}()}},"0591":function(e,t,n){e.exports=n.p+"img/default_header_image_dark.png"},"0781":function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return j})),n.d(t,"getters",(function(){return k})),n.d(t,"mutations",(function(){return S})),n.d(t,"actions",(function(){return x}));n("8e6e"),n("ac6a"),n("456d");var r=n("6ee6"),a=(n("96cf"),n("3b8d")),s=(n("20d6"),n("bd86")),i=(n("6762"),n("2fdb"),n("4245")),o=n.n(i),c=n("5e23"),u=n("56d7"),d=n("00e7"),l=n.n(d),f=n("34b7"),m=n("2612"),p=n("b775"),h=function(){var e="".concat(p["b"],"/emails/resend");return p["d"].post(e).then((function(e){return e.data}))},b=n("ba6a"),g=n("09e4"),v=n("559d");function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){Object(s["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var O=function(){return{activityHubAllowed:"",activityHubTokens:[],appOtp:!1,autoMessage:[],countries:[],countriesLoading:!1,darkMode:!!l.a.get("dark_mode",{domain:".".concat("onlyfans.com")}),isDeleteInitiated:null,lastSubscriptionExpiredAt:null,spotifyArtistsItems:{},spotifyBio:{name:"",anthem:null,topArtists:[]},spotifyTop:{myTopArtists:[],myTopTracks:[]},spotifyTracksItems:{},states:{},streamingObsKey:"",paymentsLoaded:!1,unavailablePaymentGates:[],changelogUpdates:0,callPrice:0,allowIncomingCall:null,hideAfterMassMessages:!1,showFullTextInEmailNotify:!1,isEmailNotificationsEnabled:!1,recommenderReward:null,isAutoFollowBack:!1,isPrivate:void 0,blockedCountries:void 0,blockedStates:void 0,blockedIps:void 0,showPostsTips:void 0,showFriendsToSubscribers:void 0,disableSubscribesOffers:void 0,showSubscribesOffers:void 0,isOldLoginRedirect:void 0,canAcceptMessageOnlyFromFriends:!1,runningActions:[],existedUsernames:{},confirmEmailSentAt:null,sendAwardsTop1:!1,sendAwardsTop5:!1,coStreamingRequestFrom:void 0,isCoStreamingAllowed:!1,socialsConnects:[],phoneOtp:!1,faceOtp:!1,isLoading:!1,enableSettingsCallingSection:!1}},j=O(),k={allSettings:function(e){return e},isDarkMode:function(e){return e.darkMode},userLoginPrefix:function(e,t,n){return n.init.settings.userLoginPrefix},callMinPrice:function(e,t,n){return n.init.settings.callMinPrice},callMaxPrice:function(e,t,n){return n.init.settings.callMaxPrice},isImageWatermarkNeeded:function(e,t,n){return n.init.settings.isImageWatermarkNeeded},countriesList:function(e){return e.countries},streamingObsKey:function(e){return e.streamingObsKey},activityHubAllowed:function(e){return e.activityHubAllowed},activityHubTokens:function(e){return e.activityHubTokens},statesByCounty:function(e){return function(t){return e.states[t]}},spotifyTop:function(e){return e.spotifyTop},spotifyTopArtistsIds:function(e){return e.spotifyTop.myTopArtists},spotifyTopArtists:function(e){return e.spotifyTop.myTopArtists.map((function(t){return e.spotifyArtistsItems[t]}))},spotifyTopTracks:function(e){return e.spotifyTop.myTopTracks.map((function(t){return e.spotifyTracksItems[t]}))},spotifyBio:function(e){return e.spotifyBio},spotifyBioTopArtistsIds:function(e){return e.spotifyBio.topArtists||[]},spotifyBioTopArtists:function(e){return e.spotifyBio.topArtists?e.spotifyBio.topArtists.map((function(t){return e.spotifyArtistsItems[t]})):[]},spotifyBioAnthem:function(e){return e.spotifyBio.anthem},getAutoMessage:function(e){return e.autoMessage.filter((function(e){return"reply_on_subscribe"===e.template}))[0]},getHideAfterMassMessages:function(e){return e.hideAfterMassMessages},getShowFullTextInEmailNotify:function(e){return e.showFullTextInEmailNotify},callPrice:function(e){return e.callPrice},allowIncomingCall:function(e){return e.allowIncomingCall},getCanAcceptMessageOnlyFromFriends:function(e){return e.canAcceptMessageOnlyFromFriends},hasRunningActions:function(e){return function(t){return e.runningActions.includes(t)}},existedUsernames:function(e){return e.existedUsernames},isLoading:function(e){return e.isLoading},enableSettingsCallingSection:function(e){return e.enableSettingsCallingSection}},S={switchTheme:function(e){e.darkMode=!e.darkMode,document.documentElement.classList.toggle("m-mode-dark",e.darkMode),e.darkMode?u["default"].$cookie.set("dark_mode",e.darkMode,{domain:".".concat("onlyfans.com"),expires:"1Y"}):u["default"].$cookie.delete("dark_mode",{domain:".".concat("onlyfans.com")})},setCountries:function(e,t){e.countries=t.map((function(e){return w(w({},e),{},{hasStatesIso:!0})}))},setCountry:function(e,t){var n=e.countries.findIndex((function(e){return e.code===t.code}));n>-1&&(e.countries[n]=t)},setCountriesLoading:function(e,t){e.countriesLoading=t},setConfirmEmail:function(e,t){e.confirmEmailSentAt=t},setStates:function(e,t){e.states=o()({},e.states,t)},setSettings:function(e,t){Object.assign(e,t)},setHubToken:function(e,t){Object.assign(e.activityHubTokens,t)},addHubToken:function(e,t){e.activityHubTokens.push(t)},deleteHubToken:function(e,t){e.activityHubTokens=e.activityHubTokens.filter((function(e){return e.id!==t}))},deleteAutoMessage:function(e,t){e.autoMessage=e.autoMessage.filter((function(e){return e.template!==t}))},setSpotifyTop:function(e,t){Object.assign(e.spotifyTop,t)},setSpotifyTopArtists:function(e,t){e.spotifyTop.myTopArtists=t},setSpotifyTopTracks:function(e,t){e.spotifyTop.myTopTracks=t},setSpotifyBioAnthem:function(e,t){e.spotifyBio.anthem=t},setSpotifyBioName:function(e,t){e.spotifyBio.name=t},setSpotifyBioTopArtists:function(e,t){e.spotifyBio.topArtists=t},resetSpotifyBio:function(){j.spotifyBio={name:"",anthem:null,topArtists:[]}},setPaymentsLoaded:function(e,t){e.paymentsLoaded=t},setUnavailablePaymentGates:function(e,t){e.unavailablePaymentGates=(t||[]).filter((function(e){var t=e.status;return"fail"===t})).map((function(e){return e.name}))},setAutoMessage:function(e,t){e.autoMessage.length?(e.autoMessage.splice(0,1),e.autoMessage.push(t)):e.autoMessage.push(t)},setAutoMessages:function(e,t){e.autoMessage=t},addChangelogUpdates:function(e){e.changelogUpdates+=1},setChangelogUpdates:function(e,t){e.changelogUpdates=t},addRunningActions:function(e,t){e.runningActions.push(t)},removeRunningActions:function(e,t){e.runningActions=e.runningActions.filter((function(e){return e!==t}))},setNewEmail:function(e,t){e.newEmail=t},setSettingField:function(e,t){var n=t.field,r=t.status;e[n]=r},setExistedUsernames:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.existedUsernames=t},deleteGoogle:function(e){e.socialsConnects=e.socialsConnects.filter((function(e){return"google"!==e.provider}))},setIsLoading:function(e,t){e.isLoading=t},logout:function(e){Object.assign(e,O())}},x={fetchCountries:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.commit,r=t.state,e.prev=1,r.countries.length||r.countriesLoading){e.next=9;break}return n("setCountriesLoading",!0),e.next=6,Object(f["h"])();case 6:a=e.sent,n("setCountries",a),n("setCountriesLoading",!1);case 9:e.next=13;break;case 11:e.prev=11,e.t0=e["catch"](1);case 13:case"end":return e.stop()}}),e,null,[[1,11]])})));function t(t){return e.apply(this,arguments)}return t}(),createConfirmEmail:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.prev=1,e.next=4,h();case 4:return r=e.sent,r&&r.success&&n("setConfirmEmail",r.confirmEmailSentAt),e.abrupt("return",r);case 9:return e.prev=9,e.t0=e["catch"](1),Object(g["b"])(e.t0),e.abrupt("return",{});case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));function t(t){return e.apply(this,arguments)}return t}(),fetchCountriesStates:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.prev=1,e.next=4,Object(f["j"])(n);case 4:a=e.sent,i=Object(s["a"])({},n,a),r("setStates",i),e.next=11;break;case 9:e.prev=9,e.t0=e["catch"](1);case 11:case"end":return e.stop()}}),e,null,[[1,9]])})));function t(t,n){return e.apply(this,arguments)}return t}(),fetchCountriesStatesIso:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.prev=1,e.next=4,Object(f["k"])(n.code);case 4:a=e.sent,a&&a.length?(i=Object(s["a"])({},n.id,a),r("setStates",i),r("setCountry",w(w({},n),{},{hasStatesIso:!1}))):r("setCountry",w(w({},n),{},{hasStatesIso:!1})),e.next=10;break;case 8:e.prev=8,e.t0=e["catch"](1);case 10:case"end":return e.stop()}}),e,null,[[1,8]])})));function t(t,n){return e.apply(this,arguments)}return t}(),createHubToken:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.prev=1,e.next=4,Object(f["m"])();case 4:r=e.sent,n("addHubToken",r),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));function t(t){return e.apply(this,arguments)}return t}(),fetchUserSettings:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.commit,r=t.getters,!r.hasRunningActions("fetchUserSettings")){e.next=3;break}return e.abrupt("return");case 3:return n("addRunningActions","fetchUserSettings"),e.prev=4,e.next=7,Object(m["W"])();case 7:a=e.sent,n("setSettings",a),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](4),console.log(e.t0);case 14:n("removeRunningActions","fetchUserSettings");case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));function t(t){return e.apply(this,arguments)}return t}(),deleteHubTokenAction:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.prev=1,e.next=4,Object(f["d"])(n);case 4:a=e.sent,a&&a.success&&r("deleteHubToken",n),e.next=10;break;case 8:e.prev=8,e.t0=e["catch"](1);case 10:return e.abrupt("return",a);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));function t(t,n){return e.apply(this,arguments)}return t}(),fetchSpotifyTop:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.prev=1,e.next=4,Object(b["g"])();case 4:r=e.sent,r&&(r.myTopArtists&&(a=Object(c["a"])(r.myTopArtists,v["p"]),n("set",a,{root:!0}),n("setSpotifyTopArtists",a.result)),r.myTopTracks&&(s=Object(c["a"])(r.myTopTracks,v["q"]),n("set",s,{root:!0}),n("setSpotifyTopTracks",s.result))),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));function t(t){return e.apply(this,arguments)}return t}(),fetchSpotifyTopArtists:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.prev=1,e.next=4,Object(b["h"])();case 4:r=e.sent,a=Object(c["a"])(r,v["p"]),n("set",a,{root:!0}),n("setSpotifyTopArtists",a.result),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](1),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));function t(t){return e.apply(this,arguments)}return t}(),fetchSpotifyTopTracks:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.prev=1,e.next=4,Object(b["i"])();case 4:r=e.sent,a=Object(c["a"])(r,v["q"]),n("set",a,{root:!0}),n("setSpotifyTopTracks",a.result),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](1),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));function t(t){return e.apply(this,arguments)}return t}(),fetchSpotifyBio:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.prev=1,e.next=4,Object(b["c"])(n);case 4:a=e.sent,a.topArtists?(s=Object(c["a"])(a.topArtists,v["p"]),r("set",s,{root:!0}),r("setSpotifyBioTopArtists",s.result)):r("setSpotifyBioTopArtists",null),r("setSpotifyBioAnthem",a.anthem),r("setSpotifyBioName",a.displayName),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](1),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));function t(t,n){return e.apply(this,arguments)}return t}(),fetchSpotifySearch:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=t.commit,n){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,Object(b["f"])(n);case 6:a=e.sent,s=Object(c["a"])(a,v["q"]),r("set",s,{root:!0}),r("setSpotifyTopTracks",s.result),e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](3),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));function t(t,n){return e.apply(this,arguments)}return t}(),sendSpotifyArtists:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.prev=1,e.next=4,Object(b["b"])(n);case 4:a=e.sent,a&&a.success&&r("setSpotifyBioTopArtists",n),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),Object(g["b"])(e.t0);case 11:return e.abrupt("return",a&&a.success);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));function t(t,n){return e.apply(this,arguments)}return t}(),sendSpotifyAnthem:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Object(r["a"])(t),e.prev=1,e.next=4,Object(b["a"])(n);case 4:a=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](1),console.log(e.t0);case 10:return e.abrupt("return",a&&a.success);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));function t(t,n){return e.apply(this,arguments)}return t}(),saveAutoMessage:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.prev=1,e.next=4,Object(f["a"])(n);case 4:a=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](1),Object(g["b"])(e.t0);case 10:a&&r("setAutoMessage",a);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));function t(t,n){return e.apply(this,arguments)}return t}(),fetchAutoMessageTemplate:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.prev=1,e.next=4,Object(f["f"])();case 4:r=e.sent,e.next=10;break;case 7:throw e.prev=7,e.t0=e["catch"](1),e.t0;case 10:return n("setAutoMessages",r),e.abrupt("return",r);case 12:case"end":return e.stop()}}),e,null,[[1,7]])})));function t(t){return e.apply(this,arguments)}return t}(),deleteAutoMessageTemplate:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.prev=1,e.next=4,Object(f["b"])(n);case 4:a=e.sent,a&&a.success&&r("deleteAutoMessage",n),e.next=10;break;case 8:e.prev=8,e.t0=e["catch"](1);case 10:return e.abrupt("return",a);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));function t(t,n){return e.apply(this,arguments)}return t}(),updateUserSettingsMessages:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.next=3,Object(f["n"])(n);case 3:return a=e.sent,a&&r("setSettings",a),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),disableGoogle:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.prev=1,e.next=4,Object(m["r"])();case 4:r=e.sent,r.success&&n("deleteGoogle"),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),Object(g["b"])(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));function t(t){return e.apply(this,arguments)}return t}()}},"09e4":function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return m})),n.d(t,"a",(function(){return b}));var r=n("768b"),a=(n("ac6a"),n("ffc1"),n("7618")),s=n("9b02"),i=n.n(s),o=n("e2a0"),c=n.n(o),u=n("56d7"),d=n("4360"),l=function(e,t,n){if(!e||"silent"!==e.message){var r,s=d["a"].state.formApiErrors.hasError&&i()(e,"data.errors"),o=!0;if(null!==t&&"object"===Object(a["a"])(t)){var c=t;t=c.message,n=c.onclose,r=c.buttons;var l=c.html;o=void 0===l||l}t=t||i()(e,"data.error.message")||i()(e,"data.error.templates")||i()(e,"message")||u["default"].$i18n.t("message.debug_alert_message"),!e||void 0===i()(e,"request.status")||e instanceof Error&&"Network Error"===e.message||Sentry.captureException(e),t&&!s&&alert({message:t,html:o,onclose:n,buttons:r})}},f=function(e){var t=e.error,n=e.tags,a=e.extra;n=n||{},a=a||{},t&&Sentry.withScope((function(e){for(var s=0,i=Object.entries(n);s<i.length;s++){var o=Object(r["a"])(i[s],2),c=o[0],u=o[1];e.setTag(c,u)}for(var d=0,l=Object.entries(a);d<l.length;d++){var f=Object(r["a"])(l[d],2),m=f[0],p=f[1];e.setExtra(m,p)}Sentry.captureException(t)}))},m=function(e){var t=e.message,n=e.tags,r=e.extra;h({data:t,severity:"log",tags:n,extra:r})},p=function(e){var t=e.error,n=e.tags,r=e.extra;h({data:t,severity:"error",tags:n,extra:r})},h=function(e){var t=e.data,n=e.severity,a=void 0===n?"log":n,s=e.tags,i=void 0===s?{}:s,o=e.extra,u=void 0===o?{}:o;t&&SentryStreams.withScope((function(e){for(var n=0,s=Object.entries(i);n<s.length;n++){var o=Object(r["a"])(s[n],2),d=o[0],l=o[1];e.setTag(d,l)}for(var f=0,m=Object.entries(u);f<m.length;f++){var p=Object(r["a"])(m[f],2),h=p[0],b=p[1];e.setExtra(h,b)}"error"===a?(c()(t)&&(t=new Error(t)),SentryStreams.captureException(t)):SentryStreams.captureMessage(t,a)}))},b=function(e,t){e instanceof Error&&"Network Error"===e.message||e&&e.status>500?u["default"].$bvToast.toast(u["default"].$i18n.t("message.api_error"),{autoHideDelay:5e3,appendToast:!0,toaster:"b-toaster-bottom-left"}):"function"===typeof t&&t.call(null,e)}},"0db4":function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return c})),n.d(t,"getters",(function(){return u})),n.d(t,"mutations",(function(){return d})),n.d(t,"actions",(function(){return l}));n("96cf");var r=n("3b8d"),a=(n("ac6a"),n("55dd"),n("2b0e")),s=n("2612"),i=n("82ab"),o=function(){return{userId:null,items:{},itemsIds:[],offset:0,limit:8,hasMore:!1}},c=o(),u={scheduledStreamsHasMore:function(e){return e.hasMore},scheduledStreams:function(e){return e.itemsIds.map((function(t){return e.items[t]})).sort((function(e,t){return new Date(e.scheduledAt)-new Date(t.scheduledAt)}))},mainScheduledStream:function(e,t){return t.scheduledStreams[0]},scheduledStreamsCount:function(e){return e.itemsIds.length}},d={setUserId:function(e,t){e.userId!==t&&(e.offset=0,e.itemsIds=[],e.items={}),e.userId=t},setStreams:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.payload,r=t.pages;n?(0===e.offset&&(e.itemsIds=[],e.items={},e.hasMore=!1),r&&(e.hasMore=n.hasMore,e.hasMore&&(e.offset+=e.limit)),n.list.forEach((function(t){e.items[t.id]||e.itemsIds.push(t.id),e.items[t.id]&&a["default"].delete(e.items,t.id);var n=(new Date).getTime(),r=new Date(t.scheduledAt).getTime();t.dangerTime=n>r?"expired":r-n<=18e5&&"danger",a["default"].set(e.items,t.id,t)}))):(e.itemsIds=[],e.items={},e.hasMore=!1)},addStream:function(e,t){e.items[t.id]=t,e.itemsIds.unshift(t.id)},editStream:function(e,t){a["default"].delete(e.items,t.id),a["default"].set(e.items,t.id,t)},setReminder:function(e,t){e.items[t].isReminder=!0},unsetReminder:function(e,t){e.items[t].isReminder=!1},removeIds:function(e,t){t.forEach((function(t){e.itemsIds=e.itemsIds.filter((function(e){return e!==t}))}))},logout:function(e){Object.assign(e,o())}},l={fetchScheduledStreams:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,i,o,c,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,a=t.state,i=n.userId,o=n.pages,c=void 0===o||o,r("setUserId",i),e.prev=3,e.next=6,Object(s["M"])({userId:i,offset:a.offset,limit:a.limit});case 6:u=e.sent,e.next=11;break;case 9:e.prev=9,e.t0=e["catch"](3);case 11:u&&(u.list&&u.list.length?r("setStreams",{payload:u,pages:c}):r("setStreams"));case 12:case"end":return e.stop()}}),e,null,[[3,9]])})));function t(t,n){return e.apply(this,arguments)}return t}(),deleteScheduledStream:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,t.state,e.prev=1,e.next=4,Object(i["a"])(n);case 4:a=e.sent,e.next=9;break;case 7:e.prev=7,e.t0=e["catch"](1);case 9:a&&r("removeIds",[n]);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));function t(t,n){return e.apply(this,arguments)}return t}(),setScheduledStreamReminder:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,t.state,e.prev=1,e.next=4,Object(i["f"])(n);case 4:a=e.sent,e.next=9;break;case 7:e.prev=7,e.t0=e["catch"](1);case 9:a&&r("setReminder",n);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));function t(t,n){return e.apply(this,arguments)}return t}(),unsetScheduledStreamReminder:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,t.state,e.prev=1,e.next=4,Object(i["b"])(n);case 4:a=e.sent,e.next=9;break;case 7:e.prev=7,e.t0=e["catch"](1);case 9:a&&r("unsetReminder",n);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));function t(t,n){return e.apply(this,arguments)}return t}()}},1:function(e,t,n){e.exports=n("56d7")},1306:function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return c})),n.d(t,"getters",(function(){return u})),n.d(t,"mutations",(function(){return d})),n.d(t,"actions",(function(){return l}));n("8e6e"),n("ac6a"),n("456d");var r=n("bd86"),a=n("75fc");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var o=function(){return{show:!0,items:[],options:{},isOpen:!1}},c=o(),u={},d={setOpen:function(e,t){t||(e.items=[],e.options={}),e.isOpen=t},setItems:function(e,t){e.items=Object(a["a"])(t)},setOptions:function(e,t){var n={};t.mainClass||(n.mainClass=void 0),e.options=i(i({},t),n)},logout:function(e){Object.assign(e,o())}},l={}},"163a":function(e,t){(function(){window.STATIC_PAGES=[{url:"help",name:"FAQs",type:"faq",inFooter:!1},{url:"about",name:"About",inFooter:!1},{url:"https://blog.onlyfans.com/",name:"Blog",isExtLink:!0,target:"_blank",inFooter:!0},{url:"brand",name:"Branding",type:"page",target:"_blank",inFooter:!0},{url:"https://store.onlyfans.com/",name:"Store",isExtLink:!0,target:"_blank",inFooter:!0},{url:"terms",name:"Terms of Service",target:"_blank",inFooter:!0},{url:"dmca",name:"DMCA",type:"page",inFooter:!0},{url:"privacy",name:"Privacy",target:"_blank",inFooter:!0},{url:"contacts",name:"Contact",type:"contacts",inFooter:!1},{url:"https://twitter.com/onlyfans",name:"Twitter",target:"_blank",isExtLink:!0,inFooter:!1},{url:"how",name:"How it works",type:"how",inFooter:!0},{url:"referrals",name:"Referrals",type:"referrals",inFooter:!0},{url:"usc2257",name:"USC 2257",type:"usc2257",target:"_blank",inFooter:!0},{url:"banking-help",name:"Adding a Bank Account",type:"page",inFooter:!1},{url:"terms-of-service",name:"Terms of Service",type:"page",target:"_blank",inFooter:!1},{url:"tos",name:"Terms of Service",type:"page",inFooter:!1},{url:"tosd",name:"Terms of Service",type:"page",inFooter:!1},{url:"terms#acceptable-use-policy",name:"Acceptable Use Policy",target:"_blank",inFooter:!0},{url:"terms#complaints-policy",name:"Complaints Policy",target:"_blank",inFooter:!0},{url:"cookies",name:"Cookie Notice",target:"_blank",inFooter:!0},{url:"contract",name:"Standard Contract between Fan and Creator",target:"_blank",inFooter:!0},{url:"statement",name:"Statement",inFooter:!0}]})()},"168f":function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u}));n("8e6e"),n("ac6a"),n("456d");var r=n("bd86"),a=n("b775");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var o=function(e){var t=e.message,n=void 0===t?"":t,r=e.logData,s=void 0===r?null:r,o=e.logger,c=void 0===o?"default":o,u=e.level,d=void 0===u?"debug":u,l="".concat(a["b"],"/log"),f={message:n,context:i(i({},s),{},{logger:"onlyfans.".concat(c),time:+new Date}),level:d};return a["d"].post(l,f).then((function(e){return e.data}))},c=function(e){var t=e.message,n=void 0===t?"":t,r=e.logData,a=void 0===r?null:r,s=e.logger,i=void 0===s?"default":s;return o({message:n,logData:a,logger:i,level:"debug"})},u=function(e){var t=e.message,n=void 0===t?"":t,r=e.logData,a=void 0===r?null:r,s=e.logger,i=void 0===s?"default":s;return o({message:n,logData:a,logger:i,level:"error"})}},"16a8":function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return w})),n.d(t,"getters",(function(){return O})),n.d(t,"mutations",(function(){return j})),n.d(t,"actions",(function(){return k}));n("8e6e"),n("456d"),n("ac6a"),n("5df3"),n("96cf");var r=n("3b8d"),a=n("75fc"),s=n("bd86"),i=n("5e23"),o=n("ceac"),c=n.n(o),u=n("bfc7"),d=n.n(u),l=n("93c6"),f=n.n(l),m=n("559d"),p=n("82ab"),h=n("1a1d"),b=n("b775");function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){Object(s["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y=function(){return{items:{},itemIds:[]}},w=y(),O={streams:function(e){return f()(e.itemIds,null,"desc").map((function(t){return e.items[t]}))},streamsByUserId:function(e){return f()(e.itemIds,null,"desc").reduce((function(t,n){return v(v({},t),{},Object(s["a"])({},e.items[n].user,e.items[n]))}),{})}},j={setItemIds:function(e,t){e.itemIds=Object(a["a"])(t)},removeItems:function(e,t){var n=t.ids;if(n&&n.length){var r=c()(e.itemIds,n);e.itemIds=Object(a["a"])(r)}else e.itemIds=[]},logout:function(e){Object.assign(e,y())}},k={fetchStreamsFeed:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,s,o,c,u,d,l=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,r=t.dispatch,a=l.length>1&&void 0!==l[1]?l[1]:{},o=Object(b["f"])("fetchStreamsFeed"),c=o.cancelToken,e.prev=3,a.skip_users="all",e.next=7,Object(p["e"])(a,c);case 7:s=e.sent,e.next=12;break;case 10:e.prev=10,e.t0=e["catch"](3);case 12:if(!s){e.next=23;break}if(!s.list||!s.list.length){e.next=22;break}return u=Object(i["a"])(s.list,m["r"]),e.next=17,r("users/getUsersIfNeeded",u,{root:!0});case 17:n("set",u,{root:!0}),d=u.result,n("setItemIds",d),e.next=23;break;case 22:n("setItemIds",[]);case 23:case"end":return e.stop()}}),e,null,[[3,10]])})));function t(t){return e.apply(this,arguments)}return t}(),fetchUserStream:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,s,o,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.prev=1,e.next=4,Object(h["m"])(n);case 4:a=e.sent,e.next=9;break;case 7:e.prev=7,e.t0=e["catch"](1);case 9:a&&(s=Object(i["a"])([a],m["r"]),r("set",s,{root:!0}),o=s.result,r("setItemIds",d()(w.itemIds,o)),c=Object(i["a"])(a.user,m["z"]),r("set",c,{root:!0}));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));function t(t,n){return e.apply(this,arguments)}return t}(),removeStreamFromFeed:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var a,s,o,c,u,l,f,p,b;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.state,s=t.commit,o=n.userId,c=a.itemIds.map((function(e){return a.items[e]})).filter((function(e){return e.user==o})).map((function(e){return e.id})),s("removeItems",{ids:c}),u=a.itemIds.map((function(e){return a.items[e]})).filter((function(e){return e.partners.some((function(e){return e.user.id==o}))})).map((function(e){return e.user})),l=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(u.map((function(e){return Object(h["m"])(e)}))));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.next=8,l();case 8:f=e.sent,f&&(p=Object(i["a"])(f,m["r"]),s("set",p,{root:!0}),b=p.result,s("setItemIds",d()(a.itemIds,b)));case 10:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()}},1960:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return i})),n.d(t,"f",(function(){return o})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return u}));var r=n("b775"),a=function(){var e="".concat(r["b"],"/helpers");return r["d"].get(e).then((function(e){return e.data}))},s=function(e){var t="".concat(r["b"],"/helpers/").concat(e);return r["d"].get(t).then((function(e){return e.data}))},i=function(){var e="".concat(r["b"],"/helpers/permissions");return r["d"].get(e).then((function(e){return e.data}))},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n="".concat(r["b"],"/helpers/").concat(e);return r["d"].post(n,{permissions:t}).then((function(e){return e.data}))},c=function(e){var t="".concat(r["b"],"/users/login-as-helper/").concat(e);return r["d"].post(t).then((function(e){return e.data}))},u=function(){var e="".concat(r["b"],"/users/helper-logout");return r["d"].post(e).then((function(e){return e.data}))}},"1a1d":function(e,t,n){"use strict";n.d(t,"j",(function(){return d})),n.d(t,"h",(function(){return l})),n.d(t,"n",(function(){return f})),n.d(t,"m",(function(){return m})),n.d(t,"u",(function(){return p})),n.d(t,"t",(function(){return h})),n.d(t,"q",(function(){return b})),n.d(t,"f",(function(){return g})),n.d(t,"d",(function(){return v})),n.d(t,"z",(function(){return y})),n.d(t,"g",(function(){return w})),n.d(t,"b",(function(){return O})),n.d(t,"k",(function(){return j})),n.d(t,"r",(function(){return k})),n.d(t,"e",(function(){return S})),n.d(t,"s",(function(){return x})),n.d(t,"p",(function(){return P})),n.d(t,"o",(function(){return I})),n.d(t,"a",(function(){return C})),n.d(t,"c",(function(){return R})),n.d(t,"x",(function(){return T})),n.d(t,"y",(function(){return _})),n.d(t,"w",(function(){return A})),n.d(t,"v",(function(){return L})),n.d(t,"i",(function(){return E})),n.d(t,"l",(function(){return M}));n("96cf");var r=n("3b8d"),a=n("b775"),s=n("9b02"),i=n.n(s),o={streamType:"webrtc"},c=function(){return Promise.all([n.e("vendor-streaming"),n.e("chunk-vendors")]).then(n.t.bind(null,"29ef",7))},u=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,r,s,c=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:o.streamType,n=Object(a["c"])({data:JSON.stringify({streamtype:t,type:"get.streamer.server.list"})}),r="".concat(a["b"],"/streams/ms_service").concat(n),e.next=5,a["d"].get(r);case 5:return s=e.sent,e.abrupt("return",i()(s,"data.Message.ServerList",[]));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,r,s,i,d,l=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=l.length>0&&void 0!==l[0]?l[0]:o.streamType,n={streamtype:t,sbp:!0},e.prev=2,e.next=5,c();case 5:return r=e.sent,e.next=8,u(t);case 8:return s=e.sent,window.speedTest=r.speedTest,e.next=12,r.speedTest.streamer(s);case 12:n.preferred_servers=e.sent,e.next=17;break;case 15:e.prev=15,e.t0=e["catch"](2);case 17:return i=Object(a["c"])({extension:JSON.stringify(n)}),d="".concat(a["b"],"/streams/url").concat(i),e.abrupt("return",a["d"].get(d));case 20:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(){return e.apply(this,arguments)}}(),l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.streamType,n={streamtype:t,sbp:!0},r=Object(a["c"])({extension:JSON.stringify(n)}),s="".concat(a["b"],"/streams/").concat(e,"/url").concat(r);return a["d"].get(s)},f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"webrtc",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(!e)throw new Error("userId is not defined");var r=Object(a["c"])({extension:JSON.stringify({streamtype:t,sbp:!0,preferred_servers:n})}),s="".concat(a["b"],"/users/").concat(e,"/streams/active/url").concat(r);return a["d"].get(s).then((function(e){return e.data}))},m=function(e){if(!e)throw new Error("userId is not defined");var t="".concat(a["b"],"/users/").concat(e,"/streams/active");return a["d"].get(t).then((function(e){return e.data}))},p=function(e){var t="".concat(a["b"],"/streams");return a["d"].post(t,e).then((function(e){return e.data}))},h=function(e){var t="".concat(a["b"],"/streams/").concat(e.id);return a["d"].patch(t,e).then((function(e){return e.data}))},b=function(e){var t="".concat(a["b"],"/streams");return a["d"].post(t,e).then((function(e){return e.data}))},g=function(e){if(!e)throw new Error("streamId is not defined");var t="".concat(a["b"],"/streams/").concat(e,"/finish");return a["d"].put(t).then((function(e){return e.data}))},v=function(){var e="".concat(a["b"],"/streams");return a["d"].delete(e).then((function(e){return e.data}))},y=function(e){var t=e.streamId,n=e.data;if(!t)throw new Error("streamId is not defined");var r="".concat(a["b"],"/streams/").concat(t);return a["d"].patch(r,n).then((function(e){return e.data}))},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(a["c"])(e),n="".concat(a["b"],"/streams/active").concat(t);return a["d"].get(n).then((function(e){return e.data}))},O=function(){var e="".concat(a["b"],"/streams/has-active");return a["d"].get(e).then((function(e){return e.data}))},j=function(e){if(!e)throw new Error("streamId is not defined");var t="".concat(a["b"],"/streams/").concat(e,"/stats");return a["d"].get(t).then((function(e){return e.data}))},k=function(e){var t=e.streamId,n=e.keepComments,r=e.isArchive,s=e.description;if(!t)throw new Error("streamId is not defined");var i="".concat(a["b"],"/streams/").concat(t,"/make-post"),o={id:t,keepComments:n,isArchive:r,description:s};return a["d"].put(i,o).then((function(e){return e.data}))},S=function(e){if(!e)throw new Error("streamId is not defined");var t="".concat(a["b"],"/streams/").concat(e,"/covers");return a["d"].get(t).then((function(e){return e.data}))},x=function(e,t){if(!e)throw new Error("streamId is not defined");var n="".concat(a["b"],"/streams/").concat(e,"/cover");return a["d"].put(n,t).then((function(e){return e.data}))},P=function(e){var t=e.streamId,n=e.userId,r=e.ban,s=void 0!==r&&r;if(!t||!n)throw new Error("streamId or userId is not defined");var i="".concat(a["b"],"/streams/block"),o={streamId:t,userId:n,isPermanent:s};return a["d"].post(i,o).then((function(e){return e.data}))},I=function(e){var t=e.streamId;if(!t)throw new Error("joinDualStreamRequest: streamId is not defined");var n="".concat(a["b"],"/streams/").concat(t,"/join");return a["d"].post(n).then((function(e){return e.data}))},C=function(e){var t=e.streamId,n=e.userId;if(!t||!n)throw new Error("acceptDualStreamRequest: streamId or userId is not defined");var r="".concat(a["b"],"/streams/").concat(t,"/users/").concat(n,"/accept");return a["d"].post(r).then((function(e){return e.data}))},R=function(e){var t=e.streamId,n=e.userId;if(!t||!n)throw new Error("declineDualStreamRequest: streamId or userId is not defined");var r="".concat(a["b"],"/streams/").concat(t,"/users/").concat(n,"/decline");return a["d"].post(r).then((function(e){return e.data}))},T=function(e){if(!e)throw new Error("streamId is not defined");var t="".concat(a["b"],"/streams/").concat(e,"/look");return a["d"].post(t).then((function(e){return e.data}))},_=function(e){if(!e)throw new Error("streamId is not defined");var t="".concat(a["b"],"/streams/").concat(e,"/look");return a["d"].delete(t).then((function(e){return e.data}))},A=function(e,t){if(!e)throw new Error("streamId is not defined");var n="".concat(a["b"],"/streams/").concat(e,"/like");return a["d"].post(n,t).then((function(e){return e.data}))},L=function(e,t,n){if(!e)throw new Error("streamId is not defined");var r="".concat(a["b"],"/streams/").concat(e,"/comments"),s={comment:t};return n&&(s.userId=n),a["d"].post(r,s).then((function(e){return e.data}))},E=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.id,r=t.limit,s=void 0===r?a["e"]:r;if(!e)throw new Error("streamId is not defined");var i=Object(a["c"])({id:n,limit:s}),o="".concat(a["b"],"/streams/").concat(e,"/comments").concat(i);return a["d"].get(o).then((function(e){return e.data}))},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.includeUserListIds,n=void 0===t?"":t,r=e.excludeUserListIds,s=void 0===r?"":r,i=e.scheduledSubscribedOn,o=void 0===i?"":i,c=e.subscribersIds,u=void 0===c?"":c,d=Object(a["c"])({includeUserListIds:n,excludeUserListIds:s,scheduledSubscribedOn:o,subscribersIds:u}),l="".concat(a["b"],"/streams/users/count").concat(d);return a["d"].get(l).then((function(e){return e.data}))}},"1cf1":function(e,t,n){"use strict";n.d(t,"p",(function(){return a})),n.d(t,"v",(function(){return s})),n.d(t,"o",(function(){return i})),n.d(t,"u",(function(){return o})),n.d(t,"j",(function(){return c})),n.d(t,"m",(function(){return u})),n.d(t,"g",(function(){return d})),n.d(t,"k",(function(){return l})),n.d(t,"e",(function(){return f})),n.d(t,"f",(function(){return m})),n.d(t,"s",(function(){return p})),n.d(t,"t",(function(){return h})),n.d(t,"n",(function(){return b})),n.d(t,"c",(function(){return g})),n.d(t,"a",(function(){return v})),n.d(t,"r",(function(){return y})),n.d(t,"h",(function(){return w})),n.d(t,"i",(function(){return O})),n.d(t,"b",(function(){return j})),n.d(t,"d",(function(){return k})),n.d(t,"l",(function(){return S})),n.d(t,"q",(function(){return x}));n("55dd");var r=n("b775"),a=function(e){var t="".concat(r["b"],"/users/").concat(e,"/restrict");return r["d"].post(t).then((function(e){return e.data}))},s=function(e){var t="".concat(r["b"],"/users/").concat(e,"/restrict");return r["d"].delete(t).then((function(e){return e.data}))},i=function(e){var t="".concat(r["b"],"/subscriptions/").concat(e,"/hide-posts");return r["d"].put(t).then((function(e){return e.data}))},o=function(e){var t="".concat(r["b"],"/subscriptions/").concat(e,"/hide-posts");return r["d"].delete(t).then((function(e){return e.data}))},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.limit=e.limit||r["e"],e.offset=e.offset||0;var t=Object(r["c"])(e),n="".concat(r["b"],"/subscriptions/subscribes").concat(t);return r["d"].get(n).then((function(e){return e.data}))},u=function(){var e="".concat(r["b"],"/subscriptions/count/all");return r["d"].get(e).then((function(e){return e.data}))},d=function(e,t){var n=Object(r["c"])(e),a="".concat(r["b"],"/subscriptions/subscribers/count").concat(n);return r["d"].get(a,{cancelToken:t}).then((function(e){return e.data}))},l=function(e){var t=Object(r["c"])(e),n="".concat(r["b"],"/subscriptions/subscribes/count").concat(t);return r["d"].get(n).then((function(e){return e.data}))},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.limit,n=void 0===t?r["e"]:t,a=e.offset,s=void 0===a?0:a,i=e.query,o=e.sort,c=e.field,u=e.type,d=e.filter,l=Object(r["c"])({limit:n,offset:s,query:i,sort:o,field:c,type:u,filter:d}),f="".concat(r["b"],"/subscriptions/subscribers").concat(l);return r["d"].get(f).then((function(e){return e.data}))},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.limit,n=void 0===t?r["e"]:t,a=e.offset,s=void 0===a?0:a,i=e.filter,o=Object(r["c"])({limit:n,offset:s,filter:i}),c="".concat(r["b"],"/subscriptions/subscribers/awards").concat(o);return r["d"].get(c).then((function(e){return e.data}))},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,n=e.discount,a=void 0===n?0:n,s=e.period,i=void 0===s?0:s,o="".concat(r["b"],"/subscriptions/").concat(t,"/discount");return r["d"].put(o,{discount:a,period:i}).then((function(e){return e.data}))},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.subscribeDays,n=e.subscribeCounts,a=e.expireDays,s="".concat(r["b"],"/trials");return r["d"].post(s,{subscribeDays:t,subscribeCounts:n,expireDays:a}).then((function(e){return e.data}))},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.limit,n=void 0===t?r["e"]:t,a=e.offset,s=void 0===a?0:a,i=Object(r["c"])({limit:n,offset:s,pagination:1}),o="".concat(r["b"],"/trials").concat(i);return r["d"].get(o).then((function(e){return e.data}))},g=function(e){var t="".concat(r["b"],"/trials/").concat(e);return r["d"].delete(t).then((function(e){return e.data}))},v=function(e){var t=e.id,n=e.on,a=void 0===n||n,s=e.place,i="".concat(r["b"],"/subscriptions/").concat(t,"/autoprolong"),o=a?"put":"delete",c={};return s&&"put"===o&&(c.place=s),r["d"][o](i,c).then((function(e){return e.data}))},y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="".concat(r["b"],"/subscriptions/").concat(e);return r["d"].put(n,t).then((function(e){return e.data}))},w=function(e){var t=e.start,n=(e.end,"".concat(r["b"],"/subscriptions/stats?startDate=").concat(t));return r["d"].get(n).then((function(e){return e.data}))},O=function(e){var t=Object(r["c"])({filter:e}),n="".concat(r["b"],"/subscriptions/subscribers/awards/count").concat(t);return r["d"].get(n).then((function(e){return e.data}))},j=function(e){var t="".concat(r["b"],"/subscriptions/").concat(e,"/price-change-hint");return r["d"].delete(t).then((function(e){return e.data}))},k=function(e){var t=e.state,n=e.skipUsers,a=Object(r["c"])({state:t,skip_users:n,skip_users_dups:1}),s="".concat(r["b"],"/subscriptions/subscribers/recent-expired").concat(a);return r["d"].get(s).then((function(e){return e.data}))},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.userId,n=e.subscriberId,a=e.token,s="".concat(r["b"],"/subscriptions/tokens/").concat(t,"/").concat(n,"/").concat(a,"/request");return r["d"].post(s).then((function(e){return e.data}))},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.userId,n=e.subscriberId,a=e.token,s="".concat(r["b"],"/subscriptions/tokens/").concat(t,"/").concat(n,"/").concat(a,"/confirm");return r["d"].post(s).then((function(e){return e.data}))}},"1e36":function(e,t,n){"use strict";n("8e6e"),n("456d"),n("5df3"),n("ac6a");var r=n("7618"),a=(n("96cf"),n("3b8d")),s=n("bd86"),i=n("f05e"),o=n("d634");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){Object(s["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t["a"]={computed:u({},Object(o["ob"])(["paymentsLoaded"])),methods:u(u({},Object(o["nb"])(["setPaymentsLoaded","setUnavailablePaymentGates"])),{},{getPaymentsJs:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,n,s=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.paymentsLoaded){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return this.setPaymentsLoaded("loading"),e.prev=3,e.next=6,Object(i["i"])();case 6:t=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e["catch"](3),this.setPaymentsLoaded(!1),e.abrupt("return",Promise.reject());case 13:if("object"===Object(r["a"])(t)){e.next=16;break}return this.setPaymentsLoaded(!1),e.abrupt("return",Promise.reject());case 16:return n=[],t.vendorUrls.forEach((function(e){var t=e.name,r=e.url;s.$unloadScript(r).catch((function(){}));var a=s.$loadScript(r).then((function(){return{status:"ok",name:t}}),(function(){return{status:"fail",name:t}}));n.push(a)})),e.next=20,Promise.all(n).then(function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",s.$loadScript(t.scriptUrl).then((function(){s.setUnavailablePaymentGates(n),s.setPaymentsLoaded("complete")})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(){return s.setPaymentsLoaded(!1),Promise.reject()}));case 20:case"end":return e.stop()}}),e,this,[[3,9]])})));function t(){return e.apply(this,arguments)}return t}()})}},2612:function(e,t,n){"use strict";n.d(t,"v",(function(){return u})),n.d(t,"d",(function(){return d})),n.d(t,"bb",(function(){return l})),n.d(t,"c",(function(){return f})),n.d(t,"cb",(function(){return m})),n.d(t,"W",(function(){return p})),n.d(t,"T",(function(){return h})),n.d(t,"F",(function(){return b})),n.d(t,"G",(function(){return g})),n.d(t,"D",(function(){return v})),n.d(t,"hb",(function(){return y})),n.d(t,"eb",(function(){return w})),n.d(t,"jb",(function(){return O})),n.d(t,"p",(function(){return j})),n.d(t,"ib",(function(){return k})),n.d(t,"Db",(function(){return S})),n.d(t,"wb",(function(){return x})),n.d(t,"ob",(function(){return P})),n.d(t,"Ab",(function(){return I})),n.d(t,"t",(function(){return C})),n.d(t,"r",(function(){return R})),n.d(t,"w",(function(){return T})),n.d(t,"l",(function(){return _})),n.d(t,"n",(function(){return A})),n.d(t,"A",(function(){return L})),n.d(t,"m",(function(){return E})),n.d(t,"o",(function(){return M})),n.d(t,"K",(function(){return U})),n.d(t,"I",(function(){return D})),n.d(t,"u",(function(){return F})),n.d(t,"C",(function(){return B})),n.d(t,"sb",(function(){return N})),n.d(t,"kb",(function(){return q})),n.d(t,"Cb",(function(){return V})),n.d(t,"b",(function(){return $})),n.d(t,"zb",(function(){return H})),n.d(t,"pb",(function(){return G})),n.d(t,"lb",(function(){return z})),n.d(t,"Bb",(function(){return W})),n.d(t,"s",(function(){return Y})),n.d(t,"R",(function(){return X})),n.d(t,"a",(function(){return Q})),n.d(t,"yb",(function(){return K})),n.d(t,"y",(function(){return J})),n.d(t,"N",(function(){return Z})),n.d(t,"O",(function(){return ee})),n.d(t,"tb",(function(){return te})),n.d(t,"P",(function(){return ne})),n.d(t,"ub",(function(){return re})),n.d(t,"z",(function(){return ae})),n.d(t,"g",(function(){return se})),n.d(t,"h",(function(){return ie})),n.d(t,"i",(function(){return oe})),n.d(t,"q",(function(){return ce})),n.d(t,"xb",(function(){return ue})),n.d(t,"Y",(function(){return de})),n.d(t,"rb",(function(){return le})),n.d(t,"qb",(function(){return fe})),n.d(t,"H",(function(){return me})),n.d(t,"X",(function(){return pe})),n.d(t,"E",(function(){return he})),n.d(t,"M",(function(){return be})),n.d(t,"ab",(function(){return ge})),n.d(t,"Z",(function(){return ve})),n.d(t,"fb",(function(){return ye})),n.d(t,"nb",(function(){return we})),n.d(t,"S",(function(){return Oe})),n.d(t,"vb",(function(){return je})),n.d(t,"mb",(function(){return ke})),n.d(t,"f",(function(){return Se})),n.d(t,"Q",(function(){return xe})),n.d(t,"x",(function(){return Pe})),n.d(t,"e",(function(){return Ie})),n.d(t,"B",(function(){return Ce})),n.d(t,"U",(function(){return Re})),n.d(t,"db",(function(){return Te})),n.d(t,"L",(function(){return _e})),n.d(t,"k",(function(){return Ae})),n.d(t,"j",(function(){return Le})),n.d(t,"gb",(function(){return Ee})),n.d(t,"J",(function(){return Me})),n.d(t,"V",(function(){return Ue}));n("8e6e"),n("ac6a"),n("456d");var r=n("bd86"),a=(n("55dd"),n("b775")),s=n("af89"),i=function(e){switch(e){case"likes":return"favorites";case"media":return"medias";default:return e}};function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=function(){var e="".concat(a["b"],"/users/me");return a["d"].get(e,{"axios-retry":{retries:1}}).then((function(e){return Object(s["a"])(e.data)}))},d=function(e){var t="".concat(a["b"],"/users/me");return a["d"].put(t,e).then((function(e){return e.data}))},l=function(e){var t="".concat(a["b"],"/users/me");return a["d"].patch(t,e).then((function(e){return e.data}))},f=function(e,t){var n="".concat(a["b"],"/users/me/settings/").concat(t);return a["d"].put(n,e).then((function(e){return e.data}))},m=function(e,t){var n="".concat(a["b"],"/users/me/settings/").concat(t);return a["d"].patch(n,e).then((function(e){return e.data}))},p=function(){var e="".concat(a["b"],"/users/me/settings");return a["d"].get(e).then((function(e){return e.data}))},h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object(a["c"])(t),r="".concat(a["b"],"/users/").concat(encodeURIComponent(e)).concat(n);return a["d"].get(r).then((function(e){return e.data}))},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,n=e.limit,r=void 0===n?a["e"]:n,s=e.type,o=e.query,c=e.order,u=void 0===c?"publish_date_desc":c,d=e.filter,l=e.only_can_view,f=e.beforePublishTime,m=e.afterPublishTime,p=e.pinned,h=e.cancelToken,b="".concat(a["b"],"/users/").concat(t,"/posts");"posts"!==s&&(b+="/".concat(i(s)));var g=Object(a["c"])({limit:r,query:o,order:u,filter:d,skip_users:"all",skip_users_dups:1,only_can_view:l,beforePublishTime:f,afterPublishTime:m,pinned:p,format:"infinite"});return b+="".concat(g),a["d"].get(b,{cancelToken:h}).then((function(e){return e.data}))},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,n=e.cancelToken,r=Object(a["c"])({skip_users:"all",skip_users_dups:1,pinned:1,cancelToken:n,format:"infinite"}),s="".concat(a["b"],"/users/").concat(t,"/posts").concat(r);return a["d"].get(s,{cancelToken:n}).then((function(e){return e.data}))},v=function(){var e="".concat(a["b"],"/users/otp/code");return a["d"].get(e).then((function(e){return e.data}))},y=function(e,t){var n="".concat(a["b"],"/users/otp");return a["d"].put(n,{code:e,rememberMe:t}).then((function(e){return e.data}))},w=function(e,t){var n="".concat(a["b"],"/users/otp/check");return a["d"].post(n,{code:e,rememberMe:t}).then((function(e){return e.data}))},O=function(){var e="".concat(a["b"],"/users/otp/phone");return a["d"].put(e).then((function(e){return e.data}))},j=function(e){var t="".concat(a["b"],"/users/otp");return a["d"].delete(t,{data:{code:e}}).then((function(e){return e.data}))},k=function(){var e="".concat(a["b"],"/users/otp/alternative");return a["d"].put(e).then((function(e){return e.data}))},S=function(e){var t="".concat(a["b"],"/users/exists");return a["d"].post(t,{username:e}).then((function(e){return e.data}))},x=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.recommender,r=t.source,s="".concat(a["b"],"/users/").concat(e,"/subscribe");return a["d"].post(s,{recommender:n,source:r}).then((function(e){return e.data}))},P=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.source,r="".concat(a["b"],"/users/").concat(e,"/resubscribe");return a["d"].post(r,{source:n}).then((function(e){return e.data}))},I=function(e,t){var n=t.reasonId,r="".concat(a["b"],"/users/").concat(e,"/subscribe");return a["d"].delete(r,{data:{reason:n}}).then((function(e){return e.data}))},C=function(){var e="".concat(a["b"],"/users/social/twitter");return a["d"].delete(e).then((function(e){return e.data}))},R=function(){var e="".concat(a["b"],"/users/social/google");return a["d"].delete(e).then((function(e){return e.data}))},T=function(){var e="".concat(a["b"],"/users/alert");return a["d"].get(e).then((function(e){return e.data}))},_=function(e){var t="".concat(a["b"],"/users/alert/").concat(e);return a["d"].delete(t).then((function(e){return e.data}))},A=function(e){var t="".concat(a["b"],"/users/mass-alert/").concat(e);return a["d"].delete(t).then((function(e){return e.data}))},L=function(){var e="".concat(a["b"],"/users/hints");return a["d"].get(e).then((function(e){return e.data}))},E=function(e){var t="".concat(a["b"],"/users/hints/").concat(e);return a["d"].delete(t).then((function(e){return e.data}))},M=function(e){var t="".concat(a["b"],"/users/mass-hints/").concat(e);return a["d"].delete(t).then((function(e){return e.data}))},U=function(e){var t=e.firstFeedPostUserId,n=e.state,r=e.skipUsers,s=Object(a["c"])({firstFeedPostUserId:t,state:n,skip_users:r,skip_users_dups:1}),i="".concat(a["b"],"/users/recommends").concat(s);return a["d"].get(i).then((function(e){return e.data}))},D=function(){var e="".concat(a["b"],"/users/promotions");return a["d"].get(e).then((function(e){return e.data}))},F=function(e){var t="".concat(a["b"],"/users/forgot-password");return a["d"].post(t,e).then((function(e){return e.data}))},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.limit,n=void 0===t?a["e"]:t,r=e.offset,s=void 0===r?0:r,i=e.type,o=e.related_user,c=e.cancelToken,u=e.skipUsers,d=Object(a["c"])({limit:n,offset:s,type:i,related_user:o,skip_users:u,skip_users_dups:1}),l="".concat(a["b"],"/users/notifications").concat(d);return a["d"].get(l,{cancelToken:c}).then((function(e){return e.data}))},N=function(){var e="".concat(a["b"],"/users/notifications/read");return a["d"].post(e).then((function(e){return e.data}))},q=function(e){var t="".concat(a["b"],"/users/settings/notifications");return a["d"].patch(t,e).then((function(e){return e.data}))},V=function(e){var t="".concat(a["b"],"/users/push-token/pwa");return a["d"].put(t,e).then((function(e){return e.data}))},$=function(e){var t=e.oldPassword,n=e.newPassword,r=e.checkPassword,s="".concat(a["b"],"/users/change-password");return a["d"].post(s,{oldPassword:t,newPassword:n,checkPassword:r}).then((function(e){return e.data}))},H=function(e){var t="".concat(a["b"],"/users/").concat(e,"/friend");return a["d"].delete(t).then((function(e){return e.data}))},G=function(e){var t="".concat(a["b"],"/users/delete/request");return a["d"].post(t,{captchaCode:e}).then((function(e){return e.data}))},z=function(){var e="".concat(a["b"],"/users/delete/request");return a["d"].delete(e).then((function(e){return e.data}))},W=function(e){var t="".concat(a["b"],"/phones/change");return a["d"].post(t,e).then((function(e){return e.data}))},Y=function(e){var t="".concat(a["b"],"/phones/change");return a["d"].delete(t,e).then((function(e){return e.data}))},X=function(){var e="".concat(a["b"],"/users/telegram-link");return a["d"].get(e).then((function(e){return e.data}))},Q=function(e){var t="".concat(a["b"],"/users/").concat(e,"/block");return a["d"].post(t).then((function(e){return e.data}))},K=function(e){var t="".concat(a["b"],"/users/").concat(e,"/block");return a["d"].delete(t).then((function(e){return e.data}))},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.limit,n=void 0===t?a["e"]:t,r=e.offset,s=void 0===r?0:r,i=e.query,o=e.sort,c=e.field,u=e.filter,d=Object(a["c"])({limit:n,offset:s,query:i,sort:o,field:c,filter:u}),l="".concat(a["b"],"/users/blocked").concat(d);return a["d"].get(l).then((function(e){return e.data}))},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.limit,n=void 0===t?a["e"]:t,r=e.offset,s=void 0===r?0:r,i=e.query,o=e.allUsers,c=e.view,u=void 0===c?"se":c,d=Object(a["c"])({limit:n,offset:s,query:i,all_users:o,view:u}),l="".concat(a["b"],"/users").concat(d);return a["d"].get(l).then((function(e){return e.data}))},ee=function(){var e="".concat(a["b"],"/users/settings/post");return a["d"].get(e).then((function(e){return e.data}))},te=function(e){var t="".concat(a["b"],"/users/settings/post");return a["d"].patch(t,{periodPublishLaterPost:e}).then((function(e){return e.data}))},ne=function(){var e="".concat(a["b"],"/users/settings/story");return a["d"].get(e).then((function(e){return e.data}))},re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="".concat(a["b"],"/users/settings/story");return a["d"].patch(t,e).then((function(e){return e.data}))},ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.userId,n=e.limit,r=void 0===n?a["e"]:n,s=e.offset,i=void 0===s?0:s,o=Object(a["c"])({limit:r,offset:i}),c="".concat(a["b"],"/users/").concat(t,"/friends").concat(o);return a["d"].get(c).then((function(e){return e.data}))},se=function(e){var t="".concat(a["b"],"/users/connect");return a["d"].post(t,e).then((function(e){return e.data}))},ie=function(e){var t="".concat(a["b"],"/users/get-auth-token");return a["d"].post(t,e).then((function(e){return e.data}))},oe=function(e){var t="".concat(a["b"],"/users/get-otp-token");return a["d"].post(t,e).then((function(e){return e.data}))},ce=function(e){var t="".concat(a["b"],"/users/connect/").concat(e);return a["d"].delete(t).then((function(e){return e.data}))},ue=function(e){var t="".concat(a["b"],"/users/switch/").concat(e);return a["d"].post(t).then((function(e){return e.data}))},de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.limit,n=void 0===t?a["e"]:t,r=e.offset,s=void 0===r?0:r,i=e.query,o=Object(a["c"])({limit:n,offset:s,query:i}),c="".concat(a["b"],"/users/mention").concat(o);return a["d"].get(c).then((function(e){return e.data}))},le=function(e){var t="".concat(a["b"],"/users/profile/stats-collect");return a["d"].post(t,e).then((function(e){return e.data}))},fe=function(e){var t="".concat(a["b"],"/users/profile/visit");return a["d"].post(t,e).then((function(e){return e.data}))},me=function(){var e="".concat(a["b"],"/users/me/profile/stats?period=day&limit=10");return a["d"].get(e).then((function(e){return e.data}))},pe=function(e){var t="".concat(a["b"],"/users/list");return a["d"].post(t,e).then((function(e){return e.data}))},he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.userId,n=e.limit,r=void 0===n?8:n,s=e.offset,i=void 0===s?0:s,o=e.skip_users,c=void 0===o?void 0:o,u=Object(a["c"])({limit:r,offset:i,skip_users:c}),d="".concat(a["b"],"/users/").concat(t,"/streams").concat(u);return a["d"].get(d).then((function(e){return e.data}))},be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.userId,n=e.limit,r=void 0===n?8:n,s=e.offset,i=void 0===s?0:s,o=Object(a["c"])({limit:r,offset:i}),c="".concat(a["b"],"/users/").concat(t,"/streams/scheduled").concat(o);return a["d"].get(c).then((function(e){return e.data}))},ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.limit,n=void 0===t?a["e"]:t,r=e.offset,s=void 0===r?0:r,i=e.status,o=e.order,c=e.cancelToken,u=Object(a["c"])({limit:n,offset:s,status:i,order:o}),d="".concat(a["b"],"/users/tickets").concat(u);return a["d"].get(d,{cancelToken:c}).then((function(e){return e.data}))},ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,n="".concat(a["b"],"/users/tickets/").concat(t);return a["d"].get(n).then((function(e){return e.data}))},ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="".concat(a["b"],"/users/tickets");return a["d"].post(t,e).then((function(e){return e.data}))},we=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="".concat(a["b"],"/users/tickets/").concat(e,"/reply");return a["d"].post(n,t).then((function(e){return e.data}))},Oe=function(e){var t=e.id,n=e.limit,r=void 0===n?a["e"]:n,s=e.offset,i=void 0===s?0:s,o=Object(a["c"])({limit:r,offset:i,html:1}),c="".concat(a["b"],"/users/tickets/").concat(t,"/comments").concat(o);return a["d"].get(c).then((function(e){return e.data}))},je=function(e){var t="".concat(a["b"],"/users/tickets/").concat(e,"/solve");return a["d"].post(t).then((function(e){return e.data}))},ke=function(e){var t=e.id,n=e.data,r="".concat(a["b"],"/users/tickets/").concat(t,"/reopen");return a["d"].put(r,n).then((function(e){return e.data}))},Se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="".concat(a["b"],"/users/tickets/allowed");return a["d"].post(t,e).then((function(e){return e.data}))},xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="".concat(a["b"],"/users/me/strong_otp_codes");return a["d"].get(t,e).then((function(e){return e.data}))},Pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="".concat(a["b"],"/users/me/auth-token");return a["d"].get(t,e).then((function(e){return e.data}))},Ie=function(e){var t="".concat(a["b"],"/users/card-auth/check");return a["d"].post(t,{first6:e}).then((function(e){return e.data}))},Ce=function(){var e="".concat(a["b"],"/users/links");return a["d"].get(e).then((function(e){return e.data}))},Re=function(e){var t="".concat(a["b"],"/users/").concat(e,"/links");return a["d"].get(t).then((function(e){return e.data}))},Te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="".concat(a["b"],"/users/links");return a["d"].post(t,e).then((function(e){return e.data}))},_e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.limit,n=void 0===t?a["e"]:t,r=e.offset,s=void 0===r?0:r,i=e.query,o=e.sort,c=e.field,u=e.filter,d=Object(a["c"])({limit:n,offset:s,query:i,sort:o,field:c,filter:u}),l="".concat(a["b"],"/users/restrict").concat(d);return a["d"].get(l).then((function(e){return e.data}))},Ae=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="".concat(a["b"],"/iv/start");return a["d"].post(n,c({source:e},t)).then((function(e){return e.data}))},Le=function(){var e="".concat(a["b"],"/age-verifier/start");return a["d"].post(e).then((function(e){return e.data}))},Ee=function(e){var t="".concat(a["b"],"/face-id/start");return a["d"].post(t,{rememberMe:e}).then((function(e){return e.data}))},Me=function(){var e="".concat(a["b"],"/users/me/profile/views/qr");return a["d"].get(e).then((function(e){return e.data}))},Ue=function(){var e="".concat(a["b"],"/users/me/id");return a["d"].get(e).then((function(e){return e.data}))}},2834:function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return b})),n.d(t,"getters",(function(){return g})),n.d(t,"mutations",(function(){return v})),n.d(t,"actions",(function(){return y}));n("8e6e"),n("ac6a"),n("456d"),n("96cf");var r=n("3b8d"),a=n("bd86"),s=n("5e23"),i=n("559d"),o=n("09e4"),c=n("b775"),u=function(e){var t="".concat(c["b"],"/subscriptions/bundles");return c["d"].post(t,e).then((function(e){return e.data}))},d=function(){var e="".concat(c["b"],"/subscriptions/bundles");return c["d"].get(e).then((function(e){return e.data}))},l=function(e){var t="".concat(c["b"],"/subscriptions/bundles/").concat(e.id);return c["d"].put(t,e).then((function(e){return e.data}))},f=function(e){var t="".concat(c["b"],"/subscriptions/bundles/").concat(e);return c["d"].delete(t).then((function(e){return e.data}))};function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h=function(){return{items:{},loading:!1}},b=h(),g={getBundles:function(e){return function(t){return t.map((function(t){return e.items[t]}))}}},v={deleteBundle:function(e,t){var n=p({},e.items);delete n[t],e.items=n},logout:function(e){Object.assign(e,h())}},y={fetchBundles:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.prev=1,e.next=4,d();case 4:r=e.sent,r&&r.length&&(a=Object(s["a"])(r,i["s"]),n("set",a,{root:!0}),n("setBundles",a.result)),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),Sentry.captureException(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));function t(t){return e.apply(this,arguments)}return t}(),saveBundle:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,c,d,f;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=t.commit,a=t.rootGetters,e.prev=1,!n.id){e.next=8;break}return e.next=5,l(n);case 5:c=e.sent,e.next=11;break;case 8:return e.next=10,u(n);case 10:c=e.sent;case 11:c&&c.id&&(d=Object(s["a"])(c,i["t"]),r("set",d,{root:!0}),f=a["auth/authUserId"],r("users/setBundle",{userId:f,bundleId:c.id},{root:!0})),e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](1),Object(o["b"])(e.t0);case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));function t(t,n){return e.apply(this,arguments)}return t}(),deleteBundle:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,a=t.rootGetters,e.prev=1,e.next=4,f(n);case 4:s=e.sent,s&&(i=a["auth/authUserId"],r("users/deleteBundle",{userId:i,bundleId:n},{root:!0}),r("deleteBundle",n)),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),Object(o["b"])(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));function t(t,n){return e.apply(this,arguments)}return t}()}},"2a74":function(e,t,n){"use strict";n.r(t);n("8e6e"),n("456d");var r=n("bd86"),a=(n("a481"),n("ac6a"),n("bba4")),s=n.n(a);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c=n("539d"),u={};c.keys().forEach((function(e){if("./index.js"!==e){var t=s()(e.replace(/(\.\/|\.js)/g,""));u[t]=o({namespaced:!0},c(e))}})),t["default"]=u},"2c20":function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return f})),n.d(t,"mutations",(function(){return m})),n.d(t,"actions",(function(){return p}));n("8e6e"),n("ac6a"),n("456d"),n("96cf");var r=n("3b8d"),a=n("bd86"),s=n("75fc"),i=n("5e23"),o=n("45ff"),c=n("559d");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=function(){return{referralsIds:[],earnings:[],referralsLoading:!1,earningsLoading:!1,counts:{}}},f=l(),m={setReferralsLoading:function(e,t){e.referralsLoading=t},setEarningsLoading:function(e,t){e.earningsLoading=t},setReferralsIds:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.items,r=void 0===n?[]:n,a=t.more,i=void 0!==a&&a;e.referralsIds=i?[].concat(Object(s["a"])(e.referralsIds),Object(s["a"])(r)):r},setEarnings:function(e,t){var n=t.items,r=t.more;e.earnings=r?[].concat(Object(s["a"])(e.earnings),Object(s["a"])(n)):Object(s["a"])(n)},setCounts:function(e,t){var n=t.count,r=t.data;e.counts=d(d({},e.counts),{},Object(a["a"])({},r.is_performer?"performers":"users",n))},logout:function(e){Object.assign(e,l())}},p={fetchReferrals:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,s,u,d,l,f,m,p=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,r=p.length>1&&void 0!==p[1]?p[1]:{},a=r.limit,s=r.offset,u=r.query,d=r.more,l=r.is_performer,n("setReferralsLoading",!0),d||n("setReferralsIds"),e.prev=4,e.next=7,Object(o["b"])({limit:a,offset:s,query:u,is_performer:l});case 7:return f=e.sent,m=Object(i["a"])(f,c["y"]),n("set",m,{root:!0}),n("setReferralsIds",{items:m.result,more:d}),n("setReferralsLoading",!1),e.abrupt("return",m.result);case 15:e.prev=15,e.t0=e["catch"](4);case 17:return e.abrupt("return",[]);case 18:case"end":return e.stop()}}),e,null,[[4,15]])})));function t(t){return e.apply(this,arguments)}return t}(),fetchEarnings:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,s,i,c,u,d=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,r=d.length>1&&void 0!==d[1]?d[1]:{},a=r.limit,s=r.offset,i=r.more,n("setEarningsLoading",!0),i||n("setEarnings",{items:[],more:i}),e.prev=4,e.next=7,Object(o["a"])({limit:a,offset:s});case 7:u=e.sent,c=u.list||[],e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](4),c=[];case 14:return n("setEarnings",{items:c,more:i}),n("setEarningsLoading",!1),e.abrupt("return",c);case 17:case"end":return e.stop()}}),e,null,[[4,11]])})));function t(t){return e.apply(this,arguments)}return t}(),fetchCounts:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.prev=1,e.next=4,Object(o["d"])(n);case 4:a=e.sent,a&&void 0!==a.count&&r("setCounts",{count:a.count,data:n}),e.next=10;break;case 8:e.prev=8,e.t0=e["catch"](1);case 10:case"end":return e.stop()}}),e,null,[[1,8]])})));function t(t,n){return e.apply(this,arguments)}return t}()}},3234:function(e,t,n){var r={"./af.js":["56f9","vendor"],"./am.js":["19b2","chunk-410a469c"],"./ar-dz.js":["7572","chunk-410a469c"],"./ar-kw.js":["36c0","chunk-410a469c"],"./ar-ly.js":["1852","chunk-410a469c"],"./ar-ma.js":["ab7f","chunk-410a469c"],"./ar-sa.js":["003e","chunk-410a469c"],"./ar-tn.js":["ca42","chunk-410a469c"],"./ar.js":["ccd1","chunk-a66a5cba"],"./az.js":["2473","chunk-410a469c"],"./be.js":["1076","chunk-410a469c"],"./bg.js":["2c89","chunk-410a469c"],"./bi.js":["0f8d","vendor"],"./bm.js":["f87d","chunk-410a469c"],"./bn.js":["4b2f","chunk-f1664542"],"./bo.js":["dc76","chunk-410a469c"],"./br.js":["38d9","chunk-410a469c"],"./bs.js":["8f13","vendor"],"./ca.js":["b2e7","chunk-410a469c"],"./cs.js":["2573","chunk-a66a5cba"],"./cv.js":["f856","chunk-410a469c"],"./cy.js":["bfe8","chunk-410a469c"],"./da.js":["919b","chunk-410a469c"],"./de-at.js":["240e","chunk-410a469c"],"./de-ch.js":["a8f5","vendor"],"./de.js":["6210","chunk-410a469c"],"./dv.js":["238b","chunk-a66a5cba"],"./el.js":["ae4f","chunk-410a469c"],"./en-au.js":["8f89","chunk-f1664542"],"./en-ca.js":["433a","chunk-f1664542"],"./en-gb.js":["f719","chunk-410a469c"],"./en-ie.js":["f349","chunk-f1664542"],"./en-il.js":["2c80","chunk-f1664542"],"./en-in.js":["1055","chunk-410a469c"],"./en-nz.js":["c1b3","chunk-410a469c"],"./en-sg.js":["db15","chunk-f1664542"],"./en-tt.js":["7185","chunk-410a469c"],"./en.js":["9e30","vendor"],"./eo.js":["1aae","chunk-410a469c"],"./es-do.js":["24f9","chunk-410a469c"],"./es-pr.js":["e976","chunk-410a469c"],"./es-us.js":["6e26","chunk-410a469c"],"./es.js":["e072","chunk-410a469c"],"./et.js":["5f23","chunk-410a469c"],"./eu.js":["1253","chunk-410a469c"],"./fa.js":["5204","chunk-410a469c"],"./fi.js":["3039","chunk-f1664542"],"./fo.js":["c588","chunk-410a469c"],"./fr-ca.js":["150b","chunk-410a469c"],"./fr-ch.js":["929d","chunk-410a469c"],"./fr.js":["e5b7","chunk-410a469c"],"./fy.js":["741e","chunk-410a469c"],"./ga.js":["f3ad","chunk-410a469c"],"./gd.js":["25c8","chunk-410a469c"],"./gl.js":["05c9","chunk-f1664542"],"./gom-latn.js":["189b","chunk-f1664542"],"./gu.js":["6294","chunk-a66a5cba"],"./he.js":["c89b","chunk-a66a5cba"],"./hi.js":["b23b","chunk-a66a5cba"],"./hr.js":["1351","chunk-410a469c"],"./ht.js":["3b2e","chunk-f1664542"],"./hu.js":["f17b","chunk-a66a5cba"],"./hy-am.js":["4d93","chunk-410a469c"],"./id.js":["8327","chunk-f1664542"],"./is.js":["8719","chunk-f1664542"],"./it-ch.js":["33fb","chunk-a66a5cba"],"./it.js":["e4cc","chunk-410a469c"],"./ja.js":["5999","chunk-410a469c"],"./jv.js":["9d97","chunk-410a469c"],"./ka.js":["d25c","chunk-a66a5cba"],"./kk.js":["9033","chunk-410a469c"],"./km.js":["f661","chunk-a66a5cba"],"./kn.js":["eac9","chunk-a66a5cba"],"./ko.js":["f20b","chunk-410a469c"],"./ku.js":["7562","chunk-a66a5cba"],"./ky.js":["9075","chunk-410a469c"],"./lb.js":["fbdf","chunk-f1664542"],"./lo.js":["34a4","chunk-a66a5cba"],"./lt.js":["c070","chunk-f1664542"],"./lv.js":["4bb3","chunk-410a469c"],"./me.js":["70c6","chunk-a66a5cba"],"./mi.js":["37ad","chunk-410a469c"],"./mk.js":["2c44","chunk-410a469c"],"./ml.js":["ac6a9","chunk-f1664542"],"./mn.js":["5947","chunk-410a469c"],"./mr.js":["722d","chunk-410a469c"],"./ms-my.js":["9fdb","chunk-f1664542"],"./ms.js":["2a31","chunk-f1664542"],"./mt.js":["7453","chunk-410a469c"],"./my.js":["e443","chunk-a66a5cba"],"./nb.js":["00b0","chunk-410a469c"],"./ne.js":["2d08","chunk-a66a5cba"],"./nl-be.js":["87dc","chunk-410a469c"],"./nl.js":["f469","chunk-410a469c"],"./nn.js":["389d","chunk-410a469c"],"./oc-lnc.js":["656a","chunk-410a469c"],"./pa-in.js":["951e","chunk-a66a5cba"],"./pl.js":["ca0f","chunk-a66a5cba"],"./pt-br.js":["d7ea","chunk-410a469c"],"./pt.js":["8208","chunk-410a469c"],"./ro.js":["67d4","chunk-f1664542"],"./ru.js":["276b","chunk-410a469c"],"./rw.js":["51f9","chunk-f1664542"],"./sd.js":["e6e0","chunk-410a469c"],"./se.js":["8ef1","chunk-410a469c"],"./si.js":["b840","chunk-a66a5cba"],"./sk.js":["2bc2","chunk-a66a5cba"],"./sl.js":["d853","chunk-f1664542"],"./sq.js":["7e81","chunk-f1664542"],"./sr-cyrl.js":["8798","chunk-410a469c"],"./sr.js":["f1e9","chunk-f1664542"],"./ss.js":["f4e0","chunk-410a469c"],"./sv.js":["a7bb","chunk-410a469c"],"./sw.js":["9133","chunk-410a469c"],"./ta.js":["25e9","chunk-f1664542"],"./te.js":["5184","chunk-a66a5cba"],"./tet.js":["32fa","chunk-f1664542"],"./tg.js":["8eb4","chunk-410a469c"],"./th.js":["6b13","chunk-a66a5cba"],"./tk.js":["e50e","chunk-410a469c"],"./tl-ph.js":["066b","chunk-410a469c"],"./tlh.js":["3bf1","chunk-410a469c"],"./tr.js":["5233","chunk-f1664542"],"./tzl.js":["e692","chunk-f1664542"],"./tzm-latn.js":["658b","chunk-410a469c"],"./tzm.js":["cb86","chunk-a66a5cba"],"./ug-cn.js":["59e8","chunk-410a469c"],"./uk.js":["57a0","chunk-410a469c"],"./ur.js":["40a4","chunk-410a469c"],"./uz-latn.js":["8259","chunk-410a469c"],"./uz.js":["b658","chunk-410a469c"],"./vi.js":["11d4","chunk-410a469c"],"./x-pseudo.js":["b28c","chunk-410a469c"],"./yo.js":["4756","chunk-410a469c"],"./zh-cn.js":["a471","chunk-410a469c"],"./zh-hk.js":["385b","chunk-410a469c"],"./zh-tw.js":["5087","chunk-410a469c"],"./zh.js":["2a36","chunk-410a469c"]};function a(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],a=t[0];return n.e(t[1]).then((function(){return n.t(a,7)}))}a.keys=function(){return Object.keys(r)},a.id="3234",e.exports=a},"34b7":function(e,t,n){"use strict";n.d(t,"h",(function(){return a})),n.d(t,"j",(function(){return s})),n.d(t,"k",(function(){return i})),n.d(t,"i",(function(){return o})),n.d(t,"m",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"f",(function(){return l})),n.d(t,"b",(function(){return f})),n.d(t,"g",(function(){return m})),n.d(t,"n",(function(){return p})),n.d(t,"e",(function(){return h})),n.d(t,"c",(function(){return b})),n.d(t,"l",(function(){return g}));var r=n("b775"),a=function(){var e="".concat(r["b"],"/countries");return r["d"].get(e).then((function(e){return e.data}))},s=function(e){var t="".concat(r["b"],"/countries/").concat(e,"/states");return r["d"].get(t).then((function(e){return e.data}))},i=function(e){var t="".concat(r["b"],"/iso/countries/").concat(e,"/states");return r["d"].get(t).then((function(e){return e.data}))},o=function(){var e="".concat(r["b"],"/countries/payouts");return r["d"].get(e).then((function(e){return e.data}))},c=function(){var e="".concat(r["b"],"/users/me/settings/api-tokens");return r["d"].post(e).then((function(e){return e.data}))},u=function(e){var t="".concat(r["b"],"/users/me/settings/api-tokens/").concat(e);return r["d"].delete(t).then((function(e){return e.data}))},d=function(e){var t="".concat(r["b"],"/messages/templates/reply_on_subscribe");return r["d"].post(t,e).then((function(e){return e.data}))},l=function(){var e="".concat(r["b"],"/messages/templates");return r["d"].get(e).then((function(e){return e.data}))},f=function(e){var t="".concat(r["b"],"/messages/templates/").concat(e);return r["d"].delete(t).then((function(e){return e.data}))},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.limit,n=void 0===t?r["e"]:t,a=e.offset,s=void 0===a?0:a,i=Object(r["c"])({limit:n,offset:s}),o="".concat(r["b"],"/changelog").concat(i);return r["d"].get(o).then((function(e){return e.data}))},p=function(e){var t="".concat(r["b"],"/users/me/settings/messages");return r["d"].patch(t,e).then((function(e){return e.data}))},h=function(e){var t="".concat(r["b"],"/emails/change");return r["d"].post(t,e).then((function(e){return e.data}))},b=function(e){var t="".concat(r["b"],"/emails/change");return r["d"].delete(t).then((function(e){return e.data}))},g=function(e){var t="".concat(r["b"],"/users/settings/notifications/").concat(e,"?group=1");return r["d"].get(t).then((function(e){return e.data}))}},3773:function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return d})),n.d(t,"getters",(function(){return l})),n.d(t,"mutations",(function(){return f})),n.d(t,"actions",(function(){return m}));n("8e6e"),n("456d"),n("96cf");var r=n("3b8d"),a=n("bd86"),s=(n("20d6"),n("ac6a"),n("5df3"),n("4f7f"),n("75fc")),i=n("a836");function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=function(){return{messages:[],loading:!1,hasMore:!1}},d=u(),l={messages:function(e){return e.messages},loading:function(e){return e.loading},hasMore:function(e){return e.hasMore}},f={setLoading:function(e,t){e.loading=t},setMessages:function(e,t){var n=t.messages,r=t.more;e.messages=r?Object(s["a"])(new Set([].concat(Object(s["a"])(e.messages),Object(s["a"])(n)))):Object(s["a"])(n)},setMessage:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t&&t.id){var n=e.messages.findIndex((function(e){return e.id===t.id}));n>-1&&(e.messages[n]=c(c({},e.messages[n]),t),e.messages=Object(s["a"])(e.messages))}},setHasMore:function(e,t){e.hasMore=t},resetMassStat:function(e){Object.assign(e,u())},logout:function(e){Object.assign(e,u())}},m={fetchMessagesStat:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,s,o,c,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,a=n.offset,s=n.more,o=n.limit,r("setLoading",!0),e.prev=3,e.next=6,Object(i["i"])({offset:a,limit:o});case 6:return c=e.sent,u=c.list,r("setMessages",{messages:u,more:s}),r("setHasMore",c.hasMore),r("setLoading",!1),e.abrupt("return",c);case 14:return e.prev=14,e.t0=e["catch"](3),r("setHasMore",!1),r("setLoading",!1),e.abrupt("return",{});case 19:case"end":return e.stop()}}),e,null,[[3,14]])})));function t(t,n){return e.apply(this,arguments)}return t}()}},3786:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"f",(function(){return s})),n.d(t,"e",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return c})),n.d(t,"a",(function(){return u}));var r=n("b775"),a=function(e){var t="".concat(r["b"],"/users/login");return r["d"].post(t,e).then((function(e){return e.data}))},s=function(){var e="".concat(r["b"],"/users/logout");return r["d"].post(e).then((function(e){return e.data}))},i=function(e){var t="".concat(r["b"],"/users/register");return r["d"].post(t,e).then((function(e){return e.data}))},o=function(e){var t="".concat(r["b"],"/users/login-as-referral/").concat(e);return r["d"].get(t).then((function(e){return e.data}))},c=function(){var e="".concat(r["b"],"/users/logout-from-referral");return r["d"].get(e).then((function(e){return e.data}))},u=function(){var e="".concat(r["b"],"/oauth/confirm");return r["d"].get(e).then((function(e){return e.data}))}},"39db":function(e,t,n){"use strict";n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return p})),n.d(t,"d",(function(){return h}));var r=function(){return Promise.all([n.e("vendor-amcharts"),n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("chats~lists~live~main~mediaVault~streaming"),n.e("lists")]).then(n.bind(null,"dbcb"))},a=function(){return Promise.all([n.e("vendor-amcharts"),n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("chats~lists~live~main~mediaVault~streaming"),n.e("lists")]).then(n.bind(null,"af87"))},s=function(){return Promise.all([n.e("vendor-amcharts"),n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("chats~lists~live~main~mediaVault~streaming"),n.e("lists")]).then(n.bind(null,"2217"))},i=function(){return Promise.all([n.e("vendor-amcharts"),n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("chats~lists~live~main~mediaVault~streaming"),n.e("lists")]).then(n.bind(null,"dd49"))},o=function(){return Promise.all([n.e("vendor-amcharts"),n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("chats~lists~live~main~mediaVault~streaming"),n.e("lists")]).then(n.bind(null,"8888"))},c=function(){return Promise.all([n.e("vendor-amcharts"),n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("chats~lists~live~main~mediaVault~streaming"),n.e("lists")]).then(n.bind(null,"2c27"))},u=function(){return Promise.all([n.e("vendor-amcharts"),n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("chats~lists~live~main~mediaVault~streaming"),n.e("lists")]).then(n.bind(null,"433d"))},d=function(){return Promise.all([n.e("vendor-amcharts"),n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("chats~lists~live~main~mediaVault~streaming"),n.e("lists")]).then(n.bind(null,"e666"))},l=function(){return Promise.all([n.e("vendor-amcharts"),n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("chats~lists~live~main~mediaVault~streaming"),n.e("lists")]).then(n.bind(null,"3364"))},f=[{path:"/my/subscriptions",name:"Subscribes",component:r,meta:{requiresAuth:!0},children:[{path:":type(active|expired|attention)",name:"SubscribesByType"}]}],m=[{path:"/my/subscribers/top/:year?/:month?",name:"SubscribersAwards",component:s,meta:{requiresPerformer:!0}},{path:"/my/subscribers",name:"Subscribers",component:a,meta:{requiresAuth:!0},children:[{path:":type(active|expired|activity)",name:"SubscribersByType"},{path:"restricted",redirect:{name:"RestrictedUsers"}}]},{path:"/my/promotions",name:"Promotions",component:i,meta:{requiresCanCreatePromotion:!0}},{path:"/my/blocked",name:"BlockedUsers",component:o,meta:{requiresAuth:!0}},{path:"/my/restricted",name:"RestrictedUsers",component:c,meta:{requiresAuth:!0}}],p=[{path:"/bookmarks",name:"BookmarkPosts",component:u,meta:{requiresAuth:!0,type:"all"},children:[{path:"photos",name:"BookmarkPosts_photos",component:u,meta:{type:"photos"}},{path:"videos",name:"BookmarkPosts_videos",component:u,meta:{type:"videos"}},{path:"audio",name:"BookmarkPosts_audio",component:u,meta:{type:"audios"}},{path:"other",name:"BookmarkPosts_other",component:u,meta:{type:"other"}},{path:"locked",name:"BookmarkPosts_locked",component:u,meta:{type:"locked"}}]}],h=[{path:"/my/lists",name:"UsersLists",component:d,meta:{requiresAuth:!0}},{path:"/my/lists/:list",name:"CustomList",component:l,meta:{requiresAuth:!0}},{path:"/my/friends",name:"MyFriends",component:l,meta:{requiresPerformer:!0}},{path:"/my/bookmarks",name:"Bookmarks",component:l,meta:{requiresAuth:!0}},{path:"/my/favorites",name:"Favorites",component:l,meta:{requiresAuth:!0}}]},"3d2f":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n("5df3"),n("4f7f");var r=n("75fc"),a=(n("ac6a"),n("4360")),s=function(){var e=[];return a["a"].getters["auth/authUser"].activeHelperAccess&&a["a"].getters["auth/authUser"].activeHelperAccess.permissions.forEach((function(t){var n=[];switch(t){case"chats":n=["/my/chats","/my/mass_chats"];break;case"posts":n=["/posts/create","/".concat(a["a"].getters["auth/authUser"].username),"/".concat(a["a"].getters["auth/authUser"].id),"/u".concat(a["a"].getters["auth/authUser"].id)];break;default:break}e=Object(r["a"])(new Set([].concat(Object(r["a"])(e),Object(r["a"])(n))))})),e}},4360:function(e,t,n){"use strict";n("8e6e"),n("5df3"),n("4f7f");var r=n("75fc"),a=(n("c5f6"),n("bd86")),s=(n("456d"),n("ac6a"),n("6762"),n("2fdb"),n("2b0e")),i=n("2f62"),o=n("4245"),c=n.n(o),u=n("dce5"),d=n.n(u),l=n("2411"),f=n.n(l),m=n("0759"),p=n.n(m),h=n("2a74"),b=n("0e44");function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}s["default"].use(i["a"]);var y=[Object(b["a"])({paths:["draft"],key:"draft",filter:function(e){return!!["draft/setPostDraft","draft/removePostDraft","draft/setChatDraft","draft/removeChatDraft","draft/logout"].includes(e.type)}})];navigator.cookieEnabled&&y.push(p()({predicate:["users/setUserHiddenPosts"]})),t["a"]=new i["a"].Store({strict:!1,modules:h["default"],plugins:y,actions:{logout:function(){var e=this;return new Promise((function(t){Object.keys(e.state).forEach((function(t){e.commit("".concat(t,"/logout"))})),t()}))}},mutations:{set:function(e,t){if(t.entities){if(t.entities.posts||t.entities.linkedPosts){var n=v(v({},t.entities.linkedPosts),t.entities.posts);e.posts.items=c()({},e.posts.items,n)}if(t.entities.users){var a=v({},t.entities.users),s=Object.keys(a).map(Number);if(e.users.needResetCheckOnlines){e.users.needResetCheckOnlines=!1;var i=e.auth.user;e.users.checkOnlines=Object(r["a"])(new Set([].concat(Object(r["a"])(s),[i])))}else e.users.checkOnlines=Object(r["a"])(new Set([].concat(Object(r["a"])(e.users.checkOnlines),Object(r["a"])(s))));e.users.items=f()({},e.users.items,a,(function(e,t,n){return"view"===n?d()(e||{},t):Array.isArray(t)?t:void 0}))}if(t.entities.usersLists&&(e.usersLists.items=f()({},e.usersLists.items,t.entities.usersLists,(function(e,t){if(Array.isArray(t))return t}))),t.entities.comments&&(e.comments.items=c()({},e.comments.items,t.entities.comments)),t.entities.chats){var o=v({},t.entities.chats);e.chats.items=c()({},e.chats.items,o)}if(t.entities.chatUser){var u=v({},t.entities.chatUser);Object.keys(u).forEach((function(e){u[e].messages=[],u[e].typing=!1})),e.chats.items=c()({},e.chats.items,u)}if(t.entities.messages){var l=v({},t.entities.messages);t.chatId&&Object.keys(l).forEach((function(e){l[e].chatId=Number(t.chatId)})),e.chats.messages=c()({},e.chats.messages,l)}t.entities.streams&&(e.streams.items=f()({},e.streams.items,t.entities.streams,(function(e,t){if(Array.isArray(t))return t}))),t.entities.subscribes&&(e.subscribes.items=c()({},e.subscribes.items,t.entities.subscribes)),t.entities.subscribers&&(e.subscribers.items=c()({},e.subscribers.items,t.entities.subscribers)),t.entities.offers&&(e.offers.items=c()({},e.offers.items,t.entities.offers)),t.entities.spotifyArtists&&(e.settings.spotifyArtistsItems=c()({},e.settings.spotifyArtistsItems,t.entities.spotifyArtists)),t.entities.spotifyTracks&&(e.settings.spotifyTracksItems=c()({},e.settings.spotifyTracksItems,t.entities.spotifyTracks)),t.entities.cards&&(e.payments.cards=c()({},e.payments.cards,t.entities.cards)),t.entities.bundles&&(e.bundles.items=c()({},e.bundles.items,t.entities.bundles)),t.entities.commentIds&&(e.comments.itemsIds=f()({},e.comments.itemsIds,t.entities.commentIds,(function(e,t){if(Array.isArray(t))return t}))),t.entities.repliesIds&&(e.static.repliesIds=f()({},e.static.repliesIds,t.entities.repliesIds,(function(e,t){if(Array.isArray(t))return t}))),t.entities.ticketReplies&&(e.static.ticketReplies=c()({},e.static.ticketReplies,t.entities.ticketReplies)),t.entities.votersList&&(e.posts.votersList=f()({},e.posts.votersList,t.entities.votersList,(function(e,t){if(Array.isArray(t))return t}))),t.entities.supportTickets&&(e.static.supportTickets=c()({},e.static.supportTickets,t.entities.supportTickets)),t.entities.performerHelpers&&(e.performerHelpers.items=c()({},e.performerHelpers.items,t.entities.performerHelpers)),t.entities.helperAccess&&(e.performerHelpers.helperAccess=c()({},e.performerHelpers.helperAccess,t.entities.helperAccess))}}}})},"439b":function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return v})),n.d(t,"getters",(function(){return y})),n.d(t,"mutations",(function(){return w})),n.d(t,"actions",(function(){return O}));n("8e6e"),n("ac6a"),n("456d");var r=n("7618"),a=(n("96cf"),n("3b8d")),s=(n("20d6"),n("75fc")),i=n("bd86"),o=(n("7514"),n("71ea")),c=n("a836"),u=n("5e23"),d=n("9b02"),l=n.n(d),f=n("559d"),m=n("09e4"),p=n("b775");function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){Object(i["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g=function(){return{myStories:[],myLoading:!1,myError:!1,items:[],loading:!1,error:!1,userStories:[],userLoading:!1,userError:!1,archiveStories:[],archiveLoading:!1,archiveError:!1,archiveLoaded:!1,highlights:[],highlightsLoading:!1,highlightsError:!1,highlightsHasMore:!0,highlightsOffset:0,currentHighlights:{},currentHighlightsLoading:!1,currentHighlightsError:!1,statData:void 0,statLoading:!1,statError:!1,chatStory:void 0,chatStoryLoading:!1,chatStoryError:!1,storyViewers:[],storyViewersLoading:!1,storyViewersError:!1,storyViewersLoaded:!1,storyBlockedViewers:[],storyFromArchive:void 0,storyAnswers:[],storyAnswersHasMore:!0,storyAnswersLoading:!1,storyAnswersError:!1,storyAnswersLoaded:!1}},v=g(),y={myStories:function(e){return e.myStories},stories:function(e){return e.items},userStories:function(e){return e.userStories},archiveStories:function(e){return e.archiveStories},archiveStoriesLoading:function(e){return e.archiveLoading},archiveStoriesLoaded:function(e){return e.archiveLoaded},highlights:function(e){return e.highlights},highlightsLoading:function(e){return e.highlightsLoading},currentHighlights:function(e){return e.currentHighlights},currentStoryStat:function(e){return e.statData},chatStory:function(e){return e.chatStory},storyViewers:function(e){return e.storyViewers},storyViewersLoaded:function(e){return e.storyViewersLoaded},storyViewersLoading:function(e){return e.storyViewersLoading},storyBlockedViewers:function(e){return e.storyBlockedViewers},storyFromArchive:function(e){return e.storyFromArchive},isAllUserStoriesWatched:function(e){return function(t,n,r){if("stories"===r){var a=e.items.find((function(e){return e.user.id===t}));return a.stories.every((function(e){return e.isWatched}))}return"userStories"===r?e.userStories.every((function(e){return e.isWatched})):""}}},w={setMyLoading:function(e,t){e.myLoading=t},setMyStories:function(e,t){e.myStories=t},updateMyStories:function(e,t){e.myStories=e.myStories.map((function(e){return e.id==t.id?b({},t):e}))},setMyError:function(e,t){e.myError=t},setArchiveLoading:function(e,t){e.archiveLoading=t},setArchiveLoaded:function(e,t){e.archiveLoaded=t},setArchiveStories:function(e,t){var n=t.stories,r=t.offset;e.archiveStories=r?[].concat(Object(s["a"])(e.archiveStories),Object(s["a"])(n)):n},setArchiveError:function(e,t){e.archiveError=t},setUserLoading:function(e,t){e.userLoading=t},setUserStories:function(e,t){e.userStories=t},setUserError:function(e,t){e.userError=t},setLoading:function(e,t){e.loading=t},setStories:function(e,t){e.items=t},setError:function(e,t){e.error=t},addNewMyStory:function(e,t){e.myStories=[].concat(Object(s["a"])(e.myStories),[t])},likeStory:function(e,t){var n=t.id,r=t.userId,a=t.value,s=t.type;"currentHighlights"!==s?"stories"!==s?"userStories"!==s?"chatStory"===s&&(e.chatStory=b(b({},e.chatStory),{},{isLiked:a})):e.userStories=e.userStories.map((function(e){return e.id==n?b(b({},e),{},{isLiked:a}):e})):e.items=e.items.map((function(e){return e.user.id!=r?e:b(b({},e),{},{stories:e.stories.map((function(e){return e.id==n?b(b({},e),{},{isLiked:a}):e}))})})):e.currentHighlights=b(b({},e.currentHighlights),{},{stories:e.currentHighlights.stories.map((function(e){return e.id==n?b(b({},e),{},{isLiked:a}):e}))})},setHighlightsLoading:function(e,t){e.highlightsLoading=t},setHighlights:function(e,t){e.highlights=t},setHighlightsHasMore:function(e,t){e.highlightsHasMore=t},addHighlights:function(e,t){e.highlights=[].concat(Object(s["a"])(e.highlights),Object(s["a"])(t))},addSavedHighlight:function(e,t){e.highlights=[t].concat(Object(s["a"])(e.highlights))},updateHighlightsOffset:function(e,t){e.highlightsOffset=t},updateHighlight:function(e,t){var n=e.highlights.findIndex((function(e){return e.id==t.id}));-1!==n&&e.highlights.splice(n,1,t)},setHighlightsError:function(e,t){e.highlightsError=t},setCurrentHighlightsLoading:function(e,t){e.currentHighlightsLoading=t},setCurrentHighlights:function(e,t){e.currentHighlights=t},setCurrentHighlightsError:function(e,t){e.currentHighlightsError=t},setStatLoading:function(e,t){e.statLoading=t},setStatData:function(e,t){e.statData=t},setStatError:function(e,t){e.statError=t},setChatStoryLoading:function(e,t){e.chatStoryLoading=t},setChatStory:function(e,t){e.chatStory=t},setChatStoryError:function(e,t){e.chatStoryError=t},logout:function(e){Object.assign(e,g())},setStoryViewersLoading:function(e,t){e.storyViewersLoading=t},setStoryViewersLoaded:function(e,t){e.storyViewersLoaded=t},setStoryViewers:function(e,t){var n=t.viewers,r=t.offset;e.storyViewers=r?[].concat(Object(s["a"])(e.storyViewers),Object(s["a"])(n)):n},setStoryBlockedViewers:function(e,t){e.storyBlockedViewers=t},setStoryViewersError:function(e,t){e.storyViewersError=t},setStoryFromArchive:function(e,t){e.storyFromArchive=t},resetStoryFromArchive:function(e){e.storyFromArchive=void 0},setStoryAsWatched:function(e,t){var n=t.id,r=t.type;switch(!0){case"currentHighlights"===r:e.currentHighlights.stories=e.currentHighlights.stories.map((function(e){return e.id!=n?e:b(b({},e),{},{isWatched:!0})}));break;case"stories"===r:e.items=e.items.map((function(e){return b(b({},e),{},{stories:e.stories.map((function(e){return e.id==n?b(b({},e),{},{isWatched:!0}):e}))})}));break;case"userStories"===r:e.userStories=e.userStories.map((function(e){return e.id!=n?e:b(b({},e),{},{isWatched:!0})}));break;default:break}},filterStoriesReportedByMeTemp:function(e,t){var n=t.id,r=void 0===n?0:n;e.userStories=e.userStories.filter((function(e){return e.id!==r})),e.highlights=e.highlights.map((function(e){return e.coverStoryId!==r?e:b(b({},e),{},{isReported:!0})})),e.items=e.items.map((function(e){return b(b({},e),{},{stories:e.stories.filter((function(e){return e.id!==r}))})}))},removeHighlights:function(e,t){e.highlights=e.highlights.filter((function(e){return e.id!==t}))},removeMyStory:function(e,t){e.myStories=e.myStories.filter((function(e){return e.id!==t})),e.userStories=e.userStories.filter((function(e){return e.id!==t}))},setStoryAnswersLoading:function(e,t){e.storyAnswersLoading=t},setStoryAnswersLoaded:function(e,t){e.storyAnswersLoaded=t},setStoryAnswers:function(e,t){var n=t.answers,r=t.hasMore;e.storyAnswers=[].concat(Object(s["a"])(e.storyAnswers),Object(s["a"])(n)),e.storyAnswersHasMore=r},resetStoryAnswers:function(e){e.storyAnswers=[],e.storyAnswersHasMore=!0},setStoryAnswersError:function(e,t){e.storyAnswersError=t},deleteStoryAnswer:function(e,t){e.storyAnswers=e.storyAnswers.filter((function(e){return e.id!==t}))}},O={fetchMyStories:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,n("setMyLoading",!0),n("setMyError",!1),r=Object(p["f"])("fetchMyStories"),a=r.cancelToken,s=r.Cancel,e.prev=4,e.next=7,Object(o["f"])(a);case 7:i=e.sent,i&&Array.isArray(i)?n("setMyStories",i):(n("setMyStories",[]),Object(m["c"])({error:new Error("typeof response is incorrect"),extra:{response:i}})),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](4),e.t0 instanceof s||n("setMyError",!0);case 14:n("setMyLoading",!1);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));function t(t){return e.apply(this,arguments)}return t}(),updateMyStories:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=t.commit,a=n.story,r("updateMyStories",a);case 3:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),fetchArchive:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,s=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,r=s.length>1&&void 0!==s[1]?s[1]:0,n("setArchiveLoading",!0),n("setArchiveError",!1),a=[],e.prev=5,e.next=8,Object(o["d"])(r);case 8:a=e.sent,e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](5),n("setArchiveError",!0);case 14:n("setArchiveLoaded",!a.length),n("setArchiveStories",{stories:a,offset:r}),n("setArchiveLoading",!1);case 17:case"end":return e.stop()}}),e,null,[[5,11]])})));function t(t){return e.apply(this,arguments)}return t}(),resetArchive:function(e){var t=e.commit;t("setArchiveLoaded",!1),t("setArchiveStories",{stories:[],offset:0}),t("setArchiveLoading",!1)},fetchStories:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,a,s,i,c,d,l,h,b=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,a=b.length>1&&void 0!==b[1]?b[1]:{},n("setLoading",!0),n("setError",!1),s=Object(p["f"])("fetchStories"),i=s.cancelToken,c=s.Cancel,e.prev=5,e.next=8,Object(o["g"])(a,i);case 8:d=e.sent,d&&Array.isArray(d)?(d.length&&(l=d.map((function(e){return e.user})),l&&"object"===Object(r["a"])(l)&&l.length&&(h=Object(u["a"])(l,f["o"]),n("set",h,{root:!0}))),n("setStories",d)):(n("setStories",[]),Object(m["c"])({error:new Error("typeof response is incorrect"),extra:{response:d}})),e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](5),e.t0 instanceof c||n("setError",!0);case 15:n("setLoading",!1);case 16:case"end":return e.stop()}}),e,null,[[5,12]])})));function t(t){return e.apply(this,arguments)}return t}(),fetchStoriesById:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,r("setChatStoryLoading",!0),r("setChatStoryError",!1),a={},e.prev=4,e.next=7,Object(o["h"])(n);case 7:a=e.sent,e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](4),r("setChatStoryError",!0);case 13:r("setChatStoryLoading",!1),r("setChatStory",a);case 15:case"end":return e.stop()}}),e,null,[[4,10]])})));function t(t,n){return e.apply(this,arguments)}return t}(),fetchUserStories:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,r("setUserLoading",!0),r("setUserError",!1),r("setUserStories",[]),a=[],e.prev=5,e.next=8,Object(o["m"])(n);case 8:a=e.sent,e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](5),r("setUserError",!0);case 14:r("setUserLoading",!1),r("setUserStories",a);case 16:case"end":return e.stop()}}),e,null,[[5,11]])})));function t(t,n){return e.apply(this,arguments)}return t}(),resetUserStories:function(e){var t=e.commit;t("setUserStories",[]),t("setUserError",!1),t("setUserLoading",!1)},addNewMyStory:function(e,t){var n=e.commit,r=e.dispatch,a=e.state;n("addNewMyStory",t),a.myStories.length&&r("updateMyHasStories",!0)},watchStory:function(e,t){var n=e.commit,r=t.id,a=t.type;n("setStoryAsWatched",{id:r,type:a}),Object(o["x"])(r)},removeMyStory:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,a=t.state,s=t.dispatch,e.next=3,Object(o["s"])(n);case 3:r("removeMyStory",n),a.myStories.length||s("updateMyHasStories",!1);case 5:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),updateMyHasStories:function(e,t){var n=e.commit,r=e.rootGetters,a=r["auth/authUser"].id;n("users/setUserField",{userId:a,field:"hasStories",status:t},{root:!0}),n("users/setUserField",{userId:a,field:"hasNotViewedStory",status:t},{root:!0})},like:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,s,i,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,a=n.id,s=n.userId,i=n.type,e.prev=2,e.next=5,Object(o["o"])(a);case 5:c=e.sent,c&&c.success&&r("likeStory",{userId:s,id:a,value:c.isLiked,type:i}),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](2),Object(m["b"])(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));function t(t,n){return e.apply(this,arguments)}return t}(),unlike:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,s,i,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,a=n.id,s=n.userId,i=n.type,e.prev=2,e.next=5,Object(o["v"])(a);case 5:c=e.sent,c&&c.success&&r("likeStory",{userId:s,id:a,value:c.isLiked,type:i}),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](2),Object(m["b"])(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));function t(t,n){return e.apply(this,arguments)}return t}(),comment:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=n.id,a=n.userId,s=n.text,e.prev=1,e.next=4,Object(c["w"])(a,{text:s,storyId:r});case 4:i=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](1),Object(m["b"])(e.t0);case 10:return e.abrupt("return",i);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));function t(t,n){return e.apply(this,arguments)}return t}(),saveHighlights:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=t.commit,!n.id){e.next=8;break}return e.next=4,Object(o["w"])(n);case 4:a=e.sent,r("updateHighlight",a),e.next=12;break;case 8:return e.next=10,Object(o["t"])(n);case 10:s=e.sent,r("addSavedHighlight",s);case 12:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),patchHighlight:function(e,t){var n=t.highlightId,r=t.storyIds;Object(o["p"])(n,{storyIds:r})},fetchUserHighlights:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,s,i,c,u,d,l,f,m;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=t.state,a=t.commit,s=n.userId,i=n.additive,c=void 0!==i&&i,!c||r.highlightsHasMore){e.next=4;break}return e.abrupt("return");case 4:return u=5,a("setHighlightsLoading",!0),a("setHighlightsError",!1),c||a("setHighlights",[]),d=[],l=!1,e.prev=10,f=c?r.highlightsOffset:0,e.next=14,Object(o["l"])({userId:s,offset:f,limit:u});case 14:m=e.sent,d=m.data,l=m.hasMore,e.next=22;break;case 19:e.prev=19,e.t0=e["catch"](10),a("setHighlightsError",!0);case 22:a(c?"addHighlights":"setHighlights",d),a("updateHighlightsOffset",l?r.highlightsOffset+u:0),a("setHighlightsHasMore",l),a("setHighlightsLoading",!1);case 26:case"end":return e.stop()}}),e,null,[[10,19]])})));function t(t,n){return e.apply(this,arguments)}return t}(),resetUserHighlights:function(e){var t=e.commit;t("setHighlightsLoading",!1),t("setHighlightsError",!1),t("setHighlightsHasMore",!0),t("setHighlights",[])},fetchHighlights:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,r("setCurrentHighlightsLoading",!0),r("setCurrentHighlightsError",!1),r("setCurrentHighlights",{}),a={},e.prev=5,e.next=8,Object(o["e"])(n);case 8:a=e.sent,e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](5),r("setCurrentHighlightsError",!0);case 14:r("setCurrentHighlightsLoading",!1),r("setCurrentHighlights",a);case 16:case"end":return e.stop()}}),e,null,[[5,11]])})));function t(t,n){return e.apply(this,arguments)}return t}(),removeMyHighlights:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.next=3,Object(o["r"])(n);case 3:r("removeHighlights",n);case 4:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),fetchStoryStat:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,r("setStatLoading",!0),r("setStatError",!1),r("setStatData",void 0),e.prev=4,s=Object(p["f"])("fetchStoryStat"),i=s.cancelToken,e.next=8,Object(o["c"])(n,i);case 8:a=e.sent,e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](4),r("setStatError",!0);case 14:r("setStatLoading",!1),r("setStatData",a);case 16:case"end":return e.stop()}}),e,null,[[4,11]])})));function t(t,n){return e.apply(this,arguments)}return t}(),resetStat:function(e){var t=e.commit;t("setStatData",void 0)},resetStoryViewers:function(e){var t=e.commit;t("setStoryViewersError",!1),t("setStoryViewersLoaded",!1),t("setStoryViewers",{viewers:[],offset:0}),t("setStoryViewersLoading",!1)},resetCurrentHighlights:function(e){var t=e.commit;t("setCurrentHighlights",{})},fetchStoryViewers:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var a,s,i,c,d,l,m,h;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.commit,s=n.storyId,i=n.offset,c=void 0===i?0:i,a("setStoryViewersLoading",!0),a("setStoryViewersError",!1),d=[],e.prev=5,l=Object(p["f"])("fetchStoryViewers"),m=l.cancelToken,e.next=9,Object(o["k"])(s,c,m);case 9:d=e.sent,e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](5),a("setStoryViewersError",!0);case 15:d&&"object"===Object(r["a"])(d)&&d.length&&(h=Object(u["a"])(d,f["o"]),a("set",h,{root:!0}),a("setStoryViewers",{viewers:h.result,offset:c})),a("setStoryViewersLoaded",!d.length),a("setStoryViewersLoading",!1);case 18:case"end":return e.stop()}}),e,null,[[5,12]])})));function t(t,n){return e.apply(this,arguments)}return t}(),resetStoryAnswers:function(e){var t=e.commit;t("setStoryAnswersError",!1),t("setStoryAnswersLoaded",!1),t("resetStoryAnswers"),t("setStoryAnswersLoading",!1)},fetchStoryAnswers:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var a,s,i,c,u,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.commit,s=t.state,i=n.storyId,a("setStoryAnswersLoading",!0),a("setStoryAnswersError",!1),c=[],e.prev=5,u=Object(p["f"])("fetchStoryAnswers"),d=u.cancelToken,e.next=9,Object(o["i"])(i,s.storyAnswers.length,d);case 9:c=e.sent,e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](5),a("setStoryAnswersError",!0);case 15:c&&"object"===Object(r["a"])(c)&&c.list&&c.list.length&&a("setStoryAnswers",{answers:c.list,hasMore:c.hasMore}),a("setStoryAnswersLoaded",!c.length),a("setStoryAnswersLoading",!1);case 18:case"end":return e.stop()}}),e,null,[[5,12]])})));function t(t,n){return e.apply(this,arguments)}return t}(),fetchStoryBlockedViewers:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,a=[],n("setStoryBlockedViewers",[]),e.prev=3,e.next=6,Object(o["j"])();case 6:a=e.sent,e.next=11;break;case 9:e.prev=9,e.t0=e["catch"](3);case 11:a&&"object"===Object(r["a"])(a)&&a.length&&(s=Object(u["a"])(a,f["o"]),n("set",s,{root:!0}),n("setStoryBlockedViewers",s.result));case 12:case"end":return e.stop()}}),e,null,[[3,9]])})));function t(t){return e.apply(this,arguments)}return t}(),sendAnswer:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=n.storyId,a=n.text,e.prev=1,e.next=4,Object(o["q"])(r,a);case 4:return e.abrupt("return",{status:!0});case 7:return e.prev=7,e.t0=e["catch"](1),e.abrupt("return",{status:!1,errorText:l()(e.t0,"data.error.message")});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));function t(t,n){return e.apply(this,arguments)}return t}(),deleteStoryAnswer:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.prev=1,e.next=4,Object(o["b"])(n);case 4:a=e.sent,a&&!a.err&&r("deleteStoryAnswer",n),e.next=10;break;case 8:e.prev=8,e.t0=e["catch"](1);case 10:case"end":return e.stop()}}),e,null,[[1,8]])})));function t(t,n){return e.apply(this,arguments)}return t}()}},"44ba":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return c})),n.d(t,"h",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return l})),n.d(t,"d",(function(){return f})),n.d(t,"g",(function(){return m})),n.d(t,"c",(function(){return p}));n("8e6e"),n("ac6a"),n("456d");var r=n("bd86"),a=n("b775");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var o=function(){var e="".concat(a["b"],"/reports/reasons");return a["d"].get(e).then((function(e){return e.data}))},c=function(){var e="".concat(a["b"],"/reports/abuse-options");return a["d"].get(e).then((function(e){return e.data}))},u=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r="".concat(a["b"],"/users/").concat(e,"/report");return a["d"].post(r,i({reasonId:t},n)).then((function(e){return e.data}))},d=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r="".concat(a["b"],"/posts/").concat(e,"/report");return a["d"].post(r,i({reasonId:t},n)).then((function(e){return e.data}))},l=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r="".concat(a["b"],"/stories/").concat(e,"/report");return a["d"].post(r,i({reasonId:t},n)).then((function(e){return e.data}))},f=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r="".concat(a["b"],"/messages/").concat(e,"/report");return a["d"].post(r,i({reasonId:t},n)).then((function(e){return e.data}))},m=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r="".concat(a["b"],"/streams/").concat(e,"/report");return a["d"].post(r,i({reasonId:t},n)).then((function(e){return e.data}))},p=function(){var e="".concat(a["b"],"/unsubscribe/reasons");return a["d"].get(e).then((function(e){return e.data}))}},"459b":function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return p})),n.d(t,"getters",(function(){return h})),n.d(t,"mutations",(function(){return b})),n.d(t,"actions",(function(){return g}));n("96cf");var r=n("3b8d"),a=(n("ac6a"),n("5df3"),n("4f7f"),n("75fc")),s=n("5e23"),i=n("4245"),o=n.n(i),c=n("559d"),u=n("09e4"),d=n("1cf1"),l=n("2612"),f=n("c34b"),m=function(){return{items:{},awards:{},itemIds:[],awardsIds:[],count:null,trials:{list:[],hasMore:!1},loading:!1}},p=m(),h={subscribers:function(e){return e.itemIds},subscribersCount:function(e){return e.count},getSubscriber:function(e){return function(t){return e.items[t]}},trials:function(e){return e.trials},isLoading:function(e){return e.loading},subscribersAwards:function(e){return e.awardsIds.map((function(t){return{id:t,percent:e.awards[t]}}))}},b={setLoading:function(e,t){e.loading=t},setSubscribers:function(e,t){var n=t.itemIds,r=t.data,s=void 0===r?{}:r,i=s.more;e.itemIds=i?Object(a["a"])(new Set([].concat(Object(a["a"])(e.itemIds),Object(a["a"])(n)))):Object(a["a"])(n)},setSubscribersCount:function(e,t){e.count=t},setTrials:function(e,t){var n=t.trials,r=t.more,s=void 0!==r&&r;e.trials={list:s?Object(a["a"])(new Set([].concat(Object(a["a"])(e.trials.list),Object(a["a"])(n.list)))):Object(a["a"])(n.list),hasMore:n.hasMore}},setTrial:function(e,t){e.trials.list.unshift(t),4===e.trials.list.length&&(e.trials.hasMore=!0,e.trials.list=e.trials.list.slice(0,3))},deleteTrialMutation:function(e,t){e.trials.list=e.trials.list.filter((function(e){return e.id!==t}))},setSubscribersAwardsIds:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.ids,r=void 0===n?[]:n,s=t.more,i=void 0!==s&&s;e.awardsIds=i?Object(a["a"])(new Set([].concat(Object(a["a"])(e.awardsIds),Object(a["a"])(r)))):Object(a["a"])(r)},setSubscribersAwards:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.awards=o()({},e.awards,t)},logout:function(e){Object.assign(e,m())}},g={fetchSubscribers:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,i,o,l,f=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,r=f.length>1&&void 0!==f[1]?f[1]:{},e.prev=2,n("setLoading",!0),a=r.more,a||n("setSubscribers",{itemIds:[],data:r}),e.next=8,Object(d["e"])(r);case 8:if(i=e.sent,n("setLoading",!1),!i||!Array.isArray(i)){e.next=14;break}i.length&&(o=Object(s["a"])(i,c["y"]),l=o.result,n("set",o,{root:!0}),n("setSubscribers",{itemIds:l,data:r})),e.next=16;break;case 14:return Object(u["c"])({error:new Error("typeof response is incorrect"),extra:{response:i}}),e.abrupt("return",[]);case 16:return e.abrupt("return",i);case 19:return e.prev=19,e.t0=e["catch"](2),n("setLoading",!1),Sentry.captureException(e.t0),e.abrupt("return",[]);case 24:case"end":return e.stop()}}),e,null,[[2,19]])})));function t(t){return e.apply(this,arguments)}return t}(),fetchSubscribersCount:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,s=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,r=s.length>1&&void 0!==s[1]?s[1]:{},n("setSubscribersCount",null),e.prev=3,e.next=6,Object(d["g"])(r);case 6:a=e.sent,a&&void 0!==a.count&&n("setSubscribersCount",a.count),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](3),Sentry.captureException(e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));function t(t){return e.apply(this,arguments)}return t}(),putSubscriptionDiscount:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,i,o=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,r=o.length>1&&void 0!==o[1]?o[1]:{},e.prev=2,e.next=5,Object(d["s"])(r);case 5:a=e.sent,a&&a.id&&(i=Object(s["a"])(a,c["z"]),n("set",i,{root:!0})),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](2),Object(u["b"])(e.t0);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));function t(t){return e.apply(this,arguments)}return t}(),createTrial:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,s=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,r=s.length>1&&void 0!==s[1]?s[1]:{},e.prev=2,e.next=5,Object(d["t"])(r);case 5:a=e.sent,a&&n("setTrial",a),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](2),Object(u["b"])(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));function t(t){return e.apply(this,arguments)}return t}(),fetchTrials:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,s,i,o,c,u=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,r=u.length>1&&void 0!==u[1]?u[1]:{},a=r.limit,s=r.offset,i=r.more,n("setLoading",!0),o=m(),i||n("setTrials",{trials:o.trials}),e.prev=5,e.next=8,Object(d["n"])({limit:a,offset:s});case 8:return c=e.sent,n("setTrials",{trials:c,more:i}),n("setLoading",!1),e.abrupt("return",c);case 14:return e.prev=14,e.t0=e["catch"](5),Sentry.captureException(e.t0),n("setLoading",!1),e.abrupt("return",o.trials);case 19:case"end":return e.stop()}}),e,null,[[5,14]])})));function t(t){return e.apply(this,arguments)}return t}(),deleteTrialAction:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.prev=1,e.next=4,Object(d["c"])(n);case 4:a=e.sent,a&&a.success&&r("deleteTrialMutation",n),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),Object(u["b"])(e.t0);case 11:return e.abrupt("return",a);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));function t(t,n){return e.apply(this,arguments)}return t}(),fetchSubscriber:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.prev=1,e.next=4,Object(l["T"])(n,{view:"subscriber"});case 4:a=e.sent,a&&a.id&&(i=Object(s["a"])(a,c["z"]),r("set",i,{root:!0})),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),Sentry.captureException(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));function t(t,n){return e.apply(this,arguments)}return t}(),fetchSubscribersAwards:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,i,o,u,l,f=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,r=f.length>1&&void 0!==f[1]?f[1]:{},e.prev=2,i=r.more,i||n("setSubscribersAwardsIds"),e.next=7,Object(d["f"])(r);case 7:return o=e.sent,u=[],o&&o.list&&o.list.length&&(l={},o.list.forEach((function(e){var t=Object(s["a"])(e.user,c["z"]),r=t.result;n("set",t,{root:!0}),l[r]=e.percent,u=Object(a["a"])(new Set([].concat(Object(a["a"])(u),[r])))})),n("setSubscribersAwards",l),n("setSubscribersAwardsIds",{ids:u,more:i})),e.abrupt("return",u);case 13:return e.prev=13,e.t0=e["catch"](2),console.log(e.t0),Sentry.captureException(e.t0),e.abrupt("return",[]);case 18:case"end":return e.stop()}}),e,null,[[2,13]])})));function t(t){return e.apply(this,arguments)}return t}(),clearPersonalDiscount:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.dispatch,e.next=3,r("putSubscriptionDiscount",{id:n,discount:0,period:1});case 3:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),sendPersonalTrial:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,a=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:{},e.prev=1,e.next=4,Object(f["h"])(n);case 4:if(r=e.sent,!r||Array.isArray(r)){e.next=8;break}return Object(u["c"])({error:new Error("typeof response is incorrect"),extra:{response:r}}),e.abrupt("return",[]);case 8:return e.abrupt("return",r);case 11:e.prev=11,e.t0=e["catch"](1),Object(u["b"])(e.t0);case 14:return e.abrupt("return",[]);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));function t(t){return e.apply(this,arguments)}return t}()}},"45ff":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"f",(function(){return c})),n.d(t,"e",(function(){return u}));var r=n("b775"),a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(r["c"])(e),n="".concat(r["b"],"/users/referrals").concat(t);return r["d"].get(n).then((function(e){return e.data}))},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(r["c"])(e),n="".concat(r["b"],"/users/referrals/count").concat(t);return r["d"].get(n).then((function(e){return e.data}))},i=function(){var e="".concat(r["b"],"/payments/referrals/balance");return r["d"].get(e).then((function(e){return e.data}))},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.limit,n=e.offset,a=Object(r["c"])({limit:t,offset:n}),s="".concat(r["b"],"/payouts/requests/referral").concat(a);return r["d"].get(s).then((function(e){return e.data}))},c=function(e){var t=e.phone,n=e.type,a=void 0===n?"user":n,s="".concat(r["b"],"/sms/invite/").concat(a);return r["d"].post(s,{phone:t}).then((function(e){return e.data}))},u=function(){var e="".concat(r["b"],"/sms/templates");return r["d"].get(e).then((function(e){return e.data}))}},4887:function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return u})),n.d(t,"getters",(function(){return d})),n.d(t,"mutations",(function(){return l})),n.d(t,"actions",(function(){return f}));n("96cf");var r=n("3b8d"),a=n("75fc"),s=n("b775"),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.limit,n=void 0===t?s["e"]:t,r=e.offset,a=e.query,i=Object(s["c"])({limit:n,offset:r,query:a}),o="".concat(s["b"],"/credits/transactions").concat(i);return s["d"].get(o).then((function(e){return e.data}))},o=n("f05e"),c=function(){return{transactions:[],allTransactions:[],transactionsLoading:!1}},u=c(),d={transactions:function(e){return e.transactions}},l={setTransactionsLoading:function(e,t){e.transactionsLoading=t},setTransactions:function(e,t){var n=t.items,r=t.more;e.transactions=r?[].concat(Object(a["a"])(e.transactions),Object(a["a"])(n)):Object(a["a"])(n)},setAllTransactions:function(e,t){var n=t.items,r=t.more;e.allTransactions=r?[].concat(Object(a["a"])(e.allTransactions),Object(a["a"])(n)):Object(a["a"])(n)},logout:function(e){Object.assign(e,c())}},f={fetchTransactions:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,s,o,c,u,d=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,r=d.length>1&&void 0!==d[1]?d[1]:{},a=r.limit,s=r.offset,o=r.query,c=r.more,n("setTransactionsLoading",!0),c||n("setTransactions",{items:[],more:c}),e.prev=4,e.next=7,i({limit:a,offset:s,query:o});case 7:u=e.sent,e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](4),u={list:[]};case 13:return n("setTransactions",{items:u.list,more:c}),n("setTransactionsLoading",!1),e.abrupt("return",u);case 16:case"end":return e.stop()}}),e,null,[[4,10]])})));function t(t){return e.apply(this,arguments)}return t}(),fetchAllTransactions:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,s,i,c,u,d=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,r=d.length>1&&void 0!==d[1]?d[1]:{},a=r.limit,s=r.offset,i=r.query,c=r.more,n("setTransactionsLoading",!0),c||n("setAllTransactions",{items:[],more:c}),e.prev=4,e.next=7,Object(o["f"])({limit:a,offset:s,query:i});case 7:u=e.sent,e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](4),u={list:[]};case 13:return n("setAllTransactions",{items:u.list,more:c}),n("setTransactionsLoading",!1),e.abrupt("return",u);case 16:case"end":return e.stop()}}),e,null,[[4,10]])})));function t(t){return e.apply(this,arguments)}return t}()}},"4f84":function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"state",(function(){return o})),n.d(t,"getters",(function(){return c})),n.d(t,"mutations",(function(){return u})),n.d(t,"actions",(function(){return d}));var r=n("75fc"),a=n("5892"),s=3e4,i=function(){return{collection:[],timer:void 0}},o=i(),c={collection:function(e){return e.collection},timer:function(e){return e.timer}},u={collect:function(e,t){e.collection=[].concat(Object(r["a"])(e.collection),[t])},setTimer:function(e,t){e.timer=t},resetCollection:function(e){e.collection=[]},resetTimer:function(t){e.clearInterval(t.timer),t.timer=void 0},logout:function(e){Object.assign(e,i())}},d={setTimer:function(e,t){var n=e.commit;n("setTimer",t)},collect:function(e,t){var n=e.commit;n("collect",t)},sendCollection:function(e){var t=e.commit,n=e.state,r=e.rootGetters,s=r["init/shouldSendStat"],i=r["auth/authUserId"];n.collection.length&&(s&&i&&Object(a["w"])(n.collection),t("resetCollection"))},startCollect:function(t){var n=t.commit,r=t.state,a=t.dispatch;if(!r.timer){var i=e.setInterval((function(){a("sendCollection")}),s);n("setTimer",i)}},stopCollect:function(e){var t=e.commit,n=e.dispatch;n("sendCollection"),t("resetTimer")}}}.call(this,n("c8ba"))},"4fd8":function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return a})),n.d(t,"mutations",(function(){return s}));var r=function(){return{hasError:!1}},a=r(),s={setErrorCondition:function(e,t){e.hasError=t},logout:function(e){Object.assign(e,r())}}},"50ce":function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return v})),n.d(t,"getters",(function(){return y})),n.d(t,"mutations",(function(){return w})),n.d(t,"actions",(function(){return O}));n("8e6e"),n("456d"),n("6b54"),n("96cf");var r=n("3b8d"),a=(n("ac6a"),n("5df3"),n("4f7f"),n("75fc")),s=n("bd86"),i=n("b775"),o=function(e){var t="faq"===e?Object(i["c"])({help:1}):"",n="".concat(i["b"],"/pages/").concat(e).concat(t);return i["d"].get(n,{"axios-retry":{retries:1}}).then((function(e){return e.data}))},c=function(e){var t="".concat(i["b"],"/pages/contacts");return i["d"].post(t,e).then((function(e){return e.data}))},u=function(e){var t="".concat(i["b"],"/legal-inquiry");return i["d"].post(t,e).then((function(e){return e.data}))},d=function(e){var t=Object(i["c"])({query:e,help:1}),n="".concat(i["b"],"/pages/faq").concat(t);return i["d"].get(n).then((function(e){return e.data}))},l=n("2612"),f=n("5e23"),m=n("559d"),p=n("09e4");function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){Object(s["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g=function(){return{content:b({},(window.STATIC_PAGES||[]).filter((function(e){return"anchor"!==e.type})).map((function(e){return"help"===e.url?"faq":e.url})).reduce((function(e,t){return b(b({},e),{},Object(s["a"])({},t,{}))}),{})),searchContent:null,loading:!1,supportTickets:{},ticketsIds:{all:[],closed:[],open:[],solved:[]},ticketsCount:{all:0,closed:0,open:0,solved:0},repliesIds:{},ticketReplies:{}}},v=g(),y={getContentByName:function(e){return function(t){return e.content[t]||{}}},content:function(e){return e.content},loading:function(e){return e.loading},searchContent:function(e){return e.searchContent},supportTicketsIds:function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all";return e.ticketsIds[t]&&e.ticketsIds[t].length?e.ticketsIds[t].filter((function(n){return"all"===t||e.supportTickets[n].status===t})):[]}},supportTicket:function(e){return function(t){return e.supportTickets[t]}},ticketReplies:function(e){return function(t){return e.repliesIds[t]?e.repliesIds[t].map((function(t){return e.ticketReplies[t]})):[]}},ticketRepliesIds:function(e){return function(t){return e.repliesIds[t]||[]}},ticketReply:function(e){return function(t){return e.ticketReplies[t]}}},w={setContent:function(e,t){var n=t.content,r=t.name;e.content[r]=n},setSearchContent:function(e,t){e.searchContent=t},setLoading:function(e,t){e.loading=t},reset:function(e,t){e.content[t]=null},resetSearchContent:function(e){e.searchContent=null},setTicketsIds:function(e,t){var n=t.ids,r=void 0===n?[]:n,s=t.more,i=void 0!==s&&s,o=t.before,c=void 0!==o&&o,u=t.status,d=void 0===u?"all":u;e.ticketsIds[d]=i?c?[].concat(Object(a["a"])(r),Object(a["a"])(e.ticketsIds[d])):[].concat(Object(a["a"])(e.ticketsIds[d]),Object(a["a"])(r)):r,e.ticketsIds[d]=Object(a["a"])(new Set(e.ticketsIds[d])).filter((function(e){return!!e}))},setTicketsCount:function(e,t){var n=t.count,r=t.more,a=void 0!==r&&r,s=t.status,i=void 0===s?"all":s;a?e.ticketsCount[i]+=n:e.ticketsCount[i]=n},setTicket:function(e,t){var n=t.id,r=t.ticket,a=void 0===r?{}:r;e.supportTickets[n]=b(b({},e.supportTickets[n]||{}),a)},logout:function(e){Object.assign(e,g())}},O={getContent:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,r("setLoading",!0),r("setContent",{content:null,name:n}),e.prev=3,e.next=6,o(n);case 6:a=e.sent,r("setContent",{content:a,name:n}),r("setLoading",!1),e.next=15;break;case 11:e.prev=11,e.t0=e["catch"](3),r("setLoading",!1),r("setContent",{content:{text:"Page not found"},name:n});case 15:case"end":return e.stop()}}),e,null,[[3,11]])})));function t(t,n){return e.apply(this,arguments)}return t}(),getSearchContent:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,r("setLoading",!0),e.prev=2,e.next=5,d(n);case 5:a=e.sent,r("setSearchContent",a),r("setLoading",!1),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](2),r("setLoading",!1);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));function t(t,n){return e.apply(this,arguments)}return t}(),contactUs:function(e,t){var n=e.commit;return n("setLoading",!0),c(t).then((function(e){return n("setLoading",!1),e})).catch((function(e){return n("setLoading",!1),e}))},legalInquiry:function(e,t){var n=e.commit;return u(t).then((function(e){return n("setLoading",!1),e})).catch((function(e){return n("setLoading",!1),e}))},reset:function(e){var t=e.commit;t("reset")},resetSearchContent:function(e){var t=e.commit;t("resetSearchContent")},getUsersTickets:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,o,c,u,d,p,h,g,v,y,w,O=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,r=t.state,a=O.length>1&&void 0!==O[1]?O[1]:{},o=a.more,c=void 0!==o&&o,u=a.status,d=a.order,c||(n("setTicketsIds",{status:u}),n("setTicketsCount",{status:u})),p=Object(i["f"])("getTickets"),h=p.cancelToken,g=p.Cancel,e.prev=4,e.next=7,Object(l["ab"])({offset:r.ticketsCount[u||"all"],status:u,order:d,cancelToken:h});case 7:return v=e.sent,v&&v.list&&v.list.length&&(y=v.list.reduce((function(e,t){return t.lastComment?b(b({},e),{},Object(s["a"])({},t.id,[t.lastComment.id])):e}),{}),w=Object(f["a"])(v.list,m["v"]),n("set",b(b({},w),{},{entities:b(b({},w.entities),{},{repliesIds:y})}),{root:!0}),n("setTicketsCount",{status:u,count:w.result.length,more:c}),n("setTicketsIds",{status:u,ids:w.result,more:c})),e.abrupt("return",v&&v.hasMore);case 12:if(e.prev=12,e.t0=e["catch"](4),!(e.t0 instanceof g)){e.next=16;break}throw e.t0;case 16:return e.abrupt("return",!1);case 17:case"end":return e.stop()}}),e,null,[[4,12]])})));function t(t){return e.apply(this,arguments)}return t}(),getUsersTicketById:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,i,o,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,a=n.id,r("setLoading",!0),e.prev=3,e.next=6,Object(l["Z"])({id:a});case 6:return i=e.sent,i&&(o=Object(f["a"])([i],m["v"]),c=b({},i.lastComment&&Object(s["a"])({},i.id,[i.lastComment.id])),r("set",b(b({},o),{},{entities:b(b({},o.entities),{},{repliesIds:c})}),{root:!0}),r("setTicketsCount",{status:i.status,count:o.result.length,more:!0}),r("setTicketsIds",{status:i.status,ids:o.result,more:!0})),r("setLoading",!1),e.abrupt("return",i);case 12:return e.prev=12,e.t0=e["catch"](3),r("setLoading",!1),e.abrupt("return",e.t0);case 16:case"end":return e.stop()}}),e,null,[[3,12]])})));function t(t,n){return e.apply(this,arguments)}return t}(),postUsersTickets:function(e,t){var n=e.commit;return n("setLoading",!0),Object(l["fb"])(t).then((function(e){if(n("setLoading",!1),e&&e.success){var t=Object(f["a"])(e.ticket,m["u"]);n("set",t,{root:!0}),n("setTicketsCount",{status:"open",count:1,more:!0}),n("setTicketsIds",{ids:[t.result],before:!0,more:!0,status:"open"})}return e})).catch((function(e){return n("setLoading",!1),e}))},replyOnTicket:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r,i,o,c,u,d,p;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,i=t.state,o=n.id,c=n.data,r("setLoading",!0),e.prev=3,e.next=6,Object(l["nb"])(o,c);case 6:return u=e.sent,d=Object(f["a"])(u,m["x"]),p=d.result,r("set",b(b({},d),{},{entities:b(b({},d.entities),{},{repliesIds:Object(s["a"])({},o,Object(a["a"])(new Set([].concat(Object(a["a"])(i.repliesIds[o]||[]),[p]))))})}),{root:!0}),r("setTicket",{id:o,ticket:{commentCount:i.supportTickets[o].commentCount+1}}),r("setLoading",!1),e.abrupt("return",u);case 15:throw e.prev=15,e.t0=e["catch"](3),r("setLoading",!1),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])})));function t(t,n){return e.apply(this,arguments)}return t}(),getTicketReplies:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r,i,o,c,u,d,p,h,b,g,v,y,w,O;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,i=t.state,o=t.getters,c=n.id,u=n.more,d=void 0!==u&&u,e.prev=2,p=d?o.ticketRepliesIds(c).length:0,e.next=6,Object(l["S"])({id:c,offset:p});case 6:return h=e.sent,h&&h.list&&h.list.length&&(b=Object(f["a"])(h.list,m["w"]),r("set",b,{root:!0}),g=b.result,v=o.supportTicket(c),y=v&&v.lastComment&&v.lastComment.id,w=i.repliesIds[c],O=w?w.filter((function(e){return e!==y})):[],r("set",{entities:{repliesIds:Object(s["a"])({},c,Object(a["a"])(new Set([].concat(Object(a["a"])(d?O:[]),Object(a["a"])(g),Object(a["a"])(y?[y]:[])))))}},{root:!0}),i.supportTickets[c].commentCount<g.length&&r("setTicket",{id:c,ticket:{commentCount:g.length}})),e.abrupt("return",h&&h.hasMore);case 11:return e.prev=11,e.t0=e["catch"](2),e.abrupt("return",!1);case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));function t(t,n){return e.apply(this,arguments)}return t}(),solveTicket:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.prev=1,r("setLoading",!0),e.next=5,Object(l["vb"])(n);case 5:a=e.sent,r("setLoading",!1),a&&a.success&&r("setTicket",{id:n,ticket:{status:"solved"}}),e.next=14;break;case 10:e.prev=10,e.t0=e["catch"](1),r("setLoading",!1),Object(p["b"])(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));function t(t,n){return e.apply(this,arguments)}return t}(),reopenTicket:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r,i,o,c,u,d,h,b,g;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,i=t.state,o=t.rootGetters,c=n.id,u=n.data,e.prev=2,r("setLoading",!0),e.next=6,Object(l["mb"])({id:c,data:u});case 6:d=e.sent,r("setLoading",!1),d&&d.success&&(r("setTicket",{id:c,ticket:{status:"open",commentCount:i.supportTickets[c].commentCount+1}}),h=o["auth/authUser"],b=Object(f["a"])({id:Math.random().toString(36).substr(2,9),body:u.message,createdAt:new Date,user:{name:h.name,avatar:h.avatar}},m["x"]),r("set",b,{root:!0}),g=b.result,r("set",{entities:{repliesIds:Object(s["a"])({},c,Object(a["a"])(new Set([].concat(Object(a["a"])(i.repliesIds[c]||[]),[g]))))}},{root:!0})),e.next=15;break;case 11:e.prev=11,e.t0=e["catch"](2),r("setLoading",!1),Object(p["b"])(e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));function t(t,n){return e.apply(this,arguments)}return t}(),checkIsCreateAllowed:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,s,i,o,c,u,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,a=t.state,s=t.dispatch,i=n.source,o=n.subject,e.prev=2,r("setLoading",!0),c=b(b({},i&&{source:i}),o&&{subject:o}),e.next=7,Object(l["f"])(c);case 7:return u=e.sent,r("setLoading",!1),e.abrupt("return",u);case 12:if(e.prev=12,e.t0=e["catch"](2),400!==e.t0.status||!e.t0.data.ticket){e.next=21;break}if(d=a.supportTickets[e.t0.data.ticket.id],d){e.next=19;break}return e.next=19,s("getUsersTicketById",{id:e.t0.data.ticket.id});case 19:return r("setLoading",!1),e.abrupt("return",e.t0.data);case 21:return r("setLoading",!1),e.abrupt("return",{success:!1});case 23:case"end":return e.stop()}}),e,null,[[2,12]])})));function t(t,n){return e.apply(this,arguments)}return t}()}},"539d":function(e,t,n){var r={"./auth.js":"c7d4","./banking.js":"8ff6","./billingSupport.js":"8986","./bundles.js":"2834","./chats.js":"f47e","./comments.js":"9898","./creditTransactions.js":"4887","./currentPlayMedia.js":"bc9a","./draft.js":"ef64","./formApiErrors.js":"4fd8","./index.js":"2a74","./init.js":"75de","./lastPosts.js":"e2c7","./live.js":"cc4e","./massMessagesStat.js":"3773","./mediaVault.js":"d954","./modals.js":"d7bc","./offers.js":"a8e2","./payments.js":"82c1","./performerHelpers.js":"dd6f","./photoSwipe.js":"1306","./postStatCollector.js":"4f84","./posts.js":"af6c","./profileStats.js":"b054","./referrals.js":"2c20","./router.js":"d3e9","./schedule.js":"e4b3","./scheduledMessage.js":"7129","./settings.js":"0781","./shopify.js":"878a","./socket.js":"f406","./statements.js":"9587","./static.js":"50ce","./stories.js":"439b","./streaming.js":"685f","./streams.js":"16a8","./streamsPast.js":"0242","./streamsScheduled.js":"0db4","./subscribers.js":"459b","./subscribersStat.js":"00ec","./subscribes.js":"caa2","./translations.js":"f096","./users.js":"8ce5","./usersLists.js":"5b5f"};function a(e){var t=s(e);return n(t)}function s(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=s,e.exports=a,a.id="539d"},"559d":function(e,t,n){"use strict";n.d(t,"t",(function(){return c})),n.d(t,"s",(function(){return u})),n.d(t,"h",(function(){return m})),n.d(t,"z",(function(){return w})),n.d(t,"y",(function(){return O})),n.d(t,"A",(function(){return j})),n.d(t,"B",(function(){return k})),n.d(t,"f",(function(){return S})),n.d(t,"e",(function(){return x})),n.d(t,"m",(function(){return C})),n.d(t,"l",(function(){return R})),n.d(t,"c",(function(){return T})),n.d(t,"d",(function(){return _})),n.d(t,"a",(function(){return A})),n.d(t,"b",(function(){return L})),n.d(t,"r",(function(){return M})),n.d(t,"o",(function(){return U})),n.d(t,"g",(function(){return F})),n.d(t,"p",(function(){return N})),n.d(t,"q",(function(){return V})),n.d(t,"i",(function(){return H})),n.d(t,"x",(function(){return G})),n.d(t,"w",(function(){return z})),n.d(t,"u",(function(){return W})),n.d(t,"v",(function(){return Y})),n.d(t,"j",(function(){return X})),n.d(t,"k",(function(){return Q})),n.d(t,"n",(function(){return J}));n("8e6e"),n("456d"),n("c5f6"),n("ac6a"),n("5df3"),n("4f7f");var r=n("75fc"),a=n("bd86"),s=n("5e23");function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c=new s["b"].Entity("bundles"),u=new s["b"].Array(c),d=new s["b"].Entity("subscribes",{},{idAttribute:function(e,t){return t.id},processStrategy:function(e,t){return o(o({},e),{},{id:t.id})}}),l=(new s["b"].Array(d),new s["b"].Entity("subscribers",{},{idAttribute:function(e,t){return t.id},processStrategy:function(e,t){return o(o({},e),{},{id:t.id})}})),f=(new s["b"].Array(l),new s["b"].Entity("offers",{},{processStrategy:function(e,t){return o(o({},e),{},{userId:t.id})}})),m=new s["b"].Array(f),p={mergeStrategy:function(e,t){var n=[];return e._views?n=e._views:e._view&&(n.push(e._view),delete e._view),t._view&&(n=Object(r["a"])(new Set([].concat(Object(r["a"])(n),[t._view]))),delete t._view),o(o(o({},e),t),{},{view:o(o({},e.view||{}),t.view||{}),_views:n})},processStrategy:function(e){return e.username&&(e.view&&(e.view=Object(a["a"])({},e.view,+new Date)),e.newPostsAfterExpireCount&&(e.subscribedByData={newPostsAfterExpireCount:e.newPostsAfterExpireCount},delete e.newPostsAfterExpireCount)),e._view&&(e._views=Object(r["a"])(new Set([].concat(Object(r["a"])(e._views||[]),[e._view])))),o(o({},e),{},{friendsList:[]})}},h=new s["b"].Entity("users",{},p),b=new s["b"].Entity("helperAccess",{user:h},{idAttribute:function(e){return e.userId}}),g=new s["b"].Array(b),v=new s["b"].Entity("users",{},p),y=new s["b"].Array(v),w=new s["b"].Entity("users",{subscribedByData:d,subscribedOnData:l,subscriptionBundles:u,helperAccess:g,connectedOfAccounts:y},p),O=new s["b"].Array(w),j=new s["b"].Entity("usersLists",{users:O},{processStrategy:function(e){return e.id=Number(e.id),o({},e)}}),k=new s["b"].Array(j),S=new s["b"].Entity("comments",{author:w}),x=new s["b"].Array(S),P=new s["b"].Entity("linkedPosts",{author:w},{processStrategy:function(e){return o(o({},e),{},{comments:[],streamEvents:[],favoritesList:[],tipsList:[],buyersList:[]})}}),I=new s["b"].Array(P),C=new s["b"].Entity("posts",{author:w,fromUser:w,linkedPosts:I,linkedUsers:O},{processStrategy:function(e){return o(o(o({},e),void 0!==e.createdAt&&{postedAt:e.createdAt}),{},{streamEvents:[],favoritesList:[],tipsList:[],buyersList:[]})}}),R=new s["b"].Array(C),T=new s["b"].Entity("messages",{fromUser:w},{processStrategy:function(e){return o(o({},e),{},{likePrevent:!1,isMediaPlayed:!1})}}),_=new s["b"].Entity("chats",{withUser:w,lastMessage:T},{idAttribute:function(e){return e.withUser.id},processStrategy:function(e){return o(o({},e),{},{messages:[],typing:!1})}}),A=new s["b"].Array(_),L=new s["b"].Array(T),E=new s["b"].Entity("streams",{user:w}),M=new s["b"].Array(E),U=new s["b"].Array(w),D=new s["b"].Entity("notification",{user:w}),F=new s["b"].Array(D),B=new s["b"].Entity("spotifyArtists"),N=new s["b"].Array(B),q=new s["b"].Entity("spotifyTracks"),V=new s["b"].Array(q),$=new s["b"].Entity("cards"),H=new s["b"].Array($),G=new s["b"].Entity("ticketReplies"),z=new s["b"].Array(G),W=new s["b"].Entity("supportTickets",{lastComment:G}),Y=new s["b"].Array(W),X=new s["b"].Entity("performerHelpers",{helper:w},{idAttribute:function(e){return e.helperId}}),Q=new s["b"].Array(X),K=new s["b"].Entity("queues"),J=new s["b"].Array(K)},"56d7":function(e,t,n){"use strict";n.r(t),n.d(t,"i18n",(function(){return ls})),n.d(t,"reloadLanguageAsync",(function(){return bs}));var r={};n.r(r),n.d(r,"normalizeStageFile",(function(){return Ne})),n.d(r,"proceedFile",(function(){return Ge})),n.d(r,"setUpCrop",(function(){return We})),n.d(r,"changeScreen",(function(){return Xe})),n.d(r,"getMaxImageScale",(function(){return Ke})),n.d(r,"addCropRect",(function(){return Ze})),n.d(r,"doCrop",(function(){return nt})),n.d(r,"done",(function(){return at})),n.d(r,"resetCrop",(function(){return it})),n.d(r,"transparentOverlayColor",(function(){return ct})),n.d(r,"getOverlayGradientCoordinates",(function(){return dt})),n.d(r,"addOverlayRect",(function(){return ft})),n.d(r,"setOverlayColors",(function(){return pt})),n.d(r,"doOverlay",(function(){return gt})),n.d(r,"calcTextAreaParams",(function(){return yt})),n.d(r,"textBackgroundSwitch",(function(){return Ot})),n.d(r,"resetOverlay",(function(){return kt})),n.d(r,"changeTextColor",(function(){return xt})),n.d(r,"textAlignSwitch",(function(){return It})),n.d(r,"textBoldSwitch",(function(){return Rt})),n.d(r,"addText",(function(){return _t})),n.d(r,"doText",(function(){return Lt})),n.d(r,"removeTextArea",(function(){return Dt})),n.d(r,"addSticker",(function(){return Nt})),n.d(r,"imageFromGroup",(function(){return tn})),n.d(r,"createFileType",(function(){return an})),n.d(r,"createShadowRects",(function(){return on})),n.d(r,"addGif",(function(){return cn})),n.d(r,"startDeepAr",(function(){return jn})),n.d(r,"doDeepAr",(function(){return _n})),n.d(r,"switchEffectDeepAr",(function(){return An})),n.d(r,"cancelDeepAr",(function(){return Un})),n.d(r,"proceedHistory",(function(){return Nn})),n.d(r,"addQuestion",(function(){return Pn})),n.d(r,"addAnswer",(function(){return Cn}));n("8e6e"),n("ac6a"),n("456d"),n("96cf");var a=n("3b8d"),s=n("768b"),i=n("bd86"),o=(n("f559"),n("cadf"),n("551c"),n("f751"),n("097d"),n("2b0e")),c=(n("5abe"),n("163a"),n("9b02")),u=n.n(c),d=n("7707"),l=n.n(d),f=n("ad4d"),m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("router-view")},p=[],h={},b=h,g=n("2877"),v=Object(g["a"])(b,m,p,!1,null,null,null),y=v.exports,w=n("a18c"),O=n("4360"),j=n("5921"),k=n("dc21"),S=n("82dc"),x=n("956e"),P=n("916b"),I=n("e594"),C=n("0038"),R=n("4eb5"),T=n.n(R),_=n("7bb1"),A=n("00e7"),L=n.n(A),E=n("a4a1"),M=n.n(E),U=n("0086"),D=n.n(U),F=n("b408"),B=n.n(F),N=n("a925"),q=n("85fe"),V=n("660e"),$=n("7591"),H=n.n($),G=n("25fe"),z=n.n(G),W=n("5843"),Y=n("5fda"),X=n("2616"),Q=n("51c2"),K=n("700c"),J=n("f7ca"),Z=n("dbbe"),ee=n("8c60"),te=n("3d31"),ne="imageEditor",re="#000000",ae="#2fb2ff",se=Math.PI/180,ie={regular:400,strong:700,light:300},oe=n("362d"),ce=n.n(oe);function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function de(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach((function(t){Object(i["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function le(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new ce.a.Group(de({draggable:!0,dragBoundFunc:function(){return e.group.absolutePosition()}},t))}function fe(e){return new ce.a.Layer({id:"base_layer_".concat(e),fill:re})}function me(e){var t=new ce.a.Image({x:e.width/2,y:e.height/2,id:"editable_image",image:e,draggable:!1,width:e.width,height:e.height,offset:{x:e.width/2,y:e.height/2},scale:{x:1,y:1},rotation:0,stroke:ae,strokeWidth:2,strokeEnabled:!1,skewEnable:!1,blurEnable:!1,dragBoundFunc:function(e){return e}});return t.historySource=e.src,t}function pe(e,t){var n=new ce.a.Image({x:0,y:0,name:"sticker",image:e,width:e.width,height:e.height,scale:{x:t,y:t},rotation:0,skewEnable:!1,blurEnable:!1,historySource:e.src});return n.historySource=e.src,n}function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(Object(n),!0).forEach((function(t){Object(i["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ge(e){return new ce.a.Rect(be({fill:"black",opacity:.5,globalCompositeOperation:"xor"},e))}var ve=n("75fc");n("34ef"),n("9c29");function ye(){var e,t,n,r,a,s,i,o,c,u,d,l,f,m,p,h,b,g,v,y,w,O,j,k,S,x,P,I,C,R,T,_=new Uint32Array([1,2,4,8,16,32,64,128,256,512,1024,2048,4096]),A=[0,4,2,1],L=[8,8,4,2],E=[],M=[],U=[];j=void 0,k=null,O=1,w=y=v=g=0,f=l=d=u=!1;var D={GCExt:249,COMMENT:254,APPExt:255,UNKNOWN:1,IMAGE:44,EOF:59,EXT:33};function F(e){var t=this.pos=0,n=this.data=new Uint8Array(e),r=this.data.length;this.getString=function(e){var r="";t=this.pos;while(e--)r+=String.fromCharCode(n[t++]);return this.pos=t,r},this.readSubBlocks=function(){var e,a,s="";t=this.pos;while(0!==e&&t<r){a=e=n[t++];while(a--)s+=String.fromCharCode(n[t++])}return this.pos=t,s},this.readSubBlocksB=function(){var e,a,s=[],i=0;t=this.pos;while(0!==e&&t<r){a=e=n[t++];while(a--)s[i++]=n[t++]}return this.pos=t,s}}function B(e,t){var n,a,s,i,o,c,u,d,l,f,m,p=_,h=[];for(s=a=0,i=p[e],o=i+1,c=e+1,u=!0,n=0;n<i;n++)h[n]=[n];m=o+1;while(u){for(l=d,d=0,n=0;n<c;n++)t[s>>3]&p[7&s]&&(d|=p[n]),s++;if(d===i){for(c=e+1,m=o+1,n=0;n<o;n++)h[n]=[n];h[o]=[0],h[i]=[0]}else{if(d===o)break;for(d>=m?h[m++]=[].concat(Object(ve["a"])(h[l]),[h[l][0]]):l!==i&&(h[m++]=[].concat(Object(ve["a"])(h[l]),[h[d][0]])),f=h[d].length,n=0;n<f;n++)r[a++]=h[d][n];c<12&&m===p[c]&&(c+=1)}}}function N(e){var t=0;e<<=2;var n=new Uint8Array(e);while(t<e)n[t++]=a.data[a.pos++],n[t++]=a.data[a.pos++],n[t++]=a.data[a.pos++],n[t++]=255;return new Uint32Array(n.buffer)}function q(){a.pos+=6,g=a.data[a.pos++]+(a.data[a.pos++]<<8),v=a.data[a.pos++]+(a.data[a.pos++]<<8),r=new Uint8Array(g*v);var e=a.data[a.pos++];if(pe.colorRes=(112&e)>>4,C=1<<1+(7&e),R=a.data[a.pos++],a.pos++,128&e){T=N(C);var t=T[R];x=void 0!==t?"rgb(".concat(255&t,",").concat(t>>8&255,",").concat(t>>16&255,")"):"black"}le("decodestart",{width:g,height:v},!0),setTimeout(Q,0)}function V(){a.pos+=1,"NETSCAPE"===a.getString(8)?a.pos+=8:(a.pos+=3,a.readSubBlocks())}function $(){a.pos++;var e=a.data[a.pos++];m=(28&e)>>2,p=!!(1&e),h=a.data[a.pos++]+(a.data[a.pos++]<<8),b=a.data[a.pos++],a.pos++}function H(){function s(a){var s,i,o,c=n/a;for(s=0,e!==n&&(t=new Uint8Array(n),e=n),i=0;i<4;i++)for(o=A[i];o<c;o+=L[i])t.set(r.subarray(s,s+a),o*a),s+=a}var i={};E.push(i),i.disposalMethod=m,i.time=y,i.delay=10*h,y+=i.delay,i.leftPos=a.data[a.pos++]+(a.data[a.pos++]<<8),i.topPos=a.data[a.pos++]+(a.data[a.pos++]<<8),i.width=a.data[a.pos++]+(a.data[a.pos++]<<8),i.height=a.data[a.pos++]+(a.data[a.pos++]<<8);var o=a.data[a.pos++];i.localColourTableFlag=!!(128&o),i.localColourTableFlag&&(i.localColourTable=N(1<<1+(7&o))),n!==i.width*i.height&&(n=i.width*i.height),i.transparencyIndex=p?b:void 0,B(a.data[a.pos++],a.readSubBlocksB()),64&o?(i.interlaced=!0,s(i.width)):i.interlaced=!1,G(i)}function G(e){var a,s,i,o;e.image=document.createElement("canvas"),e.image.width=g,e.image.height=v,e.image.ctx=e.image.getContext("2d");var c=e.localColourTableFlag?e.localColourTable:T;S=S||e,a=2===S.disposalMethod||3===S.disposalMethod,a||e.image.ctx.drawImage(S.image,0,0,g,v);var d=e.image.ctx.getImageData(e.leftPos,e.topPos,e.width,e.height),l=e.transparencyIndex,f=new Uint32Array(d.data.buffer);for(o=e.interlaced?t:r,s=0;s<n;s++)i=o[s],l!==i?f[s]=c[i]:a&&(f[s]=0);e.image.ctx.putImageData(d,e.leftPos,e.topPos),u||(pe.image=e.image),S=e}function z(){S=null,a=void 0,m=void 0,p=void 0,h=void 0,b=void 0,r=void 0,t=void 0,n=void 0,t=void 0,l=!0}function W(){d=!1,u||(c=o=0,E.length>0&&(pe.image=E[0].image)),Z(),z()}function Y(){W()}function X(){var e=a.data[a.pos++];e===D.GCExt?$():e===D.COMMENT?M.push(a.readSubBlocks()):e===D.APPExt?V():(e===D.UNKNOWN&&(a.pos+=13),a.readSubBlocks())}function Q(){if(!0===f)return Y();var e=a.data[a.pos++];if(e===D.IMAGE){if(H(),le("progress",{progress:(a.pos/a.data.length*1e3|0)/10,frameCount:E.length}),pe.firstFrameOnly)return W()}else{if(e===D.EOF)return W();X()}setTimeout(Q,0)}function K(){return!l&&(f=!0)}function J(e){le("error",{message:e},!1),d=!1}function Z(){c=o=0,le("load",{frameCount:E.length},!0),pe.playOnLoad&&pe.play()}function ee(e){s=new Uint8Array(e),a=new F(e),q()}function te(e){var t=new XMLHttpRequest;P=e,d=!0,t.responseType="arraybuffer",t.onload=function(e){404===e.target.status?(P=void 0,J("File not found")):e.target.status>=200&&e.target.status<300?ee(t.response):(P=void 0,J("Loading error : "+e.target.status))},t.onerror=function(e){P=void 0,J("File error "+e.message)},t.open("GET",e,!0),t.send()}function ne(e){if(void 0===P)P=e,setTimeout((function(){return te(P)}),0);else{var t="GIF is limited to a single load. Create a new GIF object to load another gif.";J(t),console.warn(t)}}function re(e){O=(100*e|0)/100,j=void 0,0===Math.abs(O)&&(O=0,u&&se())}function ae(){u||(0===O&&(O=1),I=!1,u=!0,de())}function se(){I=!0,u=!1,clearTimeout(i),j=void 0}function ie(){I||!u?pe.play():pe.pause()}function oe(e){clearTimeout(i),j=void 0,k=null,o=(e%E.length+E.length)%E.length,u?de():(pe.image=E[o].image,c=E[o].time)}function ce(e){e<0&&(e=0),e%=y;var t=0;while(t<E.length&&e>E[t].time+E[t].delay)t+=1;return t}function ue(e){clearTimeout(i),j=void 0,k=null,o=ce(1e3*e),u?de():(c=E[o].time,pe.image=E[o].image)}function de(){var e,t,n=!1,r=0;if(0!==O){if(void 0!==j&&null===k){var a=j-performance.now();a<-w/2?(n=!0,j=(j+a/O)%y+y,o=ce(j),t=O<0?0===o?E.length-1:o-1:o):a<0&&(r=a)}n||(O<0?(o=null!==k?k:0===o?E.length-1:o-1,t=0===o?E.length-1:o-1):(null!==k&&(o=k),t=o=(o+1)%E.length)),e=Math.abs(E[t].delay/O)+r,w=Math.abs(E[t].delay/O),j=performance.now()+e,pe.image=E[o].image,c=E[o].time,i=setTimeout(de,e),k=null}else pe.pause()}function le(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];U["on"+e]&&setTimeout((function(){t.type=e,t.gif=pe,t.buffer=s,U["on"+e](t),n&&me(e)}),0)}function fe(e,t){"function"===typeof t&&("progress"!==e&&(t=t.bind(pe)),U["on"+e]=t)}function me(e){void 0!==U["on"+e]&&(U["on"+e]=void 0)}var pe={image:null,comments:M,get paused(){return I},get playing(){return u},get loading(){return d},get complete(){return l},set src(e){ne(e)},cancel:K,get backgroundColor(){return x},get src(){return P},get width(){return g},get height(){return v},get naturalWidth(){return g},get naturalHeight(){return v},get allFrames(){return E.map((function(e){return e.image}))},get duration(){return y},get currentFrame(){return o},get currentTime(){return c},get frameCount(){return E.length},get playSpeed(){return O},getFrame:function(e){return E[e<0?0:e>=E.length?E.length-1:e].image},set currentFrame(e){oe(e)},set currentTime(e){ue(e)},set playSpeed(e){re(e)},playOnLoad:!0,firstFrameOnly:!1,set onload(e){fe("load",e)},set onerror(e){fe("error",e)},set onprogress(e){fe("progress",e)},set ondecodestart(e){fe("decodestart",e)},play:ae,pause:se,seek:ue,seekFrame:oe,togglePlay:ie};return pe}var we=function(e,t){return Oe.apply(this,arguments)};function Oe(){return Oe=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=document.createElement("canvas"),a=function(e){var a=ye();function s(t){var a=t.gif;r.width=a.width,r.height=a.height;var s=r.getContext("2d");function i(){s.clearRect(0,0,r.width,r.height),s.drawImage(a.image,0,0),n.batchDraw(),requestAnimationFrame(i)}requestAnimationFrame(i),n.batchDraw(),e({buffer:t.buffer,canvas:r})}a.src=t,a.onload=s},e.abrupt("return",new Promise(a));case 3:case"end":return e.stop()}}),e)}))),Oe.apply(this,arguments)}function je(e){return ke.apply(this,arguments)}function ke(){return ke=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={},e.next=3,we(t,this.layer).then((function(e){return n=e}));case 3:return r=new ce.a.Image({name:"gif",image:n.canvas}),a=.3*this.group.height()/r.height(),s=.3*this.group.width()/r.width(),i=a<s?a:s,r.scaleX(i),r.scaleY(i),r.x(this.group.width()/2-r.width()/2*i),r.y(this.group.height()/2-r.height()/2*i),r.imgOrigWidth=r.width(),r.imgOrigHeight=r.height(),r.perfectDrawEnabled(!1),r.fixed_ratio=!0,r.historySource=t,e.abrupt("return",{gif:r,buffer:n.buffer});case 17:case"end":return e.stop()}}),e,this)}))),ke.apply(this,arguments)}function Se(e){var t=e.position();t.w=e.width()*e.scaleX(),t.h=e.height()*e.scaleX(),t.r=e.rotation();var n=t.w*Math.cos(t.r*se),r=t.w*Math.sin(t.r*se),a={x:t.x+n,y:t.y+r},s=t.h*Math.cos((t.r+90)*se),i=t.h*Math.sin((t.r+90)*se),o={x:a.x+s,y:a.y+i},c=t.h*Math.cos((t.r+90)*se),u=t.h*Math.sin((t.r+90)*se),d={x:t.x+c,y:t.y+u},l={x:(t.x+o.x)/2,y:(t.y+o.y)/2},f={x:(t.x+d.x)/2,y:(t.y+d.y)/2},m={x:(a.x+o.x)/2,y:(a.y+o.y)/2},p={x:(t.x+a.x)/2,y:(t.y+a.y)/2},h={x:(d.x+o.x)/2,y:(d.y+o.y)/2},b={A:p.y-h.y,B:h.x-p.x,C:p.x*h.y-h.x*p.y},g={A:f.y-m.y,B:m.x-f.x,C:f.x*m.y-m.x*f.y};return{topRight:a,bottomRight:o,bottomLeft:d,center:l,equation_v:b,equation_h:g}}var xe=Se;function Pe(e,t){var n=e.x,r=e.y,a=Math.cos(t*se),s=Math.sin(t*se);return{x:n*a-r*s,y:r*a+n*s}}var Ie=Pe,Ce=n("c483");n("7514");function Re(){return[].concat(Object(ve["a"])(this.layer.find(".sticker")),Object(ve["a"])(this.layer.find(".gif")),Object(ve["a"])(this.layer.find(".label")),Object(ve["a"])(this.layer.find("::edit")),Object(ve["a"])(this.layer.find(".MergedGroup")))}var Te=Re;function _e(){return{height:window.innerHeight-document.getElementById("imageEditorHeader").clientHeight-document.getElementById("imageEditorFooter").clientHeight,width:document.getElementById("imageEditorStage").offsetWidth}}function Ae(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"pointer";e.on("mouseenter",(function(){t.stage.container().style.cursor=n})),e.on("mouseleave",(function(){t.stage.container().style.cursor="default"}))}function Le(e,t){var n=this;Object(Ce["a"])(e);var r,a,s,i;e.on("rotatestart",(function(a){n.viewState.isRotatingMoveable=!0,s=a.evt.gesture.rotation,a.evt.gesture.pointers.length<2||(n.userActions.isShapeRotating=!0,e.draggable(!1),t.from=n.history.normalizeMoveableObject(t),r=xe(t),i=t.scaleX(),t.draggable(!1))})),e.on("rotate",(function(e){var o=s-e.evt.gesture.rotation;if(o<30&&o>-30&&i&&2===e.evt.gesture.pointers.length&&n.userActions.isShapeRotating){var c=i*e.evt.gesture.scale,u=t.rotation()-o,d={x:-t.width()*c/2,y:-t.height()*c/2},l=Ie(d,t.rotation()),f=Ie(d,u),m=f.x-l.x,p=f.y-l.y;t.rotation(u),t.x(t.x()+m),t.y(t.y()+p),r=xe(t),a={x:(t.x()-r.center.x)/t.scaleX(),y:(t.y()-r.center.y)/t.scaleX()};var h={x:a.x*c+r.center.x,y:a.y*c+r.center.y};t.position(h),t.scale({x:c,y:c}),s=e.evt.gesture.rotation,n.layer.batchDraw()}})),e.on("rotateend rotatecancel",(function(r){n.viewState.isRotatingMoveable=!1,n.history.push("moveableObject","modifyRotation",e.historyId,n.history.normalizeMoveableObject(t)),n.userActions.isShapeRotating=!1,e.moveToTop(),e.draggable(!0),n.imageConf.shadows.moveToTop(),n.layer.batchDraw()}))}function Ee(e){var t=document.querySelector(e);if(!t)return null;var n=this.stage.getPointerPosition(),r=document.querySelector(e).getBoundingClientRect(),a={x:r.x+r.width/2-document.querySelector(".image_editor > .image_editor_holder ").offsetLeft,y:r.y+r.height/2-60},s=Math.abs(Math.sqrt(Math.pow(n.x-a.x,2)+Math.pow(n.y-a.y,2)));return s<=30}var Me=Ee;function Ue(e,t){var n=this,r=!1,a={};e.on("dragstart",(function(t){var s=n.stage.getPointerPosition(),i=n.stage.getAllIntersections(s),o=i.find((function(e){return/::edit/.test(e.name())}));if(!o){r=!0,e.from=n.history.normalizeMoveableObject(e),n.userActions.shapeIsDraging=!0,n.api.events.$emit("shapeDragging",!0),e.moveToTop(),n.imageConf.shadows.moveToTop();var c="mousemove"===t.evt.type?t.evt.x:t.evt.touches[0].clientX,u="mousemove"===t.evt.type?t.evt.y:t.evt.touches[0].clientY,d=e.x(),l=e.y();a={x:c/n.imageConf.ratio-d,y:u/n.imageConf.ratio-l}}})),e.on("dragmove",(function(t){if(a&&!n.userActions.shapeIsRotating&&r){var s=document.querySelector(".text_delete svg.g-icon");s&&"default"===n.viewState.screen&&(s.style.fontSize=Me.call(n,".text_delete")?"40px":"30px"),"mousemove"===t.evt.type&&(e.position({x:t.evt.x/n.imageConf.ratio-a.x,y:t.evt.y/n.imageConf.ratio-a.y}),n.layer.batchDraw()),"touchmove"===t.evt.type&&1===t.evt.touches.length&&(e.position({x:t.evt.touches[0].clientX/n.imageConf.ratio-a.x,y:t.evt.touches[0].clientY/n.imageConf.ratio-a.y}),n.layer.batchDraw())}})),e.on("dragend",(function(){if(r){if(r=!1,!n.userActions.shapeIsRotating)if(e.moveToTop(),n.imageConf.shadows.moveToTop(),Me.call(n,".text_delete")){"gif"===t.name()&&(n.gifs.storage=[],n.api.events.$emit("saveAsCopyPermToggle",n.settingsPassed.saveAsCopy)),"QuestionBlock"===t.name()&&setTimeout((function(){n.api.events.$emit("imageEditor::question::remove")})),"AnswerBlock"===t.name()&&setTimeout((function(){n.api.events.$emit("imageEditor::answer::remove")}));var s=n.history.normalizeMoveableObject(t);s.x=e.from.x,s.y=e.from.y,s.childX=t.x(),s.childY=t.y(),n.history.push("moveableObject","delete",e.historyId,s),e.destroy(),n.layer.batchDraw()}else setTimeout((function(){n.history.push("moveableObject","modifyPosition",e.historyId,n.history.normalizeMoveableObject(e))}));n.userActions.shapeIsDraging=!1,n.api.events.$emit("shapeDragging",!1),a=null}}))}var De=function(e){var t,n,r,a,s=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=le.call(this,{name:"MergedGroup"});if("label"!==e.name()){o.historyId=e.historyId;var c=this.history.installMoveableObject(o,e);o.historyId=c.id,e.historyId=c.id}var u=new ce.a.Circle({x:e.x()+e.width()*e.scaleX(),y:e.y(),name:"dimensionCircle::edit",radius:4/this.imageConf.ratio,fill:"#5dc6ef",stroke:"#01afef",strokeWidth:1,draggable:!0});return i||(Ae.call(this,u,"crosshair"),u.on("dragstart",(function(i){"mousemove"===i.evt.type&&(e.from=s.history.normalizeMoveableObject(e),r=e.scaleX(),a=e.rotation(),n=xe(e),t={x:i.evt.x/s.imageConf.ratio-u.x(),y:i.evt.y/s.imageConf.ratio-u.y()})})),u.on("dragmove",(function(i){var o=e.width()*e.scaleX()/s.imageConf.ratio,c=e.height()*e.scaleY()/s.imageConf.ratio,u=function(){var e=i.evt.x/s.imageConf.ratio-t.x-n.center.x,r=i.evt.y/s.imageConf.ratio-t.y-n.center.y;return 180*Math.atan2(r,e)/Math.PI};if("mousemove"===i.evt.type){var d=Math.pow(o,2),l=Math.pow(c,2),f=Math.sqrt(l+d)/2,m=u(),p=Math.pow(e.width()/s.imageConf.ratio,2),h=Math.pow(e.height()/s.imageConf.ratio,2),b=Math.sqrt(p+h)/2,g=i.evt.x/s.imageConf.ratio-t.x,v=i.evt.y/s.imageConf.ratio-t.y+12,y=Math.pow(g-n.center.x,2),w=Math.pow(v-n.center.y,2),O=Math.sqrt(y+w)/s.imageConf.ratio,j=a-m-45,k=1/b*f,S=(1/f*O-1)*k,x=r+S;r=x;var P=e.rotation()-j,I={x:-e.width()*x/2,y:-e.height()*x/2},C=Ie(I,e.rotation()),R=Ie(I,P),T=R.x-C.x,_=R.y-C.y;e.rotation(P),e.x(e.x()+T),e.y(e.y()+_);var A=xe(e),L={x:(e.x()-A.center.x)/e.scaleX(),y:(e.y()-A.center.y)/e.scaleX()},E={x:L.x*x+A.center.x,y:L.y*x+A.center.y};e.position(E),e.scale({x:x,y:x}),a=e.rotation()}s.layer.batchDraw()})),u.on("dragend",(function(){s.history.push("moveableObject","modifyRotation",o.historyId,s.history.normalizeMoveableObject(e))})),u.hide(),o.add(u)),o.add(e),Ae.call(this,e),o.on("click dragstart",(function(t){"mouseup"===t.evt.type&&(e.strokeEnabled&&e.strokeEnabled()?(u.hide(),e.strokeEnabled(!1)):(e.strokeEnabled&&(e.strokeEnabled(!0),e.stroke("rgba(255,255,255,0.5)"),e.strokeWidth(1/s.imageConf.ratio)),u.show(),u.moveToTop()),s.layer.batchDraw())})),o.on("dragend",(function(t){u.hide(),e.strokeEnabled&&e.strokeEnabled(!1),s.layer.batchDraw()})),o.initialImageScale=this.imageConf.ratio,this.group.add(o),this.layer.batchDraw(),this.methods.normalizeStageFile(),this.api.events.$on("preSave",(function(){u.hide(),e.strokeEnabled&&e.strokeEnabled(!1)})),o.draggable(!0),Ue.call(this,o,e),i||Le.call(this,o,e),{group:o,konvaNode:e,circle:u}};function Fe(){this.imageConf.shadows&&this.imageConf.shadows.destroy();var e=ge({x:0,y:0-this.group.y(),height:this.group.y(),width:this.image.width()/this.imageConf.ratio}),t=ge({x:e.x(),y:e.y()+e.height()+this.image.height(),height:e.height(),width:e.width()}),n=ge({x:e.x()-this.group.x(),y:e.y(),height:e.height()+this.image.height()+t.height(),width:this.group.x()}),r=ge({x:n.x()+this.image.width()+n.width(),y:n.y(),height:n.height(),width:n.width()});return this.imageConf.shadows=new ce.a.Group,this.imageConf.shadows.add(e),this.imageConf.shadows.add(t),this.imageConf.shadows.add(n),this.imageConf.shadows.add(r),"default"!==this.viewState.screen&&this.imageConf.shadows.hide(),this.group.add(this.imageConf.shadows),!0}function Be(e){var t=this;if(this.image){var n=this.imageConf.ratio;this.config=_e(),this.stage.height(this.config.height),this.stage.width(this.config.width);var r=this.stage.width()/this.image.width(),a=this.stage.height()/this.image.height(),s=r<a?r:a;this.imageConf.ratio=s<1?s:1,this.group.height(this.image.height()),this.group.width(this.image.width()),this.stage.scale({x:this.imageConf.ratio,y:this.imageConf.ratio});var i=(this.stage.width()-this.image.width()*this.imageConf.ratio)/2,o=(this.stage.height()-this.image.height()*this.imageConf.ratio)/2;return i=i<0?0:i/this.imageConf.ratio,o=o<0?0:o/this.imageConf.ratio,this.group.position({x:i,y:o}),this.image.position({x:this.image.width()/2,y:this.image.height()/2}),this.cropState.cropRect&&this.methods.setUpCrop(),Fe.call(this),n!==this.imageConf.ratio&&Te.call(this).forEach((function(e){var r=e.parent;if("MergedGroup"===r.name()){var a=100/r.initialImageScale*t.imageConf.ratio/100,s=100/n*t.imageConf.ratio/100;r.scale({x:1/a,y:1/a}),r.position({x:r.x()/s,y:r.y()/s})}})),this.layer.batchDraw(),!0}}var Ne=Be,qe=n("7618");n("28a5");function Ve(e){if(/^blob/.test(e))return e;for(var t=atob(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],r=new ArrayBuffer(t.length),a=new Uint8Array(r),s=0;s<t.length;s++)a[s]=t.charCodeAt(s);var i=new Blob([r],{type:n});return window.URL.createObjectURL(i)}function $e(e){return He.apply(this,arguments)}function He(){return He=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,s,i,o,c=this,u=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:0,r=u.length>2?u[2]:void 0,s=u.length>3?u[3]:void 0,t=Ve(t),i=function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(a){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:s=new Image,s.onload=function(){setTimeout((function(){var e=me(s);e.cropReset=!0,e.overlayReset=!0,e.imgSrc=t,e.imgOrigWidth=s.width,e.imgOrigHeight=s.height,e.perfectDrawEnabled(!1),e.fixed_ratio=!0,r?"object"===Object(qe["a"])(r)&&(c.history.initialImageUrl=t):c.history.push("image","modify",null,{from:c.history.currentImageUrl,to:t}),c.history.currentImageUrl=t,c.historyBlobs[t]=!0,c.imageConf.html=s,a(e)}),n)},s.src=t;case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.next=7,new Promise(i);case 7:return o=e.sent,this.group.add(o),this.image=this.group.findOne("#editable_image"),this.methods.normalizeStageFile(s),this.stage.batchDraw(),e.abrupt("return",o);case 13:case"end":return e.stop()}}),e,this)}))),He.apply(this,arguments)}var Ge=$e;function ze(e,t){var n=this,r="undefined"!==typeof e?e:this.cropState.cropXSide,a="undefined"!==typeof t?t:this.cropState.cropYSide;this.cropState.cropXSide=r,this.cropState.cropYSide=a,"portrait"!==this.cropState.cropOrientation&&(r=this.cropState.cropYSide,a=this.cropState.cropXSide),this.cropState.cropRelationActive=r*a;var s=0,i=0,o=100;this.image.cropReset=!1;var c=function(e,t){var r=n.stage.height()/(e*n.imageConf.ratio)*100,a=n.stage.width()/(t*n.imageConf.ratio)*100;o=r<=a?r:a,s=t*(o/100),i=e*(o/100)};if(r===a&&0===r)s=this.image.width(),i=this.image.height(),o=100,this.image.cropReset=!0;else if("portrait"===this.cropState.cropOrientation){var u=this.image.height()/a*r,d=this.image.height();u>this.image.width()?(o=u/this.image.width()*100,s=u,i=d):c(d,u)}else{var l=this.image.width(),f=this.image.width()/r*a;if(f>this.image.height()){o=f/this.image.height()*100,s=l,i=f;var m=document.getElementsByClassName("konvajs-content"),p=m[0].clientWidth,h=m[0].clientHeight,b=+(s/i).toFixed(1),g=+(p/h).toFixed(1);g>=1.1&&g>b&&(o/=g/b,s/=g/b,i/=g/b)}else c(f,l)}s*=.9,i*=.9,o-=10;var v=(this.image.width()-s)/2+this.group.x(),y=(this.image.height()-i)/2+this.group.y(),w=360,O=0,j=120,k=this.cropState.cropRect.width(),S=s-k,x=this.cropState.cropRect.height(),P=i-x,I=this.cropState.cropRect.x(),C=v-I,R=this.cropState.cropRect.y(),T=y-R,_=this.cropState.imageSizeComp,A=o-_,L=new ce.a.Animation((function(e){if(O+=e.timeDiff*w/1e3,0!==S){var t=S/j*O+k;S>0&&t>s||S<0&&t<s?n.cropState.cropRect.width(s):n.cropState.cropRect.width(t)}if(0!==P){var r=P/j*O+x;P>0&&r>i||P<0&&r<i?n.cropState.cropRect.height(i):n.cropState.cropRect.height(r)}if(0!==A){var a=A/j*O+_;n.cropState.imageSizeComp=A>0&&a>o||A<0&&a<o?o:a}if(0!==C){var c=C/j*O+I;C>0&&c>v||C<0&&c<v?n.cropState.cropRect.x(v):n.cropState.cropRect.x(c)}if(0!==T){var u=T/j*O+R;T>0&&u>y||T<0&&u<y?n.cropState.cropRect.y(y):n.cropState.cropRect.y(u)}(S>0&&n.cropState.cropRect.width()>=s||S<0&&n.cropState.cropRect.width()<=s&&C>0&&n.cropState.cropRect.x()>=v||C<0&&n.cropState.cropRect.x()<=v&&T>0&&n.cropState.cropRect.y()>=y||C<0&&n.cropState.cropRect.y()<=y&&P>0&&n.cropState.cropRect.height()>=i||P<0&&n.cropState.cropRect.height()<=i&&A>0&&n.cropState.imageSizeComp>=o||A<0&&n.cropState.imageSizeComp<=o)&&(n.cropState.cropRect.width(s),n.cropState.cropRect.height(i),n.cropState.cropRect.x(v),n.cropState.cropRect.y(y),n.cropState.imageSizeComp=o,L.stop()),n.methods.createShadowRects(n.cropState.cropRect,n.cropState,n.group)}),this.layer);L.start(),setTimeout((function(){L.stop()}),1e3),this.stage.batchDraw()}var We=ze;function Ye(e){var t=this;return this.viewState.screen=e,"default"===e?(this.image.draggable(!1),this.layer.batchDraw()):"crop"===e?(this.group.draggable(!1),setTimeout((function(){t.methods.normalizeStageFile(),t.methods.addCropRect()}),100),this.image.draggable(!0)):"overlay"===e?(this.group.draggable(!1),this.methods.addOverlayRect()):"text"===e&&(this.group.draggable(!1),this.methods.addText()),!0}var Xe=Ye;function Qe(){var e,t,n,r,a,s,i=this,o=this.cropState.maxImageScale,c=function(){e=i.stage.height()/(r*i.imageConf.ratio)*100,t=i.stage.width()/(r*i.imageConf.ratio)*100,n=e<=t?e:t,o=o<n?n:o};return this.cropState.cropRelations.forEach((function(e){e[0]===e[1]?(r=i.image.width()>=i.image.height()?i.image.height():i.image.width(),c()):(a=i.image.height()/e[1]*e[0],s=i.image.height(),a>i.image.width()?(n=a/i.image.width()*100,o=o<n?n:o):c(),a=i.image.width(),s=i.image.width()/e[1]*e[0],s>i.image.height()?(n=s/i.image.height()*100,o=o<n?n:o):c())})),o}var Ke=Qe;function Je(){var e=this;this.cropState.cropOrientation=this.image.width()>this.image.height()?"landscape":"portrait",this.maxImageScale=this.methods.getMaxImageScale(),this.stage.findOne("#cropRectLayer")&&this.stage.findOne("#cropRectLayer").destroy(),this.cropState.cropRelationActive=0,this.cropState.cropRect=new ce.a.Rect({x:this.group.x(),y:this.group.y(),id:"cropRectNode",width:this.image.width(),height:this.image.height(),draggable:!1,fill:"transparent",stroke:"rgba(255,255,255,0.85)",strokeWidth:3/this.imageConf.ratio,scale:this.group.scale(),strokeEnabled:!0});var t=new ce.a.Rect({id:"multitouchCropRect",x:this.group.x(),y:this.group.y(),width:this.group.width(),height:this.group.height(),draggable:!0,dragBoundFunc:function(n){return e.image.position({x:e.currentImagePos.x+(n.x-t.absolutePosition().x)/e.imageConf.ratio,y:e.currentImagePos.y+(n.y-t.absolutePosition().y)/e.imageConf.ratio}),e.layer.batchDraw(),e.group.absolutePosition()}});t.on("dragstart",(function(){e.currentImagePos=e.image.position()})),t.on("dragend",(function(){e.currentImagePos=e.image.position(),e.image.cropReset=!1})),Object(Ce["a"])(t),t.on("rotatestart",(function(t){e.startScale=e.cropState.imageSizeComp/100,e.userActions.oldRotation=t.evt.gesture.rotation,e.image.stopDrag(),e.image.draggable(!1)})),t.on("rotate",(function(t){var n=e.userActions.oldRotation-t.evt.gesture.rotation;n<30&&n>-30&&(e.image.rotate(-n),e.userActions.oldRotation=t.evt.gesture.rotation);var r=e.startScale*t.evt.gesture.scale*100;r<=e.cropState.minImageScale?e.cropState.imageSizeComp=e.cropState.minImageScale:r>=e.cropState.maxImageScale?e.cropState.imageSizeComp=e.cropState.maxImageScale:e.cropState.imageSizeComp=r,e.layer.batchDraw(),e.cropState.imageRotateComp=e.image.rotation()})),t.on("rotateend rotatecancel",(function(){e.image.draggable(!0),e.image.cropReset=!1,e.layer.batchDraw()})),this.layer.add(this.cropState.cropRect),this.layer.add(t),this.overlayState.overlayRect&&this.overlayState.overlayRect.hide(),Te.call(this).forEach((function(e){e.hide()})),this.layer.batchDraw(),this.methods.setUpCrop(0,0)}var Ze=Je;function et(){return tt.apply(this,arguments)}function tt(){return tt=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.image.cropReset){e.next=15;break}return this.cropState.cropRect.strokeEnabled(!1),this.group.clip({x:this.cropState.cropRect.x()-this.group.x(),y:this.cropState.cropRect.y()-this.group.y(),width:this.cropState.cropRect.width(),height:this.cropState.cropRect.height()}),this.stage.scale({x:1,y:1}),this.stage.size({width:this.group.width()>this.stage.width()?this.group.width():this.stage.width(),height:this.group.height()>this.stage.height()?this.group.height():this.stage.height()}),t=this.stage.toDataURL({x:this.cropState.cropRect.x(),y:this.cropState.cropRect.y(),width:this.cropState.cropRect.width(),height:this.cropState.cropRect.height(),pixelRatio:1,mimeType:"image/jpeg"}),this.image.destroy(),this.group.clip({x:void 0,y:void 0,width:void 0,height:void 0}),this.layer.findOne("#multitouchCropRect").destroy(),this.cropState.cropRect.destroy(),this.cropState.cropRect=null,e.next=13,this.methods.proceedFile(t,500).then((function(){n.overlayState.overlayRect&&(n.methods.addOverlayRect(),n.methods.doOverlay())}));case 13:e.next=21;break;case 15:this.layer.findOne("#multitouchCropRect").destroy(),this.cropState.cropRect.destroy(),this.cropState.cropRect=null,this.methods.changeScreen("default"),this.methods.normalizeStageFile(),this.overlayState.overlayRect&&(this.overlayState.overlayRect.show(),this.overlayState.overlayRect.moveToTop());case 21:Te.call(this).forEach((function(e){n.api.events.$emit("showGifs"),e.show(),e.moveToTop(),e.parent.moveToTop()}));case 22:case"end":return e.stop()}}),e,this)}))),tt.apply(this,arguments)}var nt=et;function rt(){var e=this;window.showPreloader(),setTimeout(Object(a["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.logAction("".concat(e.viewState.screen," done")),"crop"!==e.viewState.screen){t.next=7;break}e.methods.doCrop(),n=e.api.currentFileStage.layer.findOne(".QuestionBlock"),n&&(r=n.text,n.destroy(),setTimeout((function(){e.methods.addQuestion(void 0,void 0,r)}),1e3)),t.next=13;break;case 7:if("overlay"!==e.viewState.screen){t.next=12;break}return t.next=10,e.methods.doOverlay();case 10:t.next=13;break;case 12:"text"===e.viewState.screen?e.methods.doText():"deepAr"===e.viewState.screen&&e.methods.doDeepAr();case 13:e.methods.changeScreen("default"),window.hidePreloader();case 15:case"end":return t.stop()}}),t)}))))}var at=rt;function st(){this.image.width(this.image.imgOrigWidth),this.image.height(this.image.imgOrigHeight),this.image.offsetX(this.image.imgOrigWidth/2),this.image.offsetY(this.image.imgOrigHeight/2),this.image.x(this.image.imgOrigWidth/2),this.image.y(this.image.imgOrigHeight/2),this.image.crop({x:0,y:0,width:this.image.imgOrigWidth,height:this.image.imgOrigHeight}),this.image.rotation(0),this.image.scale({x:1,y:1}),this.cropState.cropOrientation=this.image.width()>this.image.height()?"landscape":"portrait",this.methods.setUpCrop(0,0),this.image.cropReset=!0,this.stage.batchDraw()}var it=st;function ot(e){if("left"===e){var t=0;this.overlayState.leftColor="transparent",this.overlayRect.fillLinearGradientColorStops([0,"rgba(".concat(this.overlayState.colors[this.overlayState.leftColor],",").concat(t,")"),1,"rgba(".concat(this.overlayState.colors[this.overlayState.leftColor],",0)")]),this.layer.batchDraw()}else{var n=0;this.overlayState.rightColor="transparent",this.overlayRect.fillLinearGradientColorStops([0,"rgba(".concat(this.overlayState.colors[this.overlayState.rightColor],",0)"),1,"rgba(".concat(this.overlayState.colors[this.overlayState.rightColor],",").concat(n,")")]),this.layer.batchDraw()}}var ct=ot;function ut(){var e=this.image.width()/2,t=this.image.width()/2,n=0,r=this.image.height(),a=0,s=0,i=0;if(180===Math.abs(this.overlayState.overlayRotation)||0===this.overlayState.overlayRotation)return{startPoint:{x:this.image.width()/2,y:0===this.overlayState.overlayRotation?0:this.image.height()},endPoint:{x:this.image.width()/2,y:0===this.overlayState.overlayRotation?this.image.height():0}};if(90===Math.abs(this.overlayState.overlayRotation))return{startPoint:{x:this.overlayState.overlayRotation<0?0:this.image.width(),y:this.image.height()/2},endPoint:{x:this.overlayState.overlayRotation<0?this.image.width():0,y:this.image.height()/2}};Math.abs(this.overlayState.overlayRotation)<90&&(i=this.overlayState.overlayRotation),Math.abs(this.overlayState.overlayRotation)>90&&Math.abs(this.overlayState.overlayRotation)<180&&(i=this.overlayState.overlayRotation<0?180+this.overlayState.overlayRotation:this.overlayState.overlayRotation-180),a=this.image.height()/2*Math.sin(i*(Math.PI/180));var o=Math.sqrt(Math.pow(this.image.width(),2)+Math.pow(this.image.height(),2)),c=180*Math.asin(Math.sin(this.image.height()/o))/Math.PI;return Math.abs(i)>90-c?(i<0?(e=0,t=this.image.width()):(e=this.image.width(),t=0),s=this.image.height()/2-this.image.width()/2*Math.tan(Math.PI*(90-Math.abs(i))/180),n=s,r=this.image.height()-s):(e=this.image.width()/2+a,t=this.image.width()/2-a,n=0,r=this.image.height()),Math.abs(this.overlayState.overlayRotation)>90&&Math.abs(this.overlayState.overlayRotation)<180&&(n=r+n,r=n-r,n-=r,e=t+e,t=e-t,e-=t),{startPoint:{x:e,y:n},endPoint:{x:t,y:r}}}var dt=ut;function lt(){var e=this,t=this.methods.getOverlayGradientCoordinates();this.overlayState.overlayRect&&this.overlayState.overlayRect.destroy();var n=new ce.a.Rect({id:"overlayRect",x:this.image.x(),y:this.image.y(),width:this.image.width(),height:this.image.height(),offsetX:this.image.offsetX(),offsetY:this.image.offsetY(),fillLinearGradientStartPoint:t.startPoint,fillLinearGradientEndPoint:t.endPoint,fillLinearGradientColorStops:[0,"rgba(".concat(this.overlayState.colors[this.overlayState.leftColor],",1)"),1,"rgba(".concat(this.overlayState.colors[this.overlayState.rightColor],",1)")],draggable:!1,opacity:this.overlayState.overlayOpacity});this.overlayState.overlayRect=n;var r,a=new ce.a.Rect({id:"multitouchRectOverlay",width:this.stage.width()/this.imageConf.ratio,height:this.stage.height()/this.imageConf.ratio,draggable:!1});Object(Ce["a"])(a),a.on("rotatestart",(function(t){r=e.overlayState.overlayOpacityComputed/100,r=0===r?.01:r,e.userActions.oldRotation=t.evt.gesture.rotation})),a.on("rotate",(function(t){var n=e.userActions.oldRotation-t.evt.gesture.rotation;if(n<30&&n>-30){var a=e.overlayState.overlayRotationComputed-n;a=a>180?a-360:a<-180?a+360:a,e.overlayState.overlayRotationComputed=a,e.userActions.oldRotation=t.evt.gesture.rotation}var s=r*t.evt.gesture.scale*100;e.overlayState.overlayOpacityComputed=s<=0?0:s>=100?100:s,e.layer.batchDraw()})),a.on("rotateend rotatecancel",(function(t){e.layer.batchDraw()})),this.group.add(n),this.layer.add(a),Te.call(this).forEach((function(e){e.hide()})),this.layer.batchDraw()}var ft=lt;function mt(){var e="transparent"===this.overlayState.leftColor?"0":"1",t="transparent"===this.overlayState.rightColor?"0":"1";this.overlayState.overlayRect.fillLinearGradientColorStops([0,"rgba(".concat(this.overlayState.colors[this.overlayState.leftColor],",").concat(e,")"),1,"rgba(".concat(this.overlayState.colors[this.overlayState.rightColor],",").concat(t,")")]),this.overlayState.overlayReset=!1,this.layer.batchDraw()}var pt=mt;function ht(){return bt.apply(this,arguments)}function bt(){return bt=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.overlayState.overlayReset?(this.overlayState.overlayRect.destroy(),this.layer.findOne("#multitouchRectOverlay").destroy()):this.layer.findOne("#multitouchRectOverlay").destroy(),e.next=3,this.methods.imageFromGroup(!1,{onlyPicture:!0});case 3:return t=e.sent,this.overlayState.overlayRect.destroy(),this.image.destroy(),e.next=8,this.methods.proceedFile(t.dataURL,0).then((function(){n.overlayState.overlayRect=null}));case 8:Te.call(this).forEach((function(e){n.api.events.$emit("showGifs"),e.show(),e.moveToTop(),e.parent.moveToTop()}));case 9:case"end":return e.stop()}}),e,this)}))),bt.apply(this,arguments)}var gt=ht;n("a481");function vt(e){var t=document.createElement("span");document.querySelector(".image_editor > .image_editor_holder").appendChild(t),t.id="span_check_textareasize",t.style.lineHeight=e.style.lineHeight,t.style.fontFamily=e.style.fontFamily,t.style.fontWeight=e.style.fontWeight,t.style.display="inline-block",t.style.color=e.style.color,t.style.fontSize=e.style.fontSize,t.style.position="absolute",t.style.width="auto",t.style.maxWidth=e.style.maxWidth,t.style.wordWrap="break-word",t.innerText="A";var n=t.offsetHeight,r=e.value.split("\n").length;t.style.padding=e.style.padding,t.innerHTML=e.value.replace(/\n\r?/g,"<br />");var a=t.offsetWidth+8,s=(t.offsetHeight-2*parseInt(e.style.padding,10))/n,i=document.querySelector(".image_editor").offsetWidth/2-t.offsetWidth/2,o=document.querySelector(".image_editor").offsetHeight/2-t.offsetHeight/2,c=s>=r?s:r,u={width:a+10,height:n*c+2*parseInt(e.style.padding,10),x:i,y:o};return t.remove(),u}var yt=vt;n("6c7b");function wt(){var e=this.textState.currentText.getParent().findOne(".tag");this.textState.textBackground?(this.textState.textBackground=!1,e.fill(null),this.methods.changeTextColor("black"===this.textState.textBackgroundColor?"white":this.textState.textBackgroundColor)):(this.textState.textBackground=!0,e.fill("rgb(".concat(this.overlayState.colors[this.textState.textBackgroundColor],")")),this.methods.changeTextColor("white"===this.textState.rightTextColor?"black":this.textState.rightTextColor))}var Ot=wt;function jt(){if(this.overlayState.overlayRect){this.api.events.$emit("overlayComputedsChange",{rotation:0,opacity:30}),this.overlayState.leftColor="transparent",this.overlayState.rightColor="transparent";var e="transparent"===this.overlayState.leftColor?"0":"1";this.overlayState.overlayRect.fillLinearGradientColorStops([0,"rgba(".concat(this.overlayState.colors[this.overlayState.leftColor],",").concat(e,")"),1,"rgba(".concat(this.overlayState.colors[this.overlayState.rightColor],",").concat(e,")")]),this.overlayState.overlayReset=!0,this.layer.batchDraw()}}var kt=jt;function St(e){var t=this.textState.currentText.getParent().findOne(".tag");t.fill()?(this.textState.textBackgroundColor=e,this.textState.currentText.textBackgroundColor=this.textState.textBackgroundColor,t.fill("rgb(".concat(this.overlayState.colors[this.textState.textBackgroundColor],")")),"white"!==e?(this.textState.rightTextColor="white",this.textState.currentText.fill("rgb(".concat(this.overlayState.colors[this.textState.rightTextColor],")"))):(this.textState.rightTextColor="black",this.textState.currentText.fill("rgb(".concat(this.overlayState.colors[this.textState.rightTextColor],")")))):(this.textState.rightTextColor=e,this.textState.currentText.fill("rgb(".concat(this.overlayState.colors[this.textState.rightTextColor],")")));var n=document.getElementById("textEditArea");"undefined"!==typeof n&&(n.style.background=t.fill()?"rgb(".concat(this.overlayState.colors[this.textState.textBackgroundColor],")"):"none",n.style.color=this.textState.currentText.fill()),this.layer.batchDraw()}var xt=St;function Pt(){"center"===this.textState.textAlign?(this.textState.textAlign="left",this.textState.currentLabel.x(30/this.imageConf.ratio)):"left"===this.textState.textAlign?this.textState.textAlign="right":"right"===this.textState.textAlign&&(this.textState.textAlign="center"),this.textState.currentText.align(this.textState.textAlign);var e=document.getElementById("textEditArea");if(this.textState.currentLabel.moved=!1,"undefined"!==typeof e){e.style.textAlign=this.textState.currentText.align();var t=this.methods.calcTextAreaParams(e);e.style.left="".concat(t.x,"px"),e.style.top="".concat(t.y,"px")}this.stage.batchDraw()}var It=Pt;function Ct(){var e=Object.keys(ie);this.textState.textBold=e[(e.indexOf(this.textState.textBold)+1)%e.length];var t=document.getElementById("textEditArea");if("undefined"!==typeof t){t.style.fontWeight="".concat(ie[this.textState.textBold]),this.textState.currentText.fontStyle("".concat(ie[this.textState.textBold]));var n=this.methods.calcTextAreaParams(t);t.style.left="".concat(n.x,"px"),t.style.top="".concat(n.y,"px"),t.style.width="".concat(n.width,"px"),t.style.height="".concat(n.height,"px")}this.stage.batchDraw()}var Rt=Ct;function Tt(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.textState.rightTextColor="white",this.textState.textBackgroundColor="black",this.textState.textBackground=!1,this.textState.textAlign="center";var r=new ce.a.Text({x:t.Text?t.Text.x:this.group.width()/2,y:t.Text?t.Text.y:this.image.y(),text:t.Text?t.Text.text:"",fontSize:t.Text?t.Text.fontSize:this.textState.defaultTextFontSize/this.imageConf.ratio,fontFamily:"Open Sans",padding:12/this.imageConf.ratio,align:this.textState.textAlign,fill:"rgb(255,255,255)",fontStyle:"regular"===this.textState.textStyle?"normal":this.textState.textStyle});t.Text||(r.x(r.x()-r.width()/2),r.textBackgroundColor=null);var a=new ce.a.Label({x:n.childX||this.group.width()/2-r.width()/2,y:n.childY||this.image.y(),draggable:!1,scale:{x:n.scaleX||1,y:n.scaleY||1},name:"label"});a.moved=!1,a.add(new ce.a.Tag({cornerRadius:5/this.imageConf.ratio,name:"tag"})),a.add(r),n.rotation&&a.rotation(n.rotation);var s=De.call(this,a),i=s.group,o=s.circle;if(n.id){a.historyId=n.id,i.historyId=a.historyId;var c=this.history.installMoveableObject(i,a);i.historyId=c.id}if(t.Text&&(n.childX||(a.x(t.x),a.y(t.y)),a.children.each((function(e){var n=t[e.className];n&&Object.keys(n).forEach((function(t){e[t](n[t])}))})),a.historySource=t),n.x&&i.x(n.x),n.y&&i.y(n.y),i.draggable(!0),!t.Text){var u=new ce.a.Rect({x:0,y:0,width:this.image.width(),height:this.image.height(),fill:"rgba(0,0,0,0.4)",id:"shadowRect"});this.group.add(u)}this.textState.currentText=r,this.textState.currentLabel=a;var d=0;r.addEventListener("tap",(function(e){d||setTimeout((function(){d=0}),300),d+=1,2===d&&r.fire("dblclick")})),r.addEventListener("dblclick",(function(t){if(o.hide(),e.textState.afterTextRotate)return e.textState.afterTextRotate=!1,!1;a.hide();var n=document.createElement("textarea");if(n.onblur=function(e){n.focus()},document.querySelector(".image_editor > .image_editor_holder").appendChild(n),e.textState.currentText=r,e.textState.currentLabel=a,"text"!==e.viewState.screen){e.viewState.screen="text";var s=e.textState.currentText.getParent().findOne(".tag");e.textState.textBackground=!!s.fill();var i=new ce.a.Rect({x:0,y:0,width:e.image.width(),height:e.image.height(),fill:"rgba(0,0,0,0.4)",id:"shadowRect"});e.group.add(i),a.moveUp()}e.layer.batchDraw(),e.textState.textBackgroundColor=e.textState.currentText.textBackgroundColor,e.textState.textAlign=e.textState.currentText.align(),n.value=r.text(),n.style.position="absolute",n.style.fontSize="".concat(r.fontSize()*e.imageConf.ratio,"px"),n.style.fontStyle="normal",n.style.fontWeight=e.textState.currentText.fontStyle(),n.style.border="none",n.style.wordWrap="break-word",n.style.borderRadius="5px",n.style.padding="".concat(r.padding()*e.imageConf.ratio,"px"),n.style.margin="0px",n.style.overflow="hidden",n.style.background="none",n.style.background=a.findOne(".tag").fill()?"rgb(".concat(e.overlayState.colors[e.textState.textBackgroundColor],")"):"none",n.style.outline="none",n.style.resize="none",n.style.lineHeight=r.lineHeight(),n.style.fontFamily=r.fontFamily(),n.style.transformOrigin="left top",n.style.textAlign=r.align(),n.style.color=r.fill(),n.style.zIndex=10,n.style.maxWidth="".concat(e.config.width-120,"px"),n.id="textEditArea",n.focus(),+e.textState.currentText.fontStyle()?e.textState.textBold=Object.keys(ie).find((function(t){return"".concat(ie[t])===e.textState.currentText.fontStyle()})):e.textState.textBold="regular";var c=e.methods.calcTextAreaParams(n);n.style.width="".concat(c.width,"px"),n.style.height="".concat(c.height,"px"),n.style.left="".concat(c.x,"px"),n.style.top="".concat(c.y,"px"),n.addEventListener("focusout",(function(e){})),"input propertychange".split(" ").forEach((function(t){n.addEventListener(t,(function(t){var r=e.methods.calcTextAreaParams(n),a=e.textState.currentText.getParent().findOne(".tag");n.style.background=a.fill()&&n.value.replace(/[\r\n]+/gm,"").trim().length?"rgb(".concat(e.overlayState.colors[e.textState.textBackgroundColor],")"):"none",n.style.left="".concat(r.x,"px"),n.style.top="".concat(r.y,"px"),n.style.width="".concat(r.width,"px"),n.style.height="".concat(r.height,"px")}))}));setTimeout((function(){}))})),t.Text||r.fire("dblclick")}var _t=Tt;function At(){var e=document.getElementById("textEditArea");"undefined"!==typeof e&&this.methods.removeTextArea(e,this.textState.currentText,this.textState.currentLabel,null),this.currentText=null,this.currentLabel=null}var Lt=At;function Et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Et(Object(n),!0).forEach((function(t){Object(i["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Et(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ut(e,t,n,r){if(!e)return!1;if(e.value.length>0){if("undefined"!==typeof n&&"undefined"!==typeof n.getText()){t.width(parseInt(e.style.width)/this.imageConf.ratio),t.text(e.value);var a=n.parent;if(n.historySource&&(n.from=JSON.parse(JSON.stringify(Mt(Mt({},n.historySource),{},{x:n.x(),y:n.y()})))),n.moved){var s=n.position().x+n.width()/2;n.x(s-n.width()/2)}else n.x(this.group.width()/2-t.width()/2);n.show(),n.moveUp(),n.historySource=Mt({x:n.x(),y:n.y()},n.children.reduce((function(e,t){return e[t.className]=t.attrs,e}),{})),n.historySource=JSON.parse(JSON.stringify(n.historySource)),a.historyId=n.historyId;var i=this.history.installMoveableObject(a,n);a.historyId=i.id,i.id===n.historyId&&this.history.push("moveableObject","modifyAttrs",i.id,this.history.normalizeMoveableObject(n)),n.historyId=a.historyId}}else t.destroy(),n.destroy(),this.textState.currentText=null,this.textState.currentLabel=null,this.layer.batchDraw();var o=this.group.findOne("#shadowRect");"undefined"!==typeof o&&o.destroy(),this.layer.batchDraw(),e.remove(),window.removeEventListener("click",r),window.removeEventListener("touchstart",r),this.textState.currentText=null,this.textState.currentLabel=null,this.methods.changeScreen("default")}var Dt=Ut;function Ft(e){return Bt.apply(this,arguments)}function Bt(){return Bt=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,s,i,o=this,c=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:{},window.showPreloader(),r=function(e){var r=new Image;r.onload=function(){var a=n.scaleX||.25*o.group.height()/r.height,s=n.scaleY||.25*o.group.width()/r.width,i=a<s?a:s,c=pe(r,i);c.x(n.childX||o.group.width()/2-c.width()/2*i),c.y(n.childY||o.group.height()/2-c.height()/2*i),c.imgSrc=t,c.imgOrigWidth=r.width,c.imgOrigHeight=r.height,c.perfectDrawEnabled(!1),c.fixed_ratio=!0,n.rotation&&c.rotation(n.rotation),n.id&&(c.historyId=n.id),e(c)},r.src=t},e.next=5,new Promise(r);case 5:return a=e.sent,s=De.call(this,a),i=s.group,n.x&&i.x(n.x),n.y&&i.y(n.y),this.api.events.$emit("stickerAdded",i),this.logAction("sticker add"),this.methods.normalizeStageFile(),window.hidePreloader(),e.abrupt("return",i);case 14:case"end":return e.stop()}}),e,this)}))),Bt.apply(this,arguments)}var Nt=Ft,qt=(n("4917"),n("d225")),Vt=n("b0b4"),$t=(n("6b54"),n("8f95")),Ht=n("bc3a"),Gt=n.n(Ht),zt="streamfans.js?rev=".concat("202108061256-f1db0728f2"),Wt=function(){function e(t){var n=this;Object(qt["a"])(this,e),this.worker=t,this.callStack={},this.worker.onmessage=function(e){var t=e.data;n.callStack[t.id]&&(t.error?n.callStack[t.id].reject(t.result):n.callStack[t.id].resolve(t.result))}}return Object(Vt["a"])(e,[{key:"post",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=Math.random().toString(36).substr(2,9),this.callStack[r]=Object($t["a"])(),this.worker.postMessage({fn:t,args:n,id:r}),e.abrupt("return",this.callStack[r].promise.then((function(e){return n=[],e})));case 4:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()}]),e}(),Yt=function(){function e(e,t){try{return e()}catch(n){throw console.error(n),new Error(t)}}function t(e){var t=e.width,n=e.height,r=Module.pxImageData.createObject(t,n,4),a=r.data(),s=e.data;return Module.HEAPU8.set(s,a),r}function n(e){var t=e.length,n=Module.pxEncodedData.createObject();n.create(t);var r=n.data(),a=e;return Module.HEAPU8.set(a,r),n}function r(e){var t=e.size(),n=e.data();return new Uint8Array(Module.HEAPU8.buffer,n,t)}Module.perform=function(a,s,i){var o=null,c=e((function(){return t(a)}),"Background convert errored");if(s){var u=e((function(){return n(s.gifBuffer)}),"Gif convert errored");o=r(e((function(){return Module.make_stick_mp4(c,u,s.x,s.y,s.rotation,s.width,s.height)}),"New gif is not done")),u.delete()}else o=r(e((function(){return Module.make_img2mp4_ext(c,i,6e7)}),"New video is not created to js Buffer"));return c.delete(),new Blob([o],{type:"video/mp4"})}},Xt=function(){return Qt.apply(this,arguments)};function Qt(){return Qt=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a,s,i,o,c,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=Object($t["a"])(),window.WASMMP4Worker){e.next=17;break}return n=window.location.origin,r="/theme/onlyfans/spa/",e.next=6,Gt.a.get("".concat(r).concat(zt),{responseType:"arraybuffer"});case 6:return a=e.sent,s=new Blob([a.data],{type:"text/plain"}),e.next=10,new Promise((function(e){var t=new FileReader;t.onload=function(t){e(t.target.result)},t.readAsText(s)}));case 10:i=e.sent,o="\n  Module = {};\n  Module.locateFile = function () { return '".concat(n).concat(r,"streamfans.wasm?rev=").concat("202108061256-f1db0728f2","' };\n  Module.onRuntimeInitialized = function () { console.log('WASM ready'); postMessage({ ready: true }) };\n  (").concat(Yt,")()\n  onmessage = function (e) {\n    var id = e.data.id;\n    var fn = e.data.fn;\n    var args = e.data.args;\n    var result = null;\n    var error = false;\n    try {\n      result = Module[fn].apply(null, args);\n    } catch (e) {\n      error = true;\n      result = e;\n    }\n    var argsToSend = { result: result, fn: fn, id: id, error: error };\n    postMessage({ result: result, fn: fn, id: id, error: error });\n\n    for (var key in args) {\n      delete args[key];\n    }\n  }\n  ").concat(i,"\n  "),c=URL.createObjectURL(new Blob([o],{type:"application/javascript"})),u=new Worker(c),u.onmessage=function(e){try{e.data.ready&&(window.WASMMP4Worker=new Wt(u),t.resolve(window.WASMMP4Worker))}catch(e){t.reject(e)}},e.next=18;break;case 17:t.resolve(window.WASMMP4Worker);case 18:return e.abrupt("return",t.promise);case 19:case"end":return e.stop()}}),e)}))),Qt.apply(this,arguments)}var Kt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.backgroundImageData,r=t.gifs,a=void 0===r?[]:r,s=t.time,i=void 0===s?1e3:s,o=t.context;Object(qt["a"])(this,e),this.time=i,this.Module=null,this.background=n,this.context=o,this.gif=a[0],this.result=null}return Object(Vt["a"])(e,[{key:"perform",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.createWorker(this.context),t.next=3,this.post("perform",[this.background,this.gif,this.time]);case 3:return n=t.sent,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t,this)})));function n(){return t.apply(this,arguments)}return n}()},{key:"post",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]?r[1]:[],this.context.workerLoaded){e.next=5;break}return e.next=4,this.context.worker;case 4:return e.abrupt("return",this.context.worker.post(t,n));case 5:return e.abrupt("return",this.context.worker.post(t,n));case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}],[{key:"createWorker",value:function(e){var t=e;t.workerLoaded||t.worker||(t.worker=Xt(),console.log("WASM start loading"),t.worker.then((function(e){t.workerLoaded=!0,t.worker=e})))}}]),e}(),Jt=Kt;function Zt(e){return en.apply(this,arguments)}function en(){return en=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,s,i,o,c,u,d,l,f,m,p,h,b,g,v,y,w,O,j,k,S,x,P,I,C,R,T,_,A,L,E,M=this,U=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=U.length>1&&void 0!==U[1]?U[1]:{},r=n.toCanvas,s=void 0!==r&&r,i=n.toVideo,o=void 0!==i&&i,c=n.onlyPicture,u=void 0!==c&&c,this.api.events.$emit("preSave"),d=this.group.findOne(".QuestionBlock"),d&&!u&&d.destroy(),l=o?2e3:1200,f=this.gifs.storage.length,m=(f||o)&&!u&&this.image.width()>l?100/this.image.width()*l/100:1,this.stage.scale({x:m,y:m}),this.deepArSettings.ratio=m,this.stage.size({width:this.group.width()>this.stage.width()?this.group.width():this.stage.width(),height:this.group.height()>this.stage.height()?this.group.height():this.stage.height()}),(f||o)&&!u){e.next=24;break}if(p=this.group[s?"toCanvas":"toDataURL"]({x:this.image.x()-this.image.width()/2+this.group.x(),y:this.image.y()-this.image.height()/2+this.group.y(),width:this.image.width(),height:this.image.height(),pixelRatio:1,mimeType:"image/jpeg"}),this.methods.normalizeStageFile(),s){e.next=21;break}h=p.split(","),b=h[0].match(/:(.*?);/)[1],g=atob(h[1]),v=g.length,y=new Uint8Array(v);while(v--)y[v]=g.charCodeAt(v);return e.abrupt("return",{mime:b,buffer:y,dataURL:p});case 21:return e.abrupt("return",{canvas:p});case 24:if(!f&&!o){e.next=38;break}return w=this.gifs.storage[0],O=this.group.toCanvas({x:this.image.x()*m-this.image.width()*m/2+this.group.x()*m,y:this.image.y()*m-this.image.height()*m/2+this.group.y()*m,width:this.image.width()*m,height:this.image.height()*m,pixelRatio:1}),this.api.events.$emit("showGifs"),j=O.getContext("2d"),k=j.getImageData(0,0,O.width,O.height),S=[],w&&!o&&(x=w.buffer,P=this.image.getClientRect(),I=w.konva.getClientRect(),C=I.x-P.x,R=I.y-P.y,T=w.konva.width()*w.konva.scaleX()*m,_=w.konva.height()*w.konva.scaleX()*m,A=-1*w.konva.rotation(),S.push({gifBuffer:x,x:C,y:R,width:T,height:_,rotation:A})),this.methods.normalizeStageFile(),L=new Jt({backgroundImageData:k,gifs:S,context:this.gifs}),e.next=36,new Promise(function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=setTimeout((function(){M.logError(new Error("Too long init video")),alert("Something went wrong. Please try again"),window.hidePreloader(),t(!1)}),2e4),e.next=3,L.perform().catch((function(e){return M.logError(e),alert("Something went wrong. Please try again"),window.hidePreloader(),!1}));case 3:r=e.sent,clearTimeout(n),t(r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 36:return E=e.sent,e.abrupt("return",{mime:"video/mp4",blob:E});case 38:case"end":return e.stop()}}),e,this)}))),en.apply(this,arguments)}var tn=Zt;function nn(){return rn.apply(this,arguments)}function rn(){return rn=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t="new_file",e.next=3,this.methods.imageFromGroup(!0);case 3:if(n=e.sent,r=n.mime.split("/")[1],"mp4"===r&&(r="gif"),!n.buffer){e.next=10;break}return e.abrupt("return",new File([n.buffer],"".concat(t,".").concat(r),{type:n.mime}));case 10:if(!n.blob){e.next=15;break}return e.next=13,new Promise((function(e){var t=new FileReader;t.onload=function(t){e(t.target.result)},t.readAsArrayBuffer(n.blob)}));case 13:return a=e.sent,e.abrupt("return",new File([a],"".concat(t,".").concat(r),{type:n.mime}));case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,this)}))),rn.apply(this,arguments)}var an=nn;function sn(e,t,n){t.shadows&&t.shadows.destroy();var r=n.getClientRect();r={x:r.x,y:r.y,height:r.height/this.imageConf.ratio,width:r.width/this.imageConf.ratio};var a=e.getClientRect();a={x:a.x,y:a.y,height:a.height/this.imageConf.ratio,width:a.width/this.imageConf.ratio};var s=2*r.width+a.width,i=a.height,o=s,c=i,u=r.width,d=a.height,l=u,f=d,m=a.x+(e.x()-(a.x+n.x()))-u,p=a.y+(e.y()-(a.y+n.y()))-i,h=m,b=a.y+(e.y()-(a.y+n.y()))+c,g=a.x?a.x+(e.x()-(a.x+n.x()))-u:0-u,v=a.y+(e.y()-(a.y+n.y())),y=a.x?a.x+(e.x()-(a.x+n.x()))+a.width:a.width,w=a.y+(e.y()-(a.y+n.y())),O=ge({x:m,y:p,height:i,width:s}),j=ge({x:h,y:b,height:c,width:o}),k=ge({x:g,y:v,height:d,width:u}),S=ge({x:y,y:w,height:f,width:l});return t.shadows=new ce.a.Group,t.shadows.add(O),t.shadows.add(j),t.shadows.add(k),t.shadows.add(S),this.group.add(t.shadows),!0}var on=sn,cn=function(e){return un.apply(this,arguments)};function un(){return un=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,s,i=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:{},Object.keys(this.gifs.storage).length&&(this.gifs.storage[0].konva.destroy(),this.gifs.storage=[]),window.showPreloader(),Jt.createWorker(this.gifs),e.next=6,je.call(this,t,this.layer);case 6:r=e.sent,n.childX&&r.gif.x(n.childX),n.childY&&r.gif.y(n.childY),n.id&&(r.gif.historyId=n.id),n.rotation&&r.gif.rotation(n.rotation),a=De.call(this,r.gif),s=a.group,this.api.events.$on("preSave",(function(){s.hide()})),this.gifs.storage.push({konva:r.gif,buffer:r.buffer}),n.x&&s.x(n.x),n.y&&s.y(n.y),this.api.events.$on("showGifs",(function(){s.show()})),this.api.events.$emit("gifAdded",this.gifs.storage.gif),!0===this.settings.saveAsCopy&&this.api.events.$emit("saveAsCopyPermToggle",!1),this.logAction("gif add"),window.hidePreloader();case 21:case"end":return e.stop()}}),e,this)}))),un.apply(this,arguments)}var dn="deepar.js";function ln(e){return e?"/theme/onlyfans/spa/deepAr/":"https://static.cdn.onlyfans.com/theme/onlyfans/spa/deepAr/"}function fn(e){var t="deepArScript",n=document.getElementById(t);if(!n){var r=document.createElement("script");return window.deepArRevision="202108061256-f1db0728f2",r.setAttribute("src","".concat(ln(e)).concat(dn,"?rev=").concat("202108061256-f1db0728f2")),r.setAttribute("id",t),r.setAttribute("loaded","no"),new Promise((function(e){r.onload=function(){r.setAttribute("loaded","yes"),e(window.DeepAR)},setTimeout((function(){e(window.DeepAR)}),1e4),document.head.appendChild(r)})).catch((function(){return!1}))}return window.DeepAR}var mn=function(){function e(t){Object(qt["a"])(this,e),this.DeepAr=null,this.editor=t}return Object(Vt["a"])(e,[{key:"init",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,s,i,o,c,u,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){setTimeout((function(){e()}),1e3)}));case 2:return e.next=4,fn(this.editor.isBeta);case 4:r=e.sent,a=document.getElementById("deepArCanvasPlaceholder"),s=this.editor.deepArSettings.height,i=this.editor.deepArSettings.width,o=document.createElement("video"),o.loop=!0,o.muted=!0,o.playsinline=!0,o.crossorigin="anonymous",o.autoplay=!0,o.controls=!0,o.src=t,o.style.position="absolute",o.style.left="-9999px",a.appendChild(o),c=this.editor,function(){window.hidePreloader(),c.methods.cancelDeepAr(),c.logError(new Error("Too long deepArInit")),alert("Something went wrong. Please try again")},u=document.createElement("canvas"),d=new r({canvasWidth:i,canvasHeight:s,licenseKey:"ddfe0cc5d0ce5cb0ada4fc7e925cac5b3a2e74c6df0f74f791816fe51d065e4588fececd4651943b",canvas:u,numberOfFaces:1,onInitialize:function(){d.setVideoElement(o,!1),window.hidePreloader(),d.switchEffect(0,"slot","".concat(ln(c.isBeta),"effects/baseBeauty.bin?rev=").concat("202108061256-f1db0728f2")),c.deepAr=d,n()}}),a.appendChild(u),d.downloadFaceTrackingModel("".concat(ln(c.isBeta),"models/models-68-extreme.bin?rev=").concat("202108061256-f1db0728f2")),this.editor.deepAr=d;case 26:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()}]),e}(),pn=mn;function hn(e,t,n,r){this["history".concat(e)].undo.push({type:t,stateType:n,options:r}),this["history".concat(e)].redo=[]}function bn(e,t){var n="undo"===t?"redo":"undo",r=this["history".concat(e)][t].pop();this["history".concat(e)][n].push(r)}function gn(e){this["history".concat(e)]={undo:[],redo:[],push:hn.bind(this,e),pop:bn.bind(this,e)}}function vn(e,t){var n,r=this,a=this,s=function e(){!0!==r.viewState.isDraggingMoveable&&(clearTimeout(n),n=null,r.viewState.longTap=!1,document.removeEventListener("mouseup",e),document.removeEventListener("touchend",e))},i=function(e){(t||"editable_image"===e.target.attrs.id)&&(e.evt&&e.evt.touches&&e.evt.touches.length>1||(n=setTimeout((function(){!0!==a.viewState.isRotatingMoveable&&(document.addEventListener("mouseup",s),document.addEventListener("touchend",s),r.viewState.longTap=!0,!0)}),600)))},o=t?"addEventListener":"on";e[o]("mousedown",i),e[o]("touchstart",i),e[o]("mouseup",s),e[o]("touchend",s)}var yn=vn;function wn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function On(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wn(Object(n),!0).forEach((function(t){Object(i["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var jn=function(){return kn.apply(this,arguments)};function kn(){return kn=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a,s=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return window.showPreloader(),t=new pn(this),Te.call(this).forEach((function(e){e.hide()})),gn.call(this,"deepAr"),e.next=6,this.methods.imageFromGroup(!1,{toVideo:!0});case 6:if(n=e.sent,n.blob){e.next=10;break}return this.methods.cancelDeepAr(),e.abrupt("return");case 10:return r=URL.createObjectURL(n.blob),this.deepArSettings=On(On({},this.deepArSettings),{},{width:this.image.width()*this.imageConf.ratio,height:this.image.height()*this.imageConf.ratio}),e.next=14,t.init(r,(function(){s.api.events.$emit("deepArInit",!0)}));case 14:a=document.getElementById("deepArCanvasPlaceholder"),a.style.minHeight="".concat(this.config.height,"px"),yn.call(this,a,!0),this.methods.changeScreen("deepAr");case 18:case"end":return e.stop()}}),e,this)}))),kn.apply(this,arguments)}var Sn=function(e){var t=2,n=/(\u00a9|\u00ae|[\u2000-\u3300]|\ud83c[\ud000-\udfff]|\ud83d[\ud000-\udfff]|\ud83e[\ud000-\udfff])/,r=(e.displayName||e.name).trim(),a=[];if(r){var s=r.split(/\s+/);if(!(s.length>1))return r=r.replace(n,""),r.substr(0,Math.min(r.length,t)).split("").map((function(e,t){return t?e:e.toUpperCase()})).join("");for(var i=0;i<Math.min(s.length,t);i+=1){var o=Object(ve["a"])(s[i].toString().trim())[0];(a.length<1||!n.exec(a[0])&&!n.exec(o))&&a.push(o)}}return a.join("").toUpperCase()};function xn(e,t,n){var r=this;this.questionOnBlurHandler&&this.api.events.$root.$off("imageEditor::question::blur",this.questionOnBlurHandler),this.hide&&this.api.events.$root.$off("imageEditor::question::focus",this.hide);var a=this.api.$store.getters["auth/authUser"],s=a.avatarThumbs,i=this.image.width(),o=this.image.height(),c=i/o<=1,u=(c?.5*i:.25*i)/.9,d=332,l=i/2,f=o/2,m=.08*u,p=m+u/100,h=16*u/d,b=24*h/16,g=20*h/16,v=u/10-h,y=.42*b-h,w=l-u/2,O=f,j=function(e){var s=new ce.a.Label({x:w,y:O,width:u}),c=new ce.a.Label({x:(u-m)/2,width:u});c.add(new ce.a.Circle({radius:p,fill:"white",stroke:"#8a96a340",strokeWidth:1})),e?c.add(new ce.a.Circle({radius:m,fillPatternImage:e,fillPatternRepeat:"no-repeat",fillPatternScaleX:2*m/e.width,fillPatternScaleY:2*m/e.width,fillPatternOffsetX:e.width/2,fillPatternOffsetY:e.width/2})):(c.add(new ce.a.Circle({radius:m,fill:"#8a96a31f"})),c.add(new ce.a.Text({fill:"#00aff0",fontStyle:"bold",padding:-g/2,verticalAlign:"middle",text:Sn(a),fontSize:g,width:.9*u})));var d=new ce.a.Label({y:v}),l=new ce.a.Text({fill:"#00aff0",fontStyle:"normal",text:"Ask me a question",align:"center",verticalAlign:"middle",fontSize:b,width:u-2*h,padding:h,lineHeight:1.25});d.add(l);var f=new ce.a.Label({x:.05*u}),j=new ce.a.Tag({fill:"#8a96a340",cornerRadius:u/50});f.add(j),f.add(new ce.a.Text({fill:"#8a96a3",text:"write something...",align:"center",width:.9*u-2*h,padding:h,fontSize:h}));var k=new ce.a.Tag({fill:"rgba(255,255,255,1)",cornerRadius:u/50,width:u,stroke:"#8a96a340",strokeWidth:1}),S=new ce.a.Label({name:"QuestionBlock"});s.add(k),s.add(c),s.add(d),s.add(f),S.add(s);var x=De.call(r,S,!0),P=x.group,I=function(e,t){var n=e/r.image.width(),a=t/r.image.height();r.api.events.$root.$emit("imageEditor::question::updateCoords",{x:n,y:a,width:u})},C=function(){var e,t,n=P.position(),a=n.x,s=n.y,c=a-u/2+r.image.width()/2,d=s+r.image.height()/2,l=k.getHeight();c<0&&(e=0),c>i-.9*u&&(e=i-.9*u),d<p&&(t=p),d>o-l&&(t=o-l);var f=void 0!==e?e:c,m=void 0!==t?t:d;if(void 0!==e||void 0!==t){var h=f+u/2-r.image.width()/2,b=m-r.image.height()/2;P.position({x:h,y:b})}I(f,m)};function R(){P.show(),P.parent.parent.draw()}r.hide=function(){P.hide(),P.parent.parent.draw()},r.questionOnBlurHandler=function(e){S.text=e||"Ask me a question",l.setAttr("text",S.text);var t=l.getHeight(),n=f.getHeight();f.setY(t+v+y),j.setHeight(n);var r=t+n+v+y+.05*u;k.setHeight(r),R()};var T=function(){r.api.events.$root.$emit("imageEditor::question::focus")};return r.api.events.$root.$on("imageEditor::question::focus",r.hide),r.api.events.$root.$on("imageEditor::question::blur",r.questionOnBlurHandler),P.on("dragend",C),P.on("click",T),P.on("tap",T),C(),r.hide(),t&&T(),n&&r.questionOnBlurHandler(n),r.logAction("question add"),r.methods.normalizeStageFile(),P};if(s){var k=new Image;k.src=s.c144,k.onload=function(){j(k)}}else j()}var Pn=xn;function In(){var e=this,t=this.settings.answer;if(t){var n=this.image.width(),r=this.image.height(),a=332,s=n/r<=1,i=s?.5*n:.25*n,o=n/2,c=r/2,u=16*i/a,d=24*u/16,l=o-i/2,f=c,m=new ce.a.Label({x:l,y:f,width:i}),p=new ce.a.Label({width:i}),h=new ce.a.Tag({fill:"#262626",width:i,cornerRadius:i/50}),b=new ce.a.Tag({fill:"#262626",width:i,height:i/25}),g=new ce.a.Text({fill:"white",text:t.question,align:"center",width:i,padding:u,fontSize:u});p.add(h),p.add(b),p.add(g);var v=new ce.a.Label({width:i}),y=new ce.a.Tag({fill:"white",width:i,cornerRadius:i/50,stroke:"#8a96a340",strokeWidth:1}),w=new ce.a.Tag({fill:"white",width:i,height:i/25}),O=new ce.a.Text({fill:"#262626",text:t.text,align:"center",width:i,padding:d,fontSize:d});v.add(y),v.add(w),v.add(O);var j=new ce.a.Label({name:"AnswerBlock"});m.add(p),m.add(v),j.add(m);var k=De.call(this,j,!0),S=k.group;S.draggable(!0),S.parent.parent.draw();var x=g.getHeight();h.setHeight(x),b.setY(x-i/25);var P=O.getHeight();v.setY(x),y.setHeight(P),S.on("dragend",(function(){var t,a,s=S.position(),o=s.x,c=s.y,u=o-i/2+e.image.width()/2,d=c+e.image.height()/2,l=x+P;u<0&&(t=0),u>n-i&&(t=n-i),d<0&&(a=0),d>r-l&&(a=r-l);var f=void 0!==t?t:u,m=void 0!==a?a:d;if(void 0!==t||void 0!==a){var p=f+i/2-e.image.width()/2,h=m-e.image.height()/2;S.position({x:p,y:h})}})),S.parent.parent.draw(),this.logAction("answer add")}}var Cn=In;function Rn(){return Tn.apply(this,arguments)}function Tn(){return Tn=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,n,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=document.getElementById("deepArCanvasPlaceholder"),this.deepAr.setCanvasSize(this.deepArSettings.width/this.deepArSettings.ratio,this.deepArSettings.height/this.deepArSettings.ratio),e.next=4,new Promise((function(e){r.deepAr.onScreenshotTaken=function(t){e(t)},r.deepAr.takeScreenshot()}));case 4:return n=e.sent,this.image.destroy(),t.innerHTML="",t.style.minHeight="0px",e.next=10,this.methods.proceedFile(n,0,!1,!0).then((function(){r.logAction("deepAr data",{makeup:r.deepArSettings.makeup,beauty:r.deepArSettings.beauty_effects}),r.resetDeepArSettings(),r.deepAr=null,Te.call(r).forEach((function(e){r.api.events.$emit("showGifs"),e.show(),e.moveToTop(),e.parent.moveToTop()})),r.methods.normalizeStageFile()}));case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)}))),Tn.apply(this,arguments)}var _n=Rn,An=function(e,t,n){return Ln.apply(this,arguments)};function Ln(){return Ln=Object(a["a"])(regeneratorRuntime.mark((function e(t,n,r){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.deepAr){e.next=2;break}return e.abrupt("return");case 2:window.showPreloader(),a="/theme/onlyfans/spa/deepAr/",this.deepAr.switchEffect(0,n,"".concat(a,"effects/").concat(t,"?rev=").concat("202108061256-f1db0728f2"),(function(){r&&r(),window.hidePreloader()}));case 5:case"end":return e.stop()}}),e,this)}))),Ln.apply(this,arguments)}function En(){return Mn.apply(this,arguments)}function Mn(){return Mn=Object(a["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=document.getElementById("deepArCanvasPlaceholder"),t.innerHTML="",t.style.minHeight="0px",Te.call(this).forEach((function(e){e.show(),e.moveToTop(),e.parent.moveToTop()})),this.deepAr=null,this.resetDeepArSettings(),this.methods.changeScreen("default");case 7:case"end":return e.stop()}}),e,this)}))),Mn.apply(this,arguments)}var Un=En,Dn={moveableObject:{create:{undo:function(e){var t=e.options,n=this.history.moveableObjects[t.id].konva;n.destroy(),"gif"===t.name&&(this.gifs.storage=[])},redo:function(e){var t=e.options;"sticker"===t.name?this.methods.addSticker(t.source,{id:t.id}):"gif"===t.name?this.methods.addGif(t.source,{id:t.id}):"label"===t.name?this.methods.addText(t.source,{id:t.id}):"QuestionBlock"===t.name?this.methods.addQuestion(t.source,t):"AnswerBlock"===t.name&&this.methods.addAnswer()}},modifyPosition:{undo:function(e){var t=e.options,n=this.history.moveableObjects[t.id].konva;Object.keys(t.from).forEach((function(e){"function"===typeof n[e]&&n[e](t.from[e])}))},redo:function(e){var t=e.options,n=this.history.moveableObjects[t.id].konva;Object.keys(t).forEach((function(e){"function"===typeof n[e]&&n[e](t[e])}))}},modifyRotation:{undo:function(e){var t,n=e.options,r=this.history.moveableObjects[n.id].konva;r.children.each((function(e){"Circle"!==e.className&&(t=e)})),Object.keys(n.from).forEach((function(e){"function"===typeof t[e]&&t[e](n.from[e])}))},redo:function(e){var t,n=e.options,r=this.history.moveableObjects[n.id].konva;r.children.each((function(e){"Circle"!==e.className&&(t=e)})),Object.keys(n).forEach((function(e){"function"===typeof t[e]&&t[e](n[e])}))}},delete:{undo:function(e){var t=e.options;"sticker"===t.name?this.methods.addSticker(t.source,t):"gif"===t.name?this.methods.addGif(t.source,t):"label"===t.name?this.methods.addText(t.source,t):"QuestionBlock"===t.name?this.methods.addQuestion(t.source,t):"AnswerBlock"===t.name&&this.methods.addAnswer()},redo:function(e){var t=e.options,n=this.history.moveableObjects[t.id].konva;n.destroy(),"gif"===t.name&&(this.gifs.storage=[])}},modifyAttrs:{undo:function(e){var t=e.options,n=this.history.moveableObjects[t.id].konva;if("label"===t.name){var r=null;n.children.each((function(e){"Label"===e.className&&(r=e)})),r&&(r.x(t.from.x),r.y(t.from.y),r.children.each((function(e){var n=t.from[e.className];n&&Object.keys(n).forEach((function(t){e[t](n[t])}))})))}},redo:function(e){var t=e.options,n=this.history.moveableObjects[t.id].konva;if("label"===t.name){var r=null;n.children.each((function(e){"Label"===e.className&&(r=e)})),r&&(r.x(t.source.x),r.y(t.source.y),r.children.each((function(e){var n=t.source[e.className];n&&Object.keys(n).forEach((function(t){e[t](n[t])}))})))}}}},image:{modify:{undo:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.options,this.image.destroy(),e.next=4,this.methods.proceedFile(n.from,100,!0);case 4:Te.call(this).forEach((function(e){r.api.events.$emit("showGifs"),e.show(),e.moveToTop(),e.parent.moveToTop()}));case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),redo:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.options,this.image.destroy(),e.next=4,this.methods.proceedFile(n.to,100,!0);case 4:Te.call(this).forEach((function(e){r.api.events.$emit("showGifs"),e.show(),e.moveToTop(),e.parent.moveToTop()}));case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}},deepAr:{vector:{undo:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=t.options,this.deepAr.changeParameterVector.apply(null,n.to),this.deepArSettings.category=n.fromState.category,this.deepArSettings.foundation=n.fromState.foundation,this.deepArSettings["".concat(n.fromState.category,"sub")]=n.fromState.subcategory,this.deepAr.changeParameterFloat("face_makeup","MeshRenderer","foundationLumaClamp",n.oldLumaValue),n.oldLumaValue?this.deepArSettings.foundationIndex=n.fromState.index:this.deepArSettings.foundationIndex=n.fromState.shouldSaveIndex?n.fromState.index:-1,this.deepArSettings.foundationColorsMapStates["".concat(n.fromState.foundation).concat(this.deepArSettings.foundationColorsMap[n.fromState.foundation][n.fromState.index].join(","))]=n.oldLumaValue,this.deepArSettings.foundation=n.fromState.foundation,this.api.events.$emit("deepArRerender");case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),redo:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=t.options,this.deepAr.changeParameterVector.apply(null,n.to),this.deepArSettings.category=n.toState.category,this.deepArSettings.foundation=n.toState.foundation,n.lumaValue?this.deepArSettings.foundationIndex=n.toState.index:this.deepArSettings.foundationIndex=n.toState.shouldSaveIndex?n.toState.index:-1,this.deepArSettings["".concat(n.toState.category,"sub")]=n.toState.subcategory,this.deepAr.changeParameterFloat("face_makeup","MeshRenderer","foundationLumaClamp",n.lumaValue),this.deepArSettings.foundationColorsMapStates["".concat(n.toState.foundation).concat(this.deepArSettings.foundationColorsMap[n.toState.foundation][n.toState.index].join(","))]=n.lumaValue,this.api.events.$emit("deepArRerender");case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},parameter:{undo:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=t.options,this.deepArSettings[n.from[0]][n.from[2].replace("blendShape1.","")]=n.shouldReverse?-1*n.from[3]:n.from[3],this.deepArSettings.category=n.category,this.deepArSettings["".concat(n.category,"sub")]=n.subcategory,n.subsubcategory?this.deepArSettings["".concat(n.category,"subsub")]=n.subsubcategory:this.deepArSettings["".concat(n.category,"subsub")]=!1,this.deepAr.changeParameterFloat.apply(null,n.from),this.api.events.$emit("deepArRerender");case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),redo:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=t.options,this.deepArSettings[n.to[0]][n.to[2].replace("blendShape1.","")]=n.shouldReverse?-1*n.to[3]:n.to[3],this.deepArSettings.category=n.category,this.deepArSettings["".concat(n.category,"sub")]=n.subcategory,n.subsubcategory?this.deepArSettings["".concat(n.category,"subsub")]=n.subsubcategory:this.deepArSettings["".concat(n.category,"subsub")]=!1,this.deepAr.changeParameterFloat.apply(null,n.to),this.api.events.$emit("deepArRerender");case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}}};function Fn(e,t){return Bn.apply(this,arguments)}function Bn(){return Bn=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,s=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=n?this["history".concat(n)]:this.history,e.next=3,new Promise(function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(a){var i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=r[t][r[t].length-1],e.next=3,Dn[i.type][i.stateType][t].call(s,i,n);case 3:s.layer.batchDraw(),r.pop(t),o=r.undo.length,r.undo=r.undo.slice(-15),r.redo=r.redo.slice(-15),n||o===r.undo.length||(r.didClear=!0),setTimeout((function(){a()}),100);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)}))),Bn.apply(this,arguments)}var Nn=Fn;function qn(){var e=Object.assign({},r),t=this,n=function(n){e[n]=function(){try{for(var e=arguments.length,a=new Array(e),s=0;s<e;s++)a[s]=arguments[s];var i=r[n].apply(t,a);return i&&i.catch&&i.catch((function(e){t.logError(e,!0)})),i}catch(o){t.logError(o)}}};for(var a in e)n(a);return e}n("168f");var Vn=n("8121");function $n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Hn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$n(Object(n),!0).forEach((function(t){Object(i["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$n(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Gn=function(){return!(0===this.history.undo.length&&!this.history.didClear)};function zn(e){var t=this,n=function(){Object.keys(t.historyBlobs).forEach((function(e){window.URL.revokeObjectURL(e)}))};this.sendFile=function(){var r=Object(a["a"])(regeneratorRuntime.mark((function r(a,s){var i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(window.showPreloader(),!s){r.next=5;break}r.t0=e,r.next=8;break;case 5:return r.next=7,t.methods.createFileType("".concat(e.name,"_edited"));case 7:r.t0=r.sent;case 8:i=r.t0,i&&(t.resolve({didModify:Gn.call(t),asCopy:a,file:i}),t.logAction("file resolved",{asCopy:a}),n()),window.hidePreloader();case 11:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}(),this.rejectFile=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.reject(Hn(Hn({didModify:!1,asCopy:!1,retake:!1},r),{},{file:e})),t.logAction("file rejected"),n()},this.logAction=function(e){try{Object(Vn["f"])({page:"ImageEditor_".concat(e.replace(" ","-")),eventTime:(new Date).toISOString()})}catch(t){console.error(t)}},this.logError=function(e,t){Sentry.withScope((function(t){t.setTag("ImageEditor",!0),Sentry.captureException(e)})),t||console.error(e)}}n("c5f6"),n("3b2b");function Wn(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0}function Yn(e){var t=this,n=this;this.viewState={screen:"default",longTap:!1,isRotatingMoveable:!1},this.imageConf={ratio:1,shadows:null,html:null},this.userActions={shapeIsDraging:null,shapeIsRotating:null,selectedShape:null,oldRotation:0},this.gifs={storage:[],workerLoaded:!1,worker:null};var r={width:0,height:0,ratio:1,category:"makeup",makeupsub:"smooth",facesub:!1,facesubsub:!1,foundationColorsMapStates:{},face_makeup:{smoothingAmount:.3},beauty_shapes:{eyebrows_thickness:0,upper_position_alt:0,eyebrows_position:0,mouth_horizontal:0,jawline:0,mouth_vertical:0,thin:0,nose:0,mouth:0,eyes:0,chin:0},foundation:"light",foundationColorsMap:{light:[[255,250,231,1],[247,221,195,1],[230,184,172,1],[243,205,165,1],[244,205,162,1],[246,212,158,1],[215,189,137,1]],medium:[[220,182,148,1],[182,137,104,1],[233,154,99,1],[200,130,88,1],[217,150,104,1],[156,120,75,1]],dark:[[163,117,93,1],[137,110,83,1],[101,68,38,1],[85,63,39,1],[96,55,40,1]]},foundationIndex:-1};this.deepAr=null,this.deepArSettings=JSON.parse(JSON.stringify(r)),this.resetDeepArSettings=function(){t.deepArSettings=JSON.parse(JSON.stringify(r))},this.isBeta=Wn("beta"),this.cropState={cropOrientation:"portrait",cropRelationActive:1,cropRelations:[[9,16],[2,3],[3,4],[1,1]],cropXSide:1,cropYSide:1,cropRect:null,shadows:null,maxImageScale:200,minImageScale:50},Object.defineProperty(this.cropState,"imageSizeComp",{get:function(){return 100*+n.image.scaleX()},set:function(t){n.image.cropReset=!1,n.image.scale({x:+t/100,y:+t/100}),n.layer.batchDraw(),e.events.$emit("imageSizeViewChange",t)}}),e.events.$on("imageSizeStateChange",(function(e){t.cropState.imageSizeComp=e})),Object.defineProperty(this.cropState,"imageRotateComp",{get:function(){return+n.image.rotation()},set:function(t){n.image.rotation(Number(t)),n.layer.batchDraw(),e.events.$emit("imageRotateViewChange",t)}}),e.events.$on("imageRotateStateChange",(function(e){t.cropState.imageRotateComp=e})),this.overlayState={leftColor:"blue",rightColor:"pink",colors:{white:"255,255,255",black:"0,0,0",blue:"56,151,241",green:"112,192,79",yellow:"253,203,92",orange:"252,141,51",pink:"209,7,106",purple:"162,7,186",transparent:"0,0,0"},overlayRect:null,overlayOpacity:.3,overlayRotation:0,overlayReset:!1},Object.defineProperty(this.overlayState,"overlayOpacityComputed",{get:function(){return 100*n.overlayState.overlayOpacity},set:function(e){n.overlayState.overlayReset=0===e,n.overlayState.overlayOpacity=e/100,n.overlayState.overlayRect.opacity(n.overlayState.overlayOpacity),n.layer.batchDraw()}}),Object.defineProperty(this.overlayState,"overlayRotationComputed",{get:function(){return+n.overlayState.overlayRotation},set:function(e){n.overlayState.overlayRotation=+e;var t=n.methods.getOverlayGradientCoordinates();n.overlayState.overlayRect.fillLinearGradientStartPoint(t.startPoint),n.overlayState.overlayRect.fillLinearGradientEndPoint(t.endPoint),n.layer.batchDraw()}}),this.textState={currentText:"",defaultTextFontSize:18,currentLabel:null,textAlign:"left",textBold:"regular",rightTextColor:"white",textBackgroundColor:"black",textBackground:!1,afterTextRotate:!1},Object.defineProperty(this.textState,"size",{get:function(){return n.textState.currentText?n.textState.currentText.fontSize()*n.imageConf.ratio:n.textState.defaultTextFontSize},set:function(e){var t=document.getElementById("textEditArea");if(t){t.style.fontSize="".concat(e,"px");var r=n.methods.calcTextAreaParams(t);t.style.width="".concat(r.width,"px"),t.style.height="".concat(r.height,"px"),t.style.left="".concat(r.x,"px"),t.style.top="".concat(r.y,"px")}var a=n.textState.currentLabel.position().x+n.textState.currentLabel.width()/2,s=n.textState.currentLabel.position().y+n.textState.currentLabel.height()/2;n.textState.currentText.fontSize(e/n.imageConf.ratio),n.textState.currentLabel.x(a-n.textState.currentLabel.width()/2),n.textState.currentLabel.y(s-n.textState.currentLabel.height()/2),n.layer.batchDraw()}})}function Xn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xn(Object(n),!0).forEach((function(t){Object(i["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Kn=function(){return Math.random().toString(36).substr(2,9)},Jn=function(){var e=this,t=Object(i["a"])({},this.history.initialImageUrl,!0),n=this.history.undo.filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"image"===e.type&&"modify"===e.stateType})),r=this.history.redo.filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"image"===e.type&&"modify"===e.stateType}));n.concat(r).forEach((function(e){t[e.options.from]=!0,t[e.options.to]=!0})),Object.keys(this.historyBlobs).forEach((function(n){t[n]||(window.URL.revokeObjectURL(n),delete e.historyBlobs[n])}))};function Zn(e){return{x:e.x(),y:e.y(),rotation:e.rotation(),scaleX:e.scaleX(),scaleY:e.scaleY(),name:e.name(),source:e.historySource,from:e.from}}function er(e,t){var n=!e.historyId,r=e.historyId||Kn(),a={id:r,konva:e};return this.history.moveableObjects[r]=a,n?(this.history.push("moveableObject","create",r,this.history.normalizeMoveableObject(t)),a):a}function tr(e,t,n,r){this.history.undo.push({type:e,stateType:t,options:Qn(Qn({},r),{},{id:n})}),Jn.call(this),this.history.redo=[]}function nr(e){var t="undo"===e?"redo":"undo",n=this.history[e].pop();this.history[t].push(n)}function rr(){this.history={moveableObjects:{},normalizeMoveableObject:Zn,installMoveableObject:er.bind(this),undo:[],redo:[],push:tr.bind(this),pop:nr.bind(this),initialImageUrl:"",currentImageUrl:"",didClear:!1},this.historyBlobs={}}function ar(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ar(Object(n),!0).forEach((function(t){Object(i["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ar(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ir(e){var t=this,n=e.$el,r=e.file,a=e.api,s=e.config,i=e.resolve,o=e.reject,c=e.settings;window.Konva.hitOnDragEnabled=!0,window.Konva.captureTouchEventsEnabled=!0;var u=fe(r.name),d=le.call(this),l=n.getStage();u.lock=!1,u.add(d),l.add(u),zn.call(this,r),this.methods=qn.call(this),this.api=a,this.config=s,this.settings=sr({saveAsCopy:!0,disableGifs:!1},c),this.settingsPassed=sr({saveAsCopy:!0,disableGifs:!1,takePhoto:!1},c),this.image=null,this.group=d,this.layer=u,this.stage=l,this.resolve=i,this.reject=o,rr.call(this),this.methods.proceedFile(r.url,100,r).then((function(){a.events.$emit("mounted"),yn.call(t,t.stage)})),Yn.call(this,a)}var or=ir,cr=function(e,t,n,r,a,s){return{namespaced:!0,state:{file:e},actions:{setUpStage:function(i,o){var c=o.$el,u=o.config;t[e.name]=new or({$el:c,file:e,api:n,config:u,resolve:r,reject:a,settings:s})}}}};function ur(e){var t={},n={namespaced:!0,state:{isOpen:!1,currentFilePath:null,currentFileName:null},getters:{isOpen:function(e){return e.isOpen},currentFile:function(e){return e.currentFilePath},currentFileName:function(e){return e.currentFileName}},mutations:{open:function(e,t){var n=t.fileName;e.isOpen=!0,e.currentFilePath="".concat(ne,"/").concat(n),e.currentFileName=n},close:function(e){e.isOpen=!1,e.currentFilePath="",e.currentFileName=""},logout:function(){}},actions:{installFile:function(n,r){var a=n.commit,s=r.file,i=r.api,o=r.resolve,c=r.reject,u=r.settings;e.registerModule([ne,s.name],cr(s,t,i,o,c,u)),a("open",{fileName:s.name})},uninstallFile:function(n,r){var a=n.commit,s=r.fileName,i=r.send;i&&t[s].sendFile(!1,!0),e.unregisterModule([ne,s]),a("close"),delete t[s]}}};return e.registerModule(ne,n),t}var dr=function(){function e(t,n){Object(qt["a"])(this,e),this.$store=t,this.events=null,Object.defineProperty(this,"currentFile",{get:function(){return t.getters["".concat(ne,"/currentFile")]}}),Object.defineProperty(this,"currentFileStage",{get:function(){return n[this.currentFileName]||{}}}),Object.defineProperty(this,"currentFileName",{get:function(){return t.getters["".concat(ne,"/currentFileName")]}}),Object.defineProperty(this,"isOpen",{get:function(){return t.getters["".concat(ne,"/isOpen")]}})}return Object(Vt["a"])(e,[{key:"$dispatch",value:function(e,t){return this.$store.dispatch("".concat(ne,"/").concat(e),t)}},{key:"$commit",value:function(e,t){return this.$store.commit("".concat(ne,"/").concat(e),t)}},{key:"$fileDispatch",value:function(e,t){return this.$store.dispatch("".concat(this.currentFile,"/").concat(e),t)}},{key:"$fileCommit",value:function(e,t){return this.$store.commit("".concat(this.currentFile,"/").concat(e),t)}},{key:"$installFile",value:function(e,t){var n=this,r=Object.assign({},e);this.events=new o["default"];var a=Object($t["a"])();return this.isStory=t.isStory,this.$dispatch("installFile",{file:r,api:this,resolve:a.resolve,reject:a.reject,settings:t}),document.body.classList.add("image-editor"),a.promise.finally((function(){n.$uninstallFile(!1,!1)}))}},{key:"$uninstallFile",value:function(e,t){return document.body.classList.remove("image-editor"),this.events.$destroy(),this.events=null,this.$dispatch("uninstallFile",{fileName:e?e.name:this.currentFileName,send:t})}}]),e}(),lr=dr,fr=(n("ff1d"),{install:function(e,t){var n=t.store,r=ur(n);e.prototype.$imageEditor=new lr(n,r)}});function mr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mr(Object(n),!0).forEach((function(t){Object(i["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var hr={install:function(e,t){var n=t.store,r=t.i18n;e.prototype.$tVat=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=n.getters["auth/authUser"],s=(t.isNumber?a.vatNumberName:a.vatName)||"VAT";return r.t(e,pr(pr({},t),{},{VAT_NAME:s}))}}},br=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-modal",{attrs:{size:"sm","hide-header-close":!0,"hide-header":!e.title,lazy:"",centered:""},on:{hidden:function(t){return e.$emit("closed")}},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[n("template",{slot:"modal-header"},[n("h4",{staticClass:"modal-title"},[e._v(" "+e._s(e.title)+" ")])]),n("div",{domProps:{innerHTML:e._s(e.questionText)}}),n("template",{slot:"modal-footer"},[n("button",{staticClass:"g-btn m-transparent-bg",attrs:{type:"button"},on:{click:function(t){return e.$emit("deny")}}},[e._v(" "+e._s(e.denyText)+" ")]),n("button",{staticClass:"g-btn m-transparent-bg",on:{click:function(t){return e.$emit("confirm")}}},[e._v(" "+e._s(e.confirmText)+" ")])])],2)},gr=[],vr={name:"ModalInteract",props:{modalShow:{type:Boolean,required:!0},questionText:{type:String,default:""},confirmText:{type:String,default:""},denyText:{type:String,default:""},title:{type:String,default:""}},computed:{show:{get:function(){return this.modalShow},set:function(e){this.$emit("update:modalShow",e)}}}},yr=vr,wr=Object(g["a"])(yr,br,gr,!1,null,null,null),Or=wr.exports;function jr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jr(Object(n),!0).forEach((function(t){Object(i["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Sr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Math.random().toString(36).substr(2,9),r=Object($t["a"])();return this.interactTasks.push(kr({questionText:e,id:n,resolve:r.resolve,reject:r.reject,modalShow:!0},t)),r.promise}var xr={install:function(e){var t={interactTasks:[]};e.component("interact-modal",{data:function(){return t},render:function(e){var t=this;return e("div",this.interactTasks.map((function(n){return e(Or,{props:kr({confirmText:t.$t("message.confirm_button"),denyText:t.$t("message.cancel_button")},n),on:{deny:function(){n.resolve(!1),n.modalShow=!1},confirm:function(){n.resolve(!0),n.modalShow=!1},closed:function(){t.interactTasks=t.interactTasks.filter((function(e){return e.id!==n.id})),window.enableBodyScroll();try{n.resolve(!1)}catch(e){}}}})})))}}),window.interact=Sr.bind(t)}},Pr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-dropdown",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],ref:"dropdown",attrs:{offset:"4",right:"","toggle-class":"m-with-round-hover","menu-class":"m-dropdown-display"},on:{hidden:function(t){return e.emit("hidden")}}},e._l(e.btns,(function(t,r){return n("b-dropdown-item",{key:r,staticClass:"mark-all-as-read",on:{click:function(n){return e.emit(t.code)}}},[e._v(" "+e._s(t.name)+" ")])})),1)},Ir=[],Cr={name:"UploaderChoice",props:{btns:{type:Array,default:function(){return[]}},show:{type:Boolean,default:!1}},data:function(){return{}},methods:{emit:function(e){this.$emit("action",e)}}},Rr=Cr,Tr=Object(g["a"])(Rr,Pr,Ir,!1,null,null,null),_r=Tr.exports,Ar=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"toFocus",staticClass:"l-streaming-container",attrs:{tabindex:"0"},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.close()}}},[n("div",{staticClass:"b-videocontent m-hidden-scrollbar"},[n("div",{staticClass:"b-stream-header g-page__header"},[n("button",{staticClass:"g-page__header__btn m-with-round-hover",on:{click:function(t){return e.close()}}},[n("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-back"})]),n("div",{staticClass:"b-streaming__title g-page-title"},[e._v(" Take photo ")])]),n("div",{staticClass:"b-streaming"},[n("figure",{staticClass:"b-streaming__video-container"},[n("div",{staticClass:"b-wrapper-stream-video"},[n("div",{staticClass:"b-video-holder"},[n("spinnerLoader"),e.showTimer?n("div",{staticClass:"timer",class:{"timer-bloom":0===e.timerCount}},[n("div",{ref:"circleTimer",staticClass:"circle-timer"},[0!==e.timerCount?n("div",[n("div",{staticClass:"count",domProps:{innerHTML:e._s(e.timerCount)}})]):e._e()])]):e._e(),n("video",{directives:[{name:"show",rawName:"v-show",value:e.showVideo,expression:"showVideo"}],ref:"video",attrs:{autoplay:"",playsinline:"",muted:""},domProps:{muted:!0}})],1)])])]),n("div",{staticClass:"b-btns-panel"},[n("button",{staticClass:"g-btn m-rounded b-streaming__btn-start m-lg m-uppercase",attrs:{type:"button",disabled:!e.showVideo},on:{click:e.takePhoto}},[e._v(" Take photo ")])])])])},Lr=[],Er=n("b5ba"),Mr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"take-photo-loader"},[n("svg",{staticClass:"g-icon",attrs:{"aria-hidden":"true"}},[n("use",{attrs:{"xlink:href":"#icon-loading",href:"#icon-loading"}},[n("svg",{attrs:{id:"icon-loading",viewBox:"0 0 24 24"}},[n("path",{attrs:{fill:"white",d:"M12 .9a2.12 2.12 0 1 0 1.48.62A2.09 2.09 0 0 0 12 .9zM5.64 3.69A1.95 1.95 0 1 0 7 4.26a1.95 1.95 0 0 0-1.36-.57zM4.79 12a1.75 1.75 0 0 0-.53-1.26 1.76 1.76 0 0 0-2.52 0 1.76 1.76 0 0 0 0 2.52 1.76 1.76 0 0 0 2.52 0A1.75 1.75 0 0 0 4.79 12zm.85 4.74a1.67 1.67 0 0 0-1.16.47A1.64 1.64 0 0 0 4 18.36 1.61 1.61 0 0 0 5.64 20a1.64 1.64 0 0 0 1.15-.47 1.67 1.67 0 0 0 .47-1.16 1.6 1.6 0 0 0-1.62-1.62zM12 19.53a1.47 1.47 0 1 0 1 .47 1.45 1.45 0 0 0-1-.47zm6.36-2.48a1.3 1.3 0 0 0-1.31 1.31 1.31 1.31 0 0 0 1.31 1.32 1.33 1.33 0 0 0 1.32-1.32 1.31 1.31 0 0 0-1.32-1.31zm3.46-5.87a1.16 1.16 0 1 0 .34.82 1.16 1.16 0 0 0-.34-.82zm-3.46-4.54a1 1 0 0 0 .71-.3 1 1 0 0 0-1.41-1.41 1 1 0 0 0 .7 1.71z"}})])])])])},Ur=[],Dr={name:"SpinnerLoader"},Fr=Dr,Br=(n("8507"),Object(g["a"])(Fr,Mr,Ur,!1,null,null,null)),Nr=Br.exports,qr={name:"TakePhotoModal",components:{SpinnerLoader:Nr},mixins:[Er["a"]],data:function(){return{stream:null,showVideo:!1,timerCount:3,showTimer:!1}},mounted:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,navigator.mediaDevices.getUserMedia({video:!0,audio:!1}).catch((function(e){return alert("Your Camera is being used by another program or permission has not been allowed."),!1}));case 2:if(t=e.sent,t){e.next=5;break}return e.abrupt("return");case 5:this.$refs.toFocus.focus(),this.stream=t,this.$refs.video.srcObject=t,this.$refs.video.onloadedmetadata=function(e){n.showVideo=!0,n.$refs.video.play()};case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{close:function(e){this.stream&&(this.stream.getTracks().forEach((function(e){e.stop()})),this.stream=null),e||this.$emit("close",e)},takePhoto:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.showTimer=!0,e.next=3,new Promise((function(e){var t=setInterval((function(){a.timerCount-=1,-1===a.timerCount&&(clearInterval(t),e())}),1e3)}));case 3:t=this.$refs.video,n=document.createElement("canvas"),n.width=t.videoWidth,n.height=t.videoHeight,n.getContext("2d").drawImage(t,0,0,t.videoWidth,t.videoHeight),r=n.toDataURL("image/jpeg"),n.remove(),this.$emit("data",r),this.close(!0),this.timerCount=3,this.showTimer=!1;case 14:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},Vr=qr,$r=Object(g["a"])(Vr,Ar,Lr,!1,null,null,null),Hr=$r.exports,Gr=n("9029"),zr=";base64,";function Wr(e){return 2===e.split(zr).length}function Yr(e){if(!Wr(e))return!1;for(var t=e.split(zr)[0].split(":")[1],n="dataURI-file-"+(new Date).getTime()+"."+t.split("/")[1],r=atob(e.split(zr)[1]),a=new Uint8Array(new ArrayBuffer(r.length)),s=0;s<r.length;s++)a[s]=r.charCodeAt(s);var i=new File([a.buffer],n,{type:t});return i.url=e,i}function Xr(e,t){return e&&e.remove(),t.didOnChange||t.reject("silent"),t.promise}function Qr(e,t){function n(){window.removeEventListener("focus",n),setTimeout((function(){return Xr(e,t)}),200)}return n}function Kr(){return Jr.apply(this,arguments)}function Jr(){return Jr=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a,s,i,o=this,c=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:{fileType:"photo",multiple:!1,imageEditor:!1,mode:!1},e.next=3,this.state.changeMode("UploaderChoice");case 3:if(this.state.task=Object($t["a"])(),!t.mode){e.next=7;break}return e.next=7,this.state.changeMode(t.mode);case 7:if(Gr["isMobile"]||t.mode){e.next=21;break}return n=Object($t["a"])(),this.state.dropdown.show(),this.state.uploader.$once("action",(function(e){n.resolve(e)})),this.state.dropdown.hide(),e.next=14,n.promise;case 14:return r=e.sent,e.next=17,this.state.changeMode(r);case 17:if("hidden"!==this.state.mode){e.next=21;break}return e.next=20,this.state.changeMode("UploaderChoice");case 20:return e.abrupt("return",Xr(null,this.state.task));case 21:return"UploaderChoice"===this.state.mode&&(a=Object($t["a"])(),s=document.createElement("input"),s.style.display="none",s.type="file",s.accept=t.accept,document.body.appendChild(s),s.onchange=function(e){o.state.task.didOnChange=!0,o.state.task.resolve(e)},i=Qr(s,a),window.addEventListener("focus",i),s.click()),"TakePhoto"===this.state.mode&&this.state.uploader.$once("data",(function(e){o.state.task.resolve(e)})),e.abrupt("return",this.state.task.promise.then((function(e){var t=!1;return e.target&&e.target.files&&(t=e.target.files),e.dataTransfer&&e.dataTransfer.files&&(t=e.dataTransfer.files),e.detail&&e.detail.file&&(t=[],t.push(e.detail.file)),!t&&Array.isArray(e)&&(t=e),"string"===typeof e&&(t=[Yr(e)]),t})));case 24:case"end":return e.stop()}}),e,this)}))),Jr.apply(this,arguments)}var Zr=Kr,ea=(n("ac4d"),n("8a81"),n("1c4c"),n("5df3"),n("9957")),ta=n("9d17");function na(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=ra(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,i=!0,o=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){o=!0,s=e},f:function(){try{i||null==n.return||n.return()}finally{if(o)throw s}}}}function ra(e,t){if(e){if("string"===typeof e)return aa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?aa(e,t):void 0}}function aa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sa(e,t){for(var n=this.mediaConfig.ext,r=ea["a"].getExtension(e),a=0,s=Object.keys(n);a<s.length;a++){var i=s[a];if(!t||t===i){var o=new RegExp("".concat(n[i]),"i");if(o.test(r))return i}}return null}function ia(e){var t=this,n=e.media,r=e.url,a=e.maxWidth,s=e.minWidth,i=e.maxHeight,o=e.minHeight,c=function(e,c){"photo"!==n&&"gif"!==n&&e(!0);var u=new Image;u.src=r;var d=t;u.onload=function(){if(this.width>a){var t=d.i18n.t("message.upload_error_message_max_width",{size:a});c(t)}if(this.width<s){var n=d.i18n.t("message.upload_error_message_min_width",{size:s});c(n)}if(this.height>i){var r=d.i18n.t("message.upload_error_message_max_height",{size:i});c(r)}if(this.height<o){var u=d.i18n.t("message.upload_error_message_min_height",{size:o});c(u)}e()}};return new Promise(c)}var oa=function(e,t){var n,r=this,s=[],i=na(e);try{var o=function(){var e=n.value,i=function(){var n=Object(a["a"])(regeneratorRuntime.mark((function n(a,s){var i,o,c,u,d;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i=sa.call(r,e.type),i||s({reason:r.i18n.t("message.upload_error_file_not_allowed"),file:e}),n.next=4,Object(ta["a"])(e);case 4:return o=n.sent,c=r.initData.personalConfig.header,u=c.minHeight,d=c.minWidth,n.next=8,ia.call(r,{media:i,url:o,minHeight:u,minWidth:d}).catch((function(t){s({reason:t,file:e})}));case 8:a(t.validateAsIs?e:{file:e,url:o});case 9:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}();s.push(new Promise(i))};for(i.s();!(n=i.n()).done;)o()}catch(c){i.e(c)}finally{i.f()}return Promise.all(s)},ca=n("b5e8"),ua=n.n(ca);function da(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=la(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,i=!0,o=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){o=!0,s=e},f:function(){try{i||null==n.return||n.return()}finally{if(o)throw s}}}}function la(e,t){if(e){if("string"===typeof e)return fa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fa(e,t):void 0}}function fa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ma=function(e,t){var n=this.initData.upload.s3,r=new ua.a({apiVersion:"2006-03-01",params:{Bucket:n.bucketName},useAccelerateEndpoint:!0,accessKeyId:n.accessKeyId,secretAccessKey:n.secretAccessKey,correctClockSkew:!0,httpOptions:{timeout:0},maxRetries:1e6});function a(e){var r=t?n.secureUploadPath:n.uploadPath;return"".concat(r,"/").concat((Math.random()*(new Date).getTime()).toFixed(0),"/").concat(encodeURIComponent(e.name))}var s,i=[],o=da(e);try{var c=function(){var e=s.value,t=e.file,o=function(s){var i=new ua.a.ManagedUpload({params:{Bucket:n.bucketName,Key:a(t),Body:t,ContentType:t.type,ContentDisposition:"inline"},service:r,queueSize:6});i.send((function(t,n){s(t?{success:!1,data:t,fileData:e}:{success:!0,data:n,fileData:e})}))};i.push(new Promise(o))};for(o.s();!(s=o.n()).done;)c()}catch(u){o.e(u)}finally{o.f()}return Promise.all(i)};function pa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ha(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pa(Object(n),!0).forEach((function(t){Object(i["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ba=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];Object(qt["a"])(this,e),this.uploader=t,this.files=n,this.uploadedData=[];var r=this;Object.defineProperty(this,"previews",{get:function(){return this.files.reduce((function(e,t){var n=r.uploadedData.find((function(e){return e.fileData.url===t.url}))||{data:{}};return e.push(ha(ha({fileData:t},n),{},{source:t.url})),e}),[])}})}return Object(Vt["a"])(e,[{key:"upload",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,n=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=n.length>0&&void 0!==n[0]?n[0]:{secure:!1},this.files.length){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,ma.call(this.uploader,this.files,t.secure).catch(this.uploader.handleErrors);case 5:return this.uploadedData=e.sent,e.abrupt("return",this.uploadedData);case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),e}(),ga=function(){function e(t,n,r,a){Object(qt["a"])(this,e),this.vue=t,this.state=a,this.store=n,this.i18n=r,this.initData=this.store.getters["init/getInit"];var s=this;Object.defineProperty(this,"mediaConfig",{get:function(){return s.initData.postMediaConfig}})}return Object(Vt["a"])(e,[{key:"handleErrors",value:function(e){if("silent"===e)return!1;throw e}},{key:"doOptionalThings",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,s,i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,oa.call(this,t,n).catch(this.handleErrors);case 2:if(r=e.sent,1!==r.length||!n.imageEditor){e.next=11;break}return e.next=6,this.state.vue.$imageEditor.$installFile(r[0],{saveAsCopy:!1,disableGifs:!0,takePhoto:"TakePhoto"===this.state.mode}).catch(function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.retake){e.next=7;break}return e.next=3,Zr.call(i,ha(ha({},n),{},{mode:"TakePhoto"})).catch(i.handleErrors);case 3:return r=e.sent,e.abrupt("return",i.doOptionalThings(r,ha(ha({},n),{},{validateAsIs:!0})));case 7:return e.abrupt("return",i.handleErrors("silent"));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 6:if(s=e.sent,"object"!==Object(qe["a"])(s)||Array.isArray(s)?Array.isArray(s)&&(r=s):r[0]=s.file,s){e.next=10;break}return e.abrupt("return",s);case 10:return e.abrupt("return",oa.call(this,r,n).catch(this.handleErrors));case 11:return e.abrupt("return",r);case 12:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"perform",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Zr.call(this,t).catch(this.handleErrors);case 2:if(n=e.sent,n){e.next=6;break}return this.state.task=null,e.abrupt("return",new ba(this));case 6:return e.next=8,this.doOptionalThings(n,t);case 8:if(n=e.sent,n){e.next=12;break}return this.state.task=null,e.abrupt("return",new ba(this));case 12:return"UploaderChoice"!==this.state.mode&&this.state.changeMode("UploaderChoice"),this.state.task=null,e.abrupt("return",new ba(this,n));case 15:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}(),va=ga,ya={UploaderChoice:_r,TakePhoto:Hr},wa={install:function(e,t){var n=t.store,r=t.i18n,s={mode:"UploaderChoice",task:null,$nextTick:null,options:[{code:"UploaderChoice",name:"Upload image"},{code:"TakePhoto",name:"Take photo"}],changeMode:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var n=setTimeout((function(){e()}),300);"UploaderChoice"===s.mode&&s.mode!==t&&(s.dropdown.hide(),s.dropdown.$once("hidden",(function(){clearTimeout(n),e()}))),s.$nextTick((function(){clearTimeout(n),e()}))})).then((function(){return s.mode=t})));case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()};e.component("UploaderModal",{data:function(){return s},watch:{mode:function(){var e=this;this.$nextTick((function(){s.vue=e,"UploaderChoice"===e.mode&&(s.dropdown=e.$refs.uploaderDropdown.$refs.dropdown),s.uploader=e.$refs.uploaderDropdown}))}},mounted:function(){s.vue=this,s.dropdown=this.$refs.uploaderDropdown.$refs.dropdown,s.uploader=this.$refs.uploaderDropdown,s.$nextTick=this.$nextTick},render:function(e){return e(ya[s.mode],{ref:"uploaderDropdown",props:{btns:s.options,show:!!s.task},on:{close:function(){s.mode="UploaderChoice",s.task.reject("silent")}}})}}),e.prototype.$uploader=new va(e,n,r,s)}},Oa=wa,ja=n("e37d"),ka=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("router-link",e._b({attrs:{to:e.to,event:""},nativeOn:{click:function(t){return e.clickHandler(t)}}},"router-link",e.$attrs,!1),[e._t("default")],2)},Sa=[];function xa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xa(Object(n),!0).forEach((function(t){Object(i["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ia={name:"BaseLink",props:{to:{type:Object,required:!0}},methods:{clickHandler:function(){if(this.$route.name===this.to.name){var e=Pa(Pa({},this.to),{},{query:{_:(new Date).getTime().toString()}});void 0!==this.$attrs.replace?this.$router.replace(e):this.$router.push(e),this.$router.replace(Pa(Pa({},this.to),{},{query:{}}))}else void 0!==this.$attrs.replace?this.$router.replace(Pa({},this.to)):this.$router.push(Pa({},this.to))}}},Ca=Ia,Ra=Object(g["a"])(Ca,ka,Sa,!1,null,null,null),Ta=Ra.exports,_a={install:function(e){var t={bind:function(e){var t=e.getAttribute("class"),n=e.getAttribute("extra-class")||"";n&&(e.removeAttribute("extra-class"),n=" ".concat(n)),e.setAttribute("class","g-icon".concat(n)),e.setAttribute("aria-hidden",!0);var r=document.createElementNS("http://www.w3.org/2000/svg","use");r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","#".concat(t)),r.setAttribute("href","#".concat(t)),e.appendChild(r)}};e.directive("svg-sprite",t)}},Aa=n("8975"),La=(n("f6b9"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div")}),Ea=[],Ma={name:"PageTitle",props:{title:{type:String,default:void 0},extra:{type:String,default:void 0},withoutDash:{type:Boolean,default:!1}},watch:{title:function(){this.updateTitle()},extra:function(){this.updateTitle()}},mounted:function(){this.updateTitle()},beforeDestroy:function(){this.resetTitle()},methods:{updateTitle:function(){var e=[];this.title&&e.push(this.title),this.extra&&e.push(this.extra),e.push("OnlyFans"),document.title=this.withoutDash?e.join(" "):e.join("  ")},resetTitle:function(){document.title="OnlyFans"}}},Ua=Ma,Da=Object(g["a"])(Ua,La,Ea,!1,null,null,null),Fa=Da.exports,Ba=n("f13c"),Na=n.n(Ba),qa=n("a3cb"),Va=n("e508"),$a=(n("a899"),n("7212")),Ha=n.n($a),Ga=(n("a7a3"),n("d740")),za=n.n(Ga),Wa=n("ce5b"),Ya=n.n(Wa),Xa=(n("bf40"),n("1249")),Qa=n("8c16"),Ka=n("3a60"),Ja=n.n(Ka),Za=n("ab5b"),es=n("67b0"),ts=n("de4c"),ns=n("b775"),rs=n("a5bb"),as=n("5a0c"),ss=n.n(as),is={unbind:function(e){var t=document.body.querySelector(".b-dropdown-wrapper ul[aria-labelledby=".concat(e.id,"__BV_toggle_]")),n=t&&t.parentElement;n&&(n.remove(),document.body.classList.remove("m-dropdown-body"))}},os={inserted:function(e,t,n){if(window.ResizeObserver){var r=u()(n,"componentInstance.swiperInstance",null);if(r){var a=r.el.querySelector(".swiper-wrapper");a&&(e.resizeObserver=new ResizeObserver((function(e){e.forEach((function(e){var t=e.target,n=t.clientWidth,a=t.scrollWidth;n<a?r.mousewheel.enable():r.mousewheel.disable()}))})),e.resizeObserver.observe(a))}}},unbind:function(e){e.resizeObserver&&e.resizeObserver.disconnect()},update:function(e,t,n){var r=u()(n,"componentInstance.swiperInstance",null);if(r){var a=r.el.querySelector(".swiper-wrapper");a&&n.context&&n.context.$nextTick((function(){var e=a.clientWidth,t=a.scrollWidth;e<t?r.mousewheel.enable():r.mousewheel.disable()}))}}};function cs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function us(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cs(Object(n),!0).forEach((function(t){Object(i["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Object(Qa["c"])(O["a"]),rs["a"].load().then((function(e){e.get().then((function(e){L.a.set("fp",e.visitorId,{domain:".".concat("onlyfans.com"),expires:"1Y"}),o["default"].prototype.$fp=e.visitorId}))})),o["default"].use(es["a"]),l.a.polyfill(),o["default"].use(Ha.a,{}),o["default"].use(za.a),o["default"].use(qa["a"]),o["default"].use(ja["a"],{autoHide:!0,disposeTimeout:100}),ja["a"].enabled=!f["a"],o["default"].config.productionTip=!1,o["default"].use(_a),o["default"].use(T.a),o["default"].use(L.a),o["default"].use(q["b"]),o["default"].use(M.a),o["default"].use(D.a),o["default"].use(H.a),o["default"].use(B.a,"".concat("wss://ws.onlyfans.com","/ws2/"),{connectManually:!0,store:O["a"],reconnection:!0,reconnectionAttempts:5,reconnectionDelay:5e3,format:"json",passToStoreHandler:function(e,t){if(e.startsWith("SOCKET_")){var n=e.toUpperCase(),r="SOCKET_ONMESSAGE"===n?"dispatch":"commit";this.store[r]("socket/".concat(n),t)}}}),o["default"].use(N["a"]),o["default"].use(V["a"],{breakpoints:{sms:500,sm:768,md:1004,lg:1/0}}),o["default"].use(z.a),o["default"].use(Ja.a),o["default"].use(Za["a"],{prefetch:!1});var ds=o["default"].cookie.get("lang",{domain:".".concat("onlyfans.com")})||"en",ls=new N["a"]({locale:ds,postTranslation:function(e,t){var n=u()(w["a"],"history.current.name"),r=O["a"].getters["init/getInit"]||{},a=r.canTranslate;return a&&setTimeout((function(){O["a"].dispatch("translations/set",{routeName:n,code:t,value:e},{root:!0})})),e}});function fs(e){var t=function(e){switch(e){case"pt":return"pt_PT";case"zh":return"zh_CN";case"tw":return"zh_TW";default:return e}};n("b2d7")("./".concat(t(e))).then((function(t){var n=Object(i["a"])({},e,us(us({},t),{},{messages:us(us({},t.messages),{},{email:function(){return ls.t("message.email_is_not_valid")},onlyLatin:function(){return ls.t("message.only_latin_allowed")},checkPassword:function(e){return ls.t("message.check_password_validate",{FIELD:e})},minLength:function(e,t){var n=Object(s["a"])(t,1),r=n[0];return ls.t("message.minlength_validation_error",{LENGTH:r})},urls:function(){return ls.t("message.urls_validation_error")},cpfValidate:function(){return ls.t("message.cpf_validation_error")},checkCardHolderName:function(){return ls.t("message.invalid_cardholder_error")},twoWords:function(){return ls.t("message.invalid_cardholder_error")}})}));return _["c"].localize(e,n[e]),ls.locale=e,document.documentElement.lang=e,e}))}function ms(e){var t=Object(ns["c"])({lang:e,rev:u()(O["a"].getters["init/getInit"],"textsRev")});return"".concat("https://static.cdn.onlyfans.com","/texts.js").concat(t)}function ps(e){return hs.apply(this,arguments)}function hs(){return hs=Object(a["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return"en"!==t&&(r=function(e){switch(e){case"zh":return"zh-cn";case"tw":return"zh-tw";default:return e}},n("3234")("./".concat(r(t),".js")).then((function(){return ss.a.locale(r(t))}))),e.abrupt("return",o["default"].loadScript(ms(t)).then((function(){return ls.setLocaleMessage(t,{message:us({},window.TEXTS)}),fs(t)})).catch((function(){Object(ts["a"])()})));case 2:case"end":return e.stop()}}),e)}))),hs.apply(this,arguments)}function bs(e){return gs.apply(this,arguments)}function gs(){return gs=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!window.TEXTS){e.next=2;break}return e.abrupt("return",o["default"].unloadScript(ms(ls.locale)).then((function(){return ps(t)})).catch((function(){return ps(t)})));case 2:return e.abrupt("return",ps(t));case 3:case"end":return e.stop()}}),e)}))),gs.apply(this,arguments)}o["default"].use(_["d"]),o["default"].component("BCollapse",W["a"]),o["default"].component("BAlert",Y["a"]),o["default"].component("BaseLink",Ta),o["default"].component("PageTitle",Fa),o["default"].component("DynamicScroller",Va["a"]),o["default"].component("DynamicScrollerItem",Va["b"]),o["default"].directive("b-tooltip",X["a"]),o["default"].use(Na.a,{container:"body",duration:300,easing:"ease",offset:-100,force:!0,cancelable:!0,x:!1,y:!0}),o["default"].directive("dropdownAutohide",is),o["default"].directive("swiperMousewheel",os),o["default"].use(Q["a"]),o["default"].use(K["a"]),o["default"].use(J["a"]),o["default"].use(Z["a"]),o["default"].use(ee["a"]),o["default"].use(te["a"]),o["default"].use(fr,{store:O["a"]}),o["default"].use(hr,{store:O["a"],i18n:ls}),o["default"].filter("encodeHtml",Aa["b"]),o["default"].filter("removeTags",Aa["c"]),o["default"].use(Ya.a);var vs=new Ya.a;o["default"].use(Xa["a"],{vuetify:vs}),o["default"].use(xr),o["default"].use(Oa,{store:O["a"],i18n:ls}),o["default"].prototype.$env=Object({NODE_ENV:"production",VUE_APP_SENTRY_DSN:"https://f2232e26d13941e8acf8cbdfab122f9b@bug2.onlyfans.com/3",VUE_APP_SENTRY_STREAMS_DSN:"https://37137398ef234f0f9af7d1547d785a7e@bug2.onlyfans.com/4",VUE_APP_DOMAIN:"",VUE_APP_TEXTS_DOMAIN:"https://onlyfans.com",VUE_APP_API:"onlyfans.com",VUE_APP_COOKIE_DOMIAN:"onlyfans.com",VUE_APP_WS:"wss://ws.onlyfans.com",VUE_APP_STATIC:"https://static.cdn.onlyfans.com",VUE_APP_STAGE:"live",VUE_APP_SECTION_USERS_TICKETS:"true",VUE_APP_REVISION:"202108061256-f1db0728f2",BASE_URL:"https://static.cdn.onlyfans.com/theme/onlyfans/spa/"}),o["default"].prototype.$window=window,window.Sentry=j;var ys="202108061256-f1db0728f2";k["e"]({environment:"live",dsn:"https://f2232e26d13941e8acf8cbdfab122f9b@bug2.onlyfans.com/3",ignoreErrors:[/Function.seal/,/Object.seal/],normalizeDepth:5,release:ys,integrations:[new I["a"]({Vue:o["default"],attachProps:!0}),new C["a"]],beforeSend:function(e,t){var n=t.originalException;if(n&&"silent"===n.message)return null;if("Timeout"===n)return null;var r=JSON.stringify(t);return r.indexOf("Object.seal")>-1||document.documentMode||r.indexOf("null is not an object (evaluating 'e.scrollTop')")>-1||"Non-Error exception captured with keys: config, data, headers, request, status"===u()(e,"exception.values[0].value")?null:"true"===Object({NODE_ENV:"production",VUE_APP_SENTRY_DSN:"https://f2232e26d13941e8acf8cbdfab122f9b@bug2.onlyfans.com/3",VUE_APP_SENTRY_STREAMS_DSN:"https://37137398ef234f0f9af7d1547d785a7e@bug2.onlyfans.com/4",VUE_APP_DOMAIN:"",VUE_APP_TEXTS_DOMAIN:"https://onlyfans.com",VUE_APP_API:"onlyfans.com",VUE_APP_COOKIE_DOMIAN:"onlyfans.com",VUE_APP_WS:"wss://ws.onlyfans.com",VUE_APP_STATIC:"https://static.cdn.onlyfans.com",VUE_APP_STAGE:"live",VUE_APP_SECTION_USERS_TICKETS:"true",VUE_APP_REVISION:"202108061256-f1db0728f2",BASE_URL:"https://static.cdn.onlyfans.com/theme/onlyfans/spa/"}).VUE_APP_DEBUG?(console.error(t.originalException||t.syntheticException),null):e}}),S["e"]((function(e){e.setTag("domain","onlyfans.com")})),window.SentryStreams=new x["a"](new P["a"]({environment:"live",dsn:"https://37137398ef234f0f9af7d1547d785a7e@bug2.onlyfans.com/4",ignoreErrors:[/Function.seal/,/Object.seal/],normalizeDepth:5,release:ys,integrations:[new I["a"]({Vue:o["default"],attachProps:!0}),new C["a"]],beforeSend:function(e,t){return"true"===Object({NODE_ENV:"production",VUE_APP_SENTRY_DSN:"https://f2232e26d13941e8acf8cbdfab122f9b@bug2.onlyfans.com/3",VUE_APP_SENTRY_STREAMS_DSN:"https://37137398ef234f0f9af7d1547d785a7e@bug2.onlyfans.com/4",VUE_APP_DOMAIN:"",VUE_APP_TEXTS_DOMAIN:"https://onlyfans.com",VUE_APP_API:"onlyfans.com",VUE_APP_COOKIE_DOMIAN:"onlyfans.com",VUE_APP_WS:"wss://ws.onlyfans.com",VUE_APP_STATIC:"https://static.cdn.onlyfans.com",VUE_APP_STAGE:"live",VUE_APP_SECTION_USERS_TICKETS:"true",VUE_APP_REVISION:"202108061256-f1db0728f2",BASE_URL:"https://static.cdn.onlyfans.com/theme/onlyfans/spa/"}).VUE_APP_DEBUG?(console.error(t.originalException||t.syntheticException),null):e}})),SentryStreams.configureScope((function(e){e.setTag("domain","onlyfans.com")})),Date.prototype.toISOString||function(){var e=this;function t(e){return e<10?"0".concat(e):e}Date.prototype.toISOString=function(){return"".concat(e.getUTCFullYear(),"-").concat(t(e.getUTCMonth()+1),"-").concat(t(e.getUTCDate()),"T").concat(t(e.getUTCHours()),":").concat(t(e.getUTCMinutes()),":").concat(t(e.getUTCSeconds()),".").concat((e.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5),"Z")}}(),window.publicPath="/theme/onlyfans/spa/";t["default"]=new o["default"]({router:w["a"],store:O["a"],i18n:ls,vuetify:vs,render:function(e){return e(y)}}).$mount("#app")},5892:function(e,t,n){"use strict";n.d(t,"q",(function(){return a})),n.d(t,"i",(function(){return s})),n.d(t,"l",(function(){return i})),n.d(t,"g",(function(){return o})),n.d(t,"m",(function(){return c})),n.d(t,"o",(function(){return u})),n.d(t,"h",(function(){return d})),n.d(t,"t",(function(){return l})),n.d(t,"a",(function(){return f})),n.d(t,"y",(function(){return m})),n.d(t,"f",(function(){return p})),n.d(t,"z",(function(){return h})),n.d(t,"e",(function(){return b})),n.d(t,"d",(function(){return g})),n.d(t,"s",(function(){return v})),n.d(t,"j",(function(){return y})),n.d(t,"r",(function(){return w})),n.d(t,"c",(function(){return O})),n.d(t,"x",(function(){return j})),n.d(t,"b",(function(){return k})),n.d(t,"u",(function(){return S})),n.d(t,"n",(function(){return x})),n.d(t,"w",(function(){return P})),n.d(t,"v",(function(){return I})),n.d(t,"k",(function(){return C})),n.d(t,"p",(function(){return R}));var r=n("b775"),a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.queue,n=void 0!==t&&t,a=e.locked,s=void 0!==a&&a,i=e.offset,o=void 0===i?0:i,c=e.purchased,u=void 0!==c&&c,d=e.limit,l=void 0===d?r["e"]:d,f=e.query,m=e.cancelToken,p=e.skipUsers,h=e.beforePublishTime,b=e.afterPublishTime,g=e.list_id,v=e.user,y="".concat(r["b"],"/posts");s&&(y+="/locked"),n&&(y+="/queue"),u&&(y+="/paid");var w=!s&&!n&&!u,O=(h||b)&&w?Object(r["c"])({limit:l,query:f,skip_users:p,skip_users_dups:1,beforePublishTime:h,afterPublishTime:b,format:"infinite",list_id:g,user_id:v?encodeURIComponent(v):void 0}):Object(r["c"])({limit:l,offset:o,query:f,skip_users:p,skip_users_dups:1,format:"infinite",list_id:g,user_id:v?encodeURIComponent(v):void 0});return y+="".concat(O),r["d"].get(y,{cancelToken:m}).then((function(e){return e.data}))},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.limit,n=void 0===t?r["e"]:t,a=e.offset,s=void 0===a?0:a,i=e.query,o=e.cancelToken,c=e.type,u=e.filter,d=e.order,l=e.skipUsers,f=Object(r["c"])({limit:n,offset:s,query:i,filter:u,order:d,skip_users:l,skip_users_dups:1});c&&(c="/".concat(c));var m="".concat(r["b"],"/posts/bookmarks").concat(c).concat(f);return r["d"].get(m,{cancelToken:o}).then((function(e){return e.data}))},i=function(e,t){var n=Object(r["c"])({skip_users:t,skip_users_dups:1}),a="".concat(r["b"],"/posts/").concat(e).concat(n);return r["d"].get(a).then((function(e){return e.data}))},o=function(e,t){var n="".concat(r["b"],"/posts/").concat(e);return r["d"].put(n,t).then((function(e){return e.data}))},c=function(e){var t=e.id,n=e.limit,a=void 0===n?r["e"]:n,s=e.offset,i=void 0===s?0:s,o=Object(r["c"])({limit:a,offset:i,sort:"desc"}),c="".concat(r["b"],"/posts/").concat(t,"/comments").concat(o);return r["d"].get(c).then((function(e){return e.data}))},u=function(e){var t="".concat(r["b"],"/posts/").concat(e,"/stats");return r["d"].get(t).then((function(e){return e.data}))},d=function(e){var t=e.id,n=e.authorId,a="".concat(r["b"],"/posts/").concat(t,"/favorites/").concat(n);return r["d"].post(a).then((function(e){return e.data}))},l=function(e){var t="".concat(r["b"],"/posts/").concat(e,"/pin?format=status");return r["d"].post(t).then((function(e){return e.data}))},f=function(e){var t=e.id,n=e.text,a=e.answerTo,s=e.giphyId,i="".concat(r["b"],"/posts/").concat(t,"/comments");return r["d"].post(i,{text:n,answerTo:a,giphyId:s}).then((function(e){return e.data}))},m=function(e){var t=e.data,n=e.url;return r["d"].post(n,t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return e.data}))},p=function(e){var t="".concat("").concat(e);return r["d"].delete(t).then((function(e){return e.data}))},h=function(e,t){var n="".concat(r["b"],"/posts/").concat(e,"/vote");return r["d"].post(n,{optionId:t}).then((function(e){return e.data}))},b=function(e){var t="".concat(r["b"],"/posts/").concat(e);return r["d"].delete(t).then((function(e){return e.data}))},g=function(e){var t="".concat(r["b"],"/posts");return r["d"].post(t,e).then((function(e){return e.data}))},v=function(e){var t="".concat(r["b"],"/posts/").concat(e,"/hide");return r["d"].put(t).then((function(e){return e.data}))},y=function(e){var t=e.postId,n=e.offset,a=Object(r["c"])({limit:r["e"],offset:n}),s="".concat(r["b"],"/posts/").concat(t,"/favorites").concat(a);return r["d"].get(s).then((function(e){return e.data}))},w=function(e){var t=e.postId,n=e.offset,a=Object(r["c"])({limit:r["e"],offset:n}),s="".concat(r["b"],"/posts/").concat(t,"/tips").concat(a);return r["d"].get(s).then((function(e){return e.data}))},O=function(e){var t="".concat(r["b"],"/posts/").concat(e,"/archive");return r["d"].post(t).then((function(e){return e.data}))},j=function(e){var t="".concat(r["b"],"/posts/").concat(e,"/unarchive");return r["d"].post(t).then((function(e){return e.data}))},k=function(e,t){var n="".concat(r["b"],"/posts/").concat(e,"/bookmarks/").concat(t);return r["d"].post(n).then((function(e){return e.data}))},S=function(e){var t="".concat(r["b"],"/posts/").concat(e,"/bookmarks");return r["d"].delete(t).then((function(e){return e.data}))},x=function(e){var t="".concat(r["b"],"/posts/").concat(e,"/fund-raising-contributors/count");return r["d"].get(t).then((function(e){return e.data}))},P=function(e){var t="".concat(r["b"],"/posts/stats-collect");return r["d"].post(t,{actions:e}).then((function(e){return e.data}))},I=function(e){var t="".concat(r["b"],"/posts/pinned/sort?format=ids");return r["d"].post(t,{order:e}).then((function(e){return e.data}))},C=function(e){var t=e.postId,n=e.offset,a=Object(r["c"])({limit:r["e"],offset:n}),s="".concat(r["b"],"/posts/").concat(t,"/buyers").concat(a);return r["d"].get(s).then((function(e){return e.data}))},R=function(e){var t=e.postId,n=e.optionId,a=e.offset,s=e.marker,i=Object(r["c"])({limit:r["e"],offset:a,marker:s}),o="".concat(r["b"],"/posts/").concat(t,"/voters/").concat(n).concat(i);return r["d"].get(o).then((function(e){return e.data}))}},"5b5f":function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return A})),n.d(t,"getters",(function(){return L})),n.d(t,"mutations",(function(){return E})),n.d(t,"actions",(function(){return M}));n("8e6e"),n("20d6"),n("8615"),n("55dd");var r=n("bd86"),a=(n("96cf"),n("3b8d")),s=(n("6762"),n("2fdb"),n("5df3"),n("4f7f"),n("75fc")),i=n("768b"),o=(n("ac6a"),n("456d"),n("7514"),n("c5f6"),n("5e23")),c=n("56d7"),u=n("b775"),d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.limit=e.limit||u["e"],e.offset=e.offset||0;var t=Object(u["c"])(e),n="".concat(u["b"],"/lists").concat(t);return u["d"].get(n).then((function(e){return e.data}))},l=function(e){var t="".concat(u["b"],"/lists/").concat(e);return u["d"].get(t).then((function(e){return e.data}))},f=function(e){var t=e.id,n=e.offset,r=void 0===n?0:n,a=e.limit,s=void 0===a?u["e"]:a,i=e.query,o=void 0===i?"":i,c=Object(u["c"])({offset:r,limit:s,query:o}),d="".concat(u["b"],"/lists/").concat(t,"/users").concat(c);return u["d"].get(d).then((function(e){return e.data}))},m=function(e){var t="".concat(u["b"],"/lists");return u["d"].post(t,{name:e}).then((function(e){return e.data}))},p=function(e){var t=e.id,n=e.name,r="".concat(u["b"],"/lists/").concat(t);return u["d"].patch(r,{name:n}).then((function(e){return e.data}))},h=function(e){var t="".concat(u["b"],"/lists/").concat(e);return u["d"].delete(t).then((function(e){return e.data}))},b=function(e){var t="".concat(u["b"],"/lists/").concat(e,"/users");return u["d"].delete(t).then((function(e){return e.data}))},g=function(e){var t="".concat(u["b"],"/lists/sort");return u["d"].post(t,e).then((function(e){return e.data}))},v=function(e,t){var n="".concat(u["b"],"/lists/").concat(e,"/users/").concat(t);return u["d"].post(n).then((function(e){return e.data}))},y=function(e,t){var n="".concat(u["b"],"/lists/").concat(e,"/users/").concat(t);return u["d"].delete(n).then((function(e){return e.data}))},w=function(e){var t="".concat(u["b"],"/lists/users");return u["d"].post(t,e).then((function(e){return e.data}))},O=function(e){var t=e.listId,n=e.year,r=e.month,a="".concat(u["b"],"/lists/").concat(t,"/users/awards/").concat(n,"/").concat(r);return u["d"].post(a).then((function(e){return e.data}))},j=function(e){var t=e.listId,n=e.queueId,r="".concat(u["b"],"/lists/").concat(t,"/users/queue/").concat(n,"/buyers");return u["d"].post(r).then((function(e){return e.data}))},k=function(e){var t=e.listId,n=e.status,r="".concat(u["b"],"/lists/").concat(t);return u["d"].patch(r,{isPinnedToFeed:n}).then((function(e){return e.data}))},S=function(e){var t=e.listId,n=e.status,r="".concat(u["b"],"/lists/").concat(t);return u["d"].patch(r,{isPinnedToChat:n}).then((function(e){return e.data}))},x=function(e){var t=e.type,n=e.listId,r=e.postId,a=e.optionId,s="".concat(u["b"],"/lists/").concat(n,"/users/post/").concat(r,"/").concat(t).concat(a?"/".concat(a):"");return u["d"].post(s).then((function(e){return e.data}))},P=n("09e4"),I=n("559d"),C=n("709f");function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _=function(){return{items:{},usersListsIds:[],itemsUsersList:[],modalCustomListId:null,customOrderEnabled:!1,loading:!1,offset:0,usersOffset:0,needOpenListsModal:!1,isAddUsersMode:!1,pinnedIds:[],couldBePinnedList:[],currentFiltersIds:[]}},A=_(),L={getUsersList:function(e){return function(t){return Number(t)===t?e.items[t]:Object.keys(e.items).map((function(t){return e.items[t]})).find((function(e){return e.type===t}))}},getCurrentFilterListId:function(e){var t=Object(i["a"])(e.currentFiltersIds,1),n=t[0];return Number(n)?n:void 0},getCurrentFilterIsPurchased:function(e){var t=Object(i["a"])(e.currentFiltersIds,1),n=t[0];return"purchased"===n},getCurrentFilterIsBlurred:function(e){var t=Object(i["a"])(e.currentFiltersIds,1),n=t[0];return"blurred"===n}},E={setIds:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e.usersListsIds=t},addIds:function(e,t){e.usersListsIds=Object(s["a"])(new Set([].concat(Object(s["a"])(e.usersListsIds),Object(s["a"])(t))))},deleteUsersList:function(e,t){e.usersListsIds=e.usersListsIds.filter((function(e){return e!==t}))},setModalCustomListId:function(e,t){e.modalCustomListId=t},setCustomOrderEnabled:function(e,t){e.customOrderEnabled=t},setLoading:function(e,t){e.loading=t},setOffset:function(e,t){e.offset=t},setUsersOffset:function(e,t){e.usersOffset=t},setUsersListUsers:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.userIds,r=void 0===n?[]:n,a=t.more,i=void 0!==a&&a;i||(e.itemsUsersList=[]),e.itemsUsersList=Object(s["a"])(new Set([].concat(Object(s["a"])(e.itemsUsersList),Object(s["a"])(r))))},setNeedOpenListsModal:function(e,t){e.needOpenListsModal=t},updateUsersList:function(e,t){e.items[t.id]=t},setIsAddUsersMode:function(e,t){e.isAddUsersMode=t},logout:function(e){Object.assign(e,_())},setPinnedIds:function(e,t){e.pinnedIds=t},addPinnedIds:function(e,t){e.pinnedIds=Object(s["a"])(new Set([].concat(Object(s["a"])(e.pinnedIds),Object(s["a"])(t))))},deletePinnedIds:function(e,t){e.pinnedIds=e.pinnedIds.filter((function(e){return!t.includes(e)}))},addCouldBePinnedList:function(e,t){e.couldBePinnedList=Object(s["a"])(new Set([].concat(Object(s["a"])(e.couldBePinnedList),Object(s["a"])(t))))},setListPinned:function(e,t){var n=t.listId,r=t.status;e.items[n].isPinnedToFeed=r},setCurrentFiltersIds:function(e,t){e.currentFiltersIds=t},setChatFilters:function(e,t){e.currentFiltersIds=t},resetCollectionsFilter:function(e){e.pinnedIds=[],e.couldBePinnedList=[],e.currentFiltersIds=[]}},M={fetchUsersLists:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,s,i,c,l,f,m,p,h=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,r=t.state,a=t.rootGetters,s=t.dispatch,i=h.length>1&&void 0!==h[1]?h[1]:{},e.prev=2,c=i.more,l=i.notClear,delete i.more,delete i.notClear,c||(l||n("setIds"),n("setOffset",0)),"offset"in i||(i.offset=r.offset),i.skip_users=a["users/needSkipUsersOnLists"]?"all":void 0,n("setLoading",!0),e.next=12,d(i);case 12:if(f=e.sent,n("setLoading",!1),i.filter||n("setOffset",r.offset+u["e"]),!f||!Array.isArray(f)){e.next=25;break}if(m=Object(o["a"])(f,I["B"]),!i.skip_users){e.next=20;break}return e.next=20,s("users/getUsersIfNeeded",m,{root:!0});case 20:return p=m.result.map((function(e){return Number(e)})),n("set",m,{root:!0}),n("addIds",p),s("pinnedList",{filter:i.filter,ids:p}),e.abrupt("return",m.result);case 25:return Object(P["c"])({error:new Error("typeof response is incorrect"),extra:{response:f}}),e.abrupt("return",[]);case 29:return e.prev=29,e.t0=e["catch"](2),n("setLoading",!1),Sentry.captureException(e.t0),e.abrupt("return",[]);case 34:case"end":return e.stop()}}),e,null,[[2,29]])})));function t(t){return e.apply(this,arguments)}return t}(),pinnedList:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,s,i,o=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=t.commit,r=t.dispatch,a=o.length>1&&void 0!==o[1]?o[1]:{},s=a.filter,i=a.ids,!s||"feed"!==s&&"chat"!==s||(n("setPinnedIds",i),r("restoreCollectionsFilterFromLocalStorage",s)),!s||"can_pin"!==s&&"can_pin_chat"!==s||n("addCouldBePinnedList",i);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),fetchUsersList:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.prev=1,e.next=4,l(n);case 4:a=e.sent,a&&a.id&&(s=Object(o["a"])(a,I["A"]),r("set",s,{root:!0})),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),Sentry.captureException(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));function t(t,n){return e.apply(this,arguments)}return t}(),addUsersList:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.prev=1,e.next=4,m(n);case 4:if(a=e.sent,!a||!a.id){e.next=10;break}return s=Object(o["a"])(a,I["A"]),r("set",s,{root:!0}),r("addIds",[Number(s.result)]),e.abrupt("return",a);case 10:return e.abrupt("return",null);case 13:return e.prev=13,e.t0=e["catch"](1),Object(P["b"])(e.t0),e.abrupt("return",null);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));function t(t,n){return e.apply(this,arguments)}return t}(),updateUsersList:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,s,i,c,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,a=t.rootState,s=n.id,i=n.name,e.prev=2,e.next=5,p({id:s,name:i});case 5:c=e.sent,c&&c.id&&(u=Object(o["a"])(c,I["A"]),r("set",u,{root:!0}),Object.keys(a.users.items).forEach((function(e){if(a.users.items[e].listsStates){var t=!1,n=[];a.users.items[e].listsStates.forEach((function(e,r){n[r]=T({},e),Number(e.id)===Number(c.id)&&(n[r].name=c.name,t=!0)})),t&&r("users/setUserField",{userId:e,field:"listsStates",status:n},{root:!0})}}))),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](2),Object(P["b"])(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));function t(t,n){return e.apply(this,arguments)}return t}(),clearUsersList:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.prev=1,e.next=4,b(n);case 4:a=e.sent,a&&a.id&&(r("set",Object(o["a"])(a,I["A"]),{root:!0}),r("setUsersListUsers")),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),Object(P["b"])(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));function t(t,n){return e.apply(this,arguments)}return t}(),deleteUsersList:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.prev=1,e.next=4,h(n);case 4:if(a=e.sent,!a||!a.success){e.next=9;break}return r("deleteUsersList",n),r("setUsersListUsers"),e.abrupt("return",!0);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](1),Object(P["b"])(e.t0);case 14:return e.abrupt("return",!1);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));function t(t,n){return e.apply(this,arguments)}return t}(),saveUsersListsOrder:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,s,i,o,c,u,d,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,a=t.rootGetters,s=n.customOrder,i=n.sort,o=n.order,e.prev=2,e.next=5,g({customOrder:s,sort:i,order:o});case 5:c=e.sent,c&&c.success&&(s?r("setIds",s):(i||o)&&(u=a["auth/authUserId"],d=i?"listsSort":"listsSortOrder",l=Object.values(n)[0],r("users/setUserField",{userId:u,field:d,status:l},{root:!0}),r("setLoading",!0))),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](2),Object(P["b"])(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));function t(t,n){return e.apply(this,arguments)}return t}(),toggleUserInList:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,i,u,d,l,f,m,p,h,b,g,w;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=t.commit,a=t.rootGetters,i=t.state,u=n.listId,d=n.userId,e.prev=2,l=a["users/getUser"](d),f=l.listsStates.find((function(e){return Number(e.id)===u})),m=f&&f.hasUser,!m){e.next=12;break}return e.next=9,y(u,d);case 9:e.t0=e.sent,e.next=15;break;case 12:return e.next=14,v(u,d);case 14:e.t0=e.sent;case 15:p=e.t0,p&&(p.userState&&(h=Object(s["a"])(new Set(Object(s["a"])(l.listsStates))),b=h.findIndex((function(e){return Number(e.id)===u})),b>-1&&h.splice(b,1),m||(g=Object(s["a"])(new Set([].concat(Object(s["a"])(h),[p.userState]))),h=i.usersListsIds.filter((function(e){return void 0!==g.find((function(t){return Number(t.id)===Number(e)}))})).map((function(e){return g.splice(g.findIndex((function(t){return Number(t.id)===e})),1)[0]})).concat(g)),"friends"===p.userState.type&&(w=a["auth/authUserId"],r("users/setUserFriend",{authUserId:w,id:d},{root:!0})),"muted"!==p.userState.type||"Chat"!==c["default"].$route.name&&"Chats"!==c["default"].$route.name||r("chats/setMuteNotifications",d,{root:!0}),r("users/setUserField",{userId:d,field:"listsStates",status:h},{root:!0})),p.list&&(r("set",Object(o["a"])(p.list,I["A"]),{root:!0}),m&&i.itemsUsersList&&("CustomList"===c["default"].$route.name&&u===Number(c["default"].$route.params.list)||"MyFriends"===c["default"].$route.name&&"friends"===p.list.type||"close_friends"===c["default"].$route.params.list&&"close_friends"===p.list.type||"Bookmarks"===c["default"].$route.name&&"bookmarks"===p.list.type||"Favorites"===c["default"].$route.name&&"favorites"===p.list.type)&&r("setUsersListUsers",{userIds:i.itemsUsersList.filter((function(e){return e!==d}))}))),e.next=22;break;case 19:e.prev=19,e.t1=e["catch"](2),Object(P["b"])(e.t1);case 22:case"end":return e.stop()}}),e,null,[[2,19]])})));function t(t,n){return e.apply(this,arguments)}return t}(),fetchUsersListUsers:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,s,i,c,u,d,l,m;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,a=t.state,s=n.id,i=n.more,c=void 0!==i&&i,u=n.query,d=void 0===u?"":u,e.prev=2,c||(r("setUsersOffset",0),r("setUsersListUsers")),e.next=6,f({id:s,offset:a.usersOffset,query:d});case 6:if(l=e.sent,!l||!Array.isArray(l)){e.next=16;break}if(!l.length){e.next=14;break}return m=Object(o["a"])(l,I["y"]),r("set",m,{root:!0}),r("setUsersOffset",a.usersOffset+m.result.length),r("setUsersListUsers",{userIds:m.result,more:c}),e.abrupt("return",m.result);case 14:e.next=17;break;case 16:Object(P["c"])({error:new Error("typeof response is incorrect"),extra:{response:l}});case 17:e.next=22;break;case 19:e.prev=19,e.t0=e["catch"](2),Sentry.captureException(e.t0);case 22:return e.abrupt("return",[]);case 23:case"end":return e.stop()}}),e,null,[[2,19]])})));function t(t,n){return e.apply(this,arguments)}return t}(),addTopFansToList:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,s,i,o,c,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,a=t.getters,s=n.listId,i=n.year,o=n.month,e.prev=2,e.next=5,O({listId:s,year:i,month:o});case 5:return c=e.sent,c&&c.addedUsers&&c.addedUsers.length&&(u=T({},a.getUsersList(s)),u.usersCount+=c.addedUsers.length,u.users=c.addedUsers.reverse().concat(u.users).slice(0,5),r("updateUsersList",u)),e.abrupt("return",c);case 10:return e.prev=10,e.t0=e["catch"](2),Object(P["b"])(e.t0),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));function t(t,n){return e.apply(this,arguments)}return t}(),addUsersToLists:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w(n);case 3:if(r=e.sent,!(r&&Object.keys(n).length&&Object.keys(n).every((function(e){return r[e]&&n[e].every((function(t){return r[e].includes(t)}))})))){e.next=6;break}return e.abrupt("return",!0);case 6:return Object(P["b"])({}),e.abrupt("return",null);case 10:return e.prev=10,e.t0=e["catch"](0),Object(P["b"])(e.t0),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));function t(t,n){return e.apply(this,arguments)}return t}(),addQueueBuyersToList:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,s,i,o,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,a=t.getters,s=n.listId,i=n.queueId,e.prev=2,e.next=5,j({listId:s,queueId:i});case 5:return o=e.sent,o&&o.addedUsers&&o.addedUsers.length&&(c=T({},a.getUsersList(s)),c.usersCount+=o.addedUsers.length,c.users=o.addedUsers.reverse().concat(c.users).slice(0,5),r("updateUsersList",c)),e.abrupt("return",o);case 10:return e.prev=10,e.t0=e["catch"](2),Object(P["b"])(e.t0),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));function t(t,n){return e.apply(this,arguments)}return t}(),updateUsersListPin:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=t.commit,a=n.listId,s=n.status,e.prev=2,r("setLoading",!0),"Feed"!==c["default"].$route.name&&"CustomList"!==c["default"].$route.name){e.next=10;break}return e.next=7,k({listId:a,status:s});case 7:i=e.sent,e.next=13;break;case 10:return e.next=12,S({listId:a,status:s});case 12:i=e.sent;case 13:return i&&i.id&&(r(s?"addPinnedIds":"deletePinnedIds",[a]),r("setListPinned",{listId:a,status:s}),r("setLoading",!1)),e.abrupt("return",i);case 17:return e.prev=17,e.t0=e["catch"](2),r("setLoading",!1),Object(P["b"])(e.t0),e.abrupt("return",null);case 22:case"end":return e.stop()}}),e,null,[[2,17]])})));function t(t,n){return e.apply(this,arguments)}return t}(),updateFeedFiltersAndRefetch:function(e,t){var n=e.commit,r=e.dispatch;if(n("setCurrentFiltersIds",t),r("saveFiltersLocalStorage",t),"Feed"===c["default"].$route.name){var a=Object(i["a"])(t,1),s=a[0];if(n("posts/resetFeedItemIds",{},{root:!0}),"purchased"===s)return void r("posts/fetchPosts",{direction:"bottom",purchased:!0},{root:!0}).catch((function(){}));if("blurred"===s)return void r("posts/fetchPosts",{direction:"bottom",locked:!0},{root:!0}).catch((function(){}));r("posts/fetchPosts",{direction:"bottom",list_id:s},{root:!0}).catch((function(){})),s?n("stories/setMyStories",[],{root:!0}):r("stories/fetchMyStories",{},{root:!0}),n("stories/setStories",[],{root:!0}),r("stories/fetchStories",{list_id:s},{root:!0}),n("streams/setItemIds",[],{root:!0}),r("streams/fetchStreamsFeed",{list_id:s},{root:!0})}},restoreCollectionsFilterFromLocalStorage:function(e,t){var n=e.state,r=e.commit,a=e.rootGetters,s=e.dispatch,o=a["auth/authUserId"],c="feed"===t?"feedFiltersIds":"currentFiltersIds",u=JSON.parse(C["a"].getItem(c)||"{}"),d=u[o]||[],l=Object(i["a"])(d,1),f=l[0],m=a["auth/authUser"];f&&n.pinnedIds.includes(f)||"purchased"===f&&"feed"===t&&m.hasPurchasedPosts||"blurred"===f&&"feed"===t&&m.paidFeed?r("setCurrentFiltersIds",d):(r("setCurrentFiltersIds",[]),s("saveFiltersLocalStorage",[]))},saveFiltersLocalStorage:function(e,t){var n=e.rootGetters,a=n["auth/authUserId"],i="Feed"===c["default"].$route.name?"feedFiltersIds":"currentFiltersIds",o=JSON.parse(C["a"].getItem(i)||"{}"),u=T(T({},o),{},Object(r["a"])({},a,Object(s["a"])(t)));C["a"].setItem(i,JSON.stringify(u))},addPostUsersToList:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,s,i,o,c,u,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,a=t.getters,s=n.type,i=n.listId,o=n.postId,c=n.optionId,e.prev=2,e.next=5,x({type:s,listId:i,postId:o,optionId:c});case 5:return u=e.sent,u&&u.addedUsers&&u.addedUsers.length&&(d=T({},a.getUsersList(i)),d.usersCount+=u.addedUsers.length,d.users=u.addedUsers.reverse().concat(d.users).slice(0,5),r("updateUsersList",d)),e.abrupt("return",u);case 10:return e.prev=10,e.t0=e["catch"](2),Object(P["b"])(e.t0),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));function t(t,n){return e.apply(this,arguments)}return t}()}},"685f":function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return k})),n.d(t,"getters",(function(){return S})),n.d(t,"mutations",(function(){return x})),n.d(t,"actions",(function(){return P}));n("8e6e"),n("6762"),n("2fdb"),n("5df3"),n("96cf");var r=n("3b8d"),a=(n("7514"),n("75fc")),s=(n("c5f6"),n("ac6a"),n("456d"),n("bd86")),i=n("56d7"),o=n("5e23"),c=n("559d"),u=n("1a1d"),d=n("d931"),l=n("8975"),f=n("ceac"),m=n.n(f),p=n("a125"),h=n.n(p),b=n("9b02"),g=n.n(b);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){Object(s["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w=!0,O=function(){return{type:"",stream:{id:0,thumbUrl:"",startedAt:"",description:"",rawDescription:"",isShowTips:!1,tipsSumm:0,isOpened:!1},user:{id:0,name:"",username:"",displayName:null,isVerified:!1,tipsEnabled:!1,subscribedBy:!1,canEarn:!1,isPerformer:!1,avatar:null,avatarThumbs:null},timer:"0:00",streamState:"beforeStart",videoPlaying:!1,volume:1,muted:!1,covers:{items:[],selectedCover:{},successDownloaded:!1},stretchVideo:!1,comments:[],commentsCount:[],isWaiting:!1,tipGoal:{isShowTipGoal:!1,sum:null,progress:0,description:"",showTipGoalProgress:!1},streamType:"webrtc",showTapToPlay:!1,videoLoaded:!1}},j=function(){var e={mode:"",local:{stream:{id:0,description:"",rawDescription:"",tipsSumm:0,isShowTips:!1},user:{id:0,name:"",username:"",displayName:null,isVerified:!1,tipsEnabled:!1,canEarn:!1,isPerformer:!1,avatar:null,avatarThumbs:null},start:0,duration:"0:00",timer:"0:00",streamState:"beforeStart",moduleInitialized:!1,covers:{items:[],selectedCover:{},successDownloaded:!1},stretchVideo:!1,tipGoal:{isShowTipGoal:!1,sum:null,progress:0,description:"",showTipGoalProgress:!1}},partners:{},primaryPartnerUserId:0,streamsOrder:[],comments:[],hasMoreComments:!1,tippers:{},bestTipperId:void 0,likes:[],viewers:{},privateCommentUser:null,summary:{online:[],viewers:0,comments:0,likes:0,tips:0},streamingChatEnabled:!1,switchToLive:!1,switchFromLive:!1,switchFromDual:!1,UI:{showCommentForm:!1,showComments:!1,showStreamingViewers:!1,showStreamingActions:!1,showStreamingSummary:!1,commentsViewMode:"compact",hasUnreadComments:!1,showStreamingSystemStats:!1,endReason:"end",showStreamInformation:!1,showStreamDescription:!1,showStreamEndingConfirm:!1,buttonsPanel:{showOrientationLabel:!0,showStartStreamBtn:!0,startStreamBtnDisabled:!0,showMicSwitchBtn:!0,micSwitchBtnDisabled:!0,showCameraSwitchBtn:!0,cameraSwitchBtnDisabled:!0},showTipGoalModal:!1,showStreamPriceModal:!1,streamingViewersMode:"viewers",showStreamInformationModal:!1,showVolumeControlsModal:!1,showViewControlsModal:!1,showShowTipsToggleBtn:!1,commentInputFocused:!1,streamDescriptionFocused:!1,viewMode:"grid",showServiceProblem:!1,showStreamingAvailabilityModal:!1},mediaDevices:{isMicrophoneMuted:!1,selectedMicrophone:{},defaultMicrophone:{},microphoneList:[],selectedCamera:{},cameraList:[],cameraFacingMode:""},sentryLog:{getApiUrlRequest:{},getApiUrlResponse:{},startStreamRequested:!1,startStreamReceived:!1,onStreamStart:!1,roomName:null,streamId:null,user:null},streamSystemStats:{bitrate:[]},streamPrice:{price:0},tcpTestResults:void 0,streamType:"webrtc",availability:{includeListIds:[],excludeListIds:[],subscribersIds:[],scheduledSubscribedOn:"",usersCount:null},hasActiveStream:!1,hasActiveRtmpStream:!1};return e},k=j(),S={mode:function(e){return e.mode},streamsOrder:function(e){return e.streamsOrder},local:function(e){return e.local},partners:function(e){return e.partners},streams:function(e){return y(Object(s["a"])({},e.local.user.id,e.local),e.partners)},partnersIds:function(e){return Object.keys(e.partners).map(Number)},primaryPartnerUserId:function(e){return e.primaryPartnerUserId},partnersArray:function(e,t){return t.partnersIds.map((function(t){return e.partners[t]}))},primaryPartner:function(e){return e.partners[e.primaryPartnerUserId]},primary:function(e,t){return t.isStreamer?e.local:t.primaryPartner},partner:function(e,t){return t.partnersArray[0]},partner2:function(e,t){return t.partnersArray[1]},partner3:function(e,t){return t.partnersArray[2]},isStreamer:function(e){return!e.primaryPartnerUserId||e.local.user.id==e.primaryPartnerUserId},isCoStreamer:function(e,t){return!t.isStreamer},anyPartnerIsLive:function(e,t){return t.partnersArray.some((function(e){return"started"===e.streamState}))},streamDuration:function(e){return e.local.duration},comments:function(e){return e.comments},viewers:function(e){return e.viewers},summary:function(e){return e.summary},likes:function(e){return e.likes},tipGoal:function(e){return e.local.tipGoal},tipGoalVisible:function(e){return e.local.tipGoal.sum>0},streamPrice:function(e){return e.streamPrice},streamPriceVisible:function(e){return e.streamPrice.price>0},streamingChatEnabled:function(e){return e.streamingChatEnabled},switchToLive:function(e){return e.switchToLive},switchedFromLive:function(e){return e.switchedFromLive},switchFromDual:function(e){return e.switchFromDual},UI:function(e){return e.UI},mediaDevices:function(e){return e.mediaDevices},sentryLog:function(e){return e.sentryLog},streamSystemStats:function(e){return e.streamSystemStats},timer:function(e,t){return t.isStreamer?e.local.timer:t.primaryPartner.timer},privateCommentUser:function(e){return e.privateCommentUser},streamType:function(e){return e.streamType},availability:function(e){return e.availability},hasMoreComments:function(e){return e.hasMoreComments}},x={setMode:function(e,t){e.mode=t},setLocal:function(e,t){e.local=y(y({},e.local),t)},setLocalStream:function(e,t){e.local.stream=y(y({},e.local.stream),t)},setLocalStreamUser:function(e,t){var n={id:t.id,name:t.name,username:t.username,displayName:t.displayName,isVerified:t.isVerified,tipsEnabled:t.tipsEnabled,subscribedBy:t.subscribedBy,canEarn:t.canEarn,isPerformer:t.isPerformer,avatar:t.avatar,avatarThumbs:t.avatarThumbs};e.local.user=y(y({},e.local.user),n)},setStreamCovers:function(e,t){e.local.covers=y(y({},e.local.covers),t)},setPartnerUser:function(e,t){var n=t.user,r=t.instance,a={id:n.id,name:n.name,username:n.username,displayName:n.displayName,isVerified:n.isVerified,tipsEnabled:n.tipsEnabled,subscribedBy:n.subscribedBy,canEarn:n.canEarn,isPerformer:n.isPerformer,avatar:n.avatar,avatarThumbs:n.avatarThumbs};e.partners[r]||i["default"].$set(e.partners,r,O()),e.partners[r].user=y(y({},e.partners[r].user),a)},setPartnerStream:function(e,t){var n=t.stream,r=t.instance;n&&e.partners[r]&&(e.partners[r].stream=y(y({},e.partners[r].stream),n))},setPartner:function(e,t){var n=t.data,r=t.instance;n&&e.partners[r]&&(e.partners[r]=y(y({},e.partners[r]),n))},removePartner:function(e,t){e.partners[t]&&i["default"].$delete(e.partners,t)},setPrimaryPartnerUserId:function(e,t){t&&(e.primaryPartnerUserId=t)},setPartnerStreamVolume:function(e,t){var n=t.volume,r=t.instance;e.partners[r].volume=n},setPartnerStreamMuted:function(e,t){var n=t.muted,r=t.instance;e.partners[r].muted=n},setPartnerStreamCovers:function(e,t){var n=t.data,r=t.instance;e.partners[r].covers=Object.assign(e.partners[r].covers,n)},setPartnerTipGoal:function(e,t){var n=t.data,r=t.instance;e.partners[r].tipGoal=y(y({},e.partners[r].tipGoal),n)},setComments:function(e,t){e.comments=Object(a["a"])(t)},addComment:function(e,t){var n=g()(t,"user.id"),r=g()(t,"user.hasStreamTips"),i=g()(t,"user.hasTopStreamTips");n&&(e.tippers=y(y({},e.tippers),{},Object(s["a"])({},n,r))),i&&(e.bestTipperId=n),e.comments=[].concat(Object(a["a"])(e.comments),[t])},addComments:function(e,t){Object(a["a"])(t||[]).reverse().forEach((function(t){void 0===e.tippers[t.user.id]&&t.user.hasStreamTips&&(e.tippers[t.user.id]=t.user.hasStreamTips),!e.bestTipperId&&t.user.hasTopStreamTips&&(e.bestTipperId=t.user.id)})),e.comments=[].concat(Object(a["a"])(t),Object(a["a"])(e.comments))},removeComment:function(e,t){t&&(e.comments=e.comments.filter((function(e){return e.id!=t})))},incrementCommentsCount:function(e,t){e.summary.comments+=t},addTips:function(e,t){e.summary.tips+=t},addLike:function(e,t){t.id=e.summary.likes;var n=[e.local.user.id].concat(Object(a["a"])(Object.keys(e.partners)));n.find((function(e){return e==t.streamUserId}))&&(e.likes=[].concat(Object(a["a"])(e.likes),[t]),e.summary.likes+=1)},removeLike:function(e,t){e.likes=e.likes.filter((function(e){return e.id!==t.id}))},incrementViewersCount:function(e,t){e.summary.viewers+=t},decrementViewersCount:function(e,t){e.summary.viewers-=t},setViewersCount:function(e,t){e.summary.viewers=t},addViewer:function(e,t){e.viewers[t.id]=t},removeViewer:function(e,t){delete e.viewers[t.id],e.viewers=y({},e.viewers)},setStreamingChatEnabled:function(e,t){e.streamingChatEnabled=t},setUI:function(e,t){e.UI=y(y({},e.UI),t)},setUIButtonsPanel:function(e,t){e.UI.buttonsPanel=y(y({},e.UI.buttonsPanel),t)},setDefaultPartnerUserStreamState:function(e,t){e.partners[t]=y(y({},e.partners[t]),O())},setDefaultState:function(e){Object.assign(e,j())},logout:function(e){Object.assign(e,j())},setSwitchToLive:function(e,t){e.switchToLive=t},setSwitchFromLive:function(e,t){e.switchFromLive=t},setSwitchFromDual:function(e,t){e.switchFromDual=t},setMediaDevices:function(e,t){e.mediaDevices=y(y({},e.mediaDevices),t)},setSentryLog:function(e,t){var n=t.key,r=t.value;n&&(e.sentryLog[n]=r)},setStreamSystemStats:function(e,t){e.streamSystemStats=y(y({},e.streamSystemStats),t)},setTipGoal:function(e,t){e.local.tipGoal=y(y({},e.local.tipGoal),t)},setStreamPrice:function(e,t){e.streamPrice=y(y({},e.streamPrice),t)},setPrivateCommentUser:function(e,t){e.privateCommentUser=t?y({},t):null},setStreamsOrder:function(e,t){e.streamsOrder=Object(a["a"])(t)},removeStreamsOrder:function(e,t){e.streamsOrder=e.streamsOrder.filter((function(e){return e!=t}))},setStreamType:function(e,t){e.streamType=t},setTcpTestResults:function(e,t){w||(e.tcpTestResults=t)},setAvailability:function(e,t){var n=t.includeListIds,r=void 0===n?[]:n,a=t.excludeListIds,s=void 0===a?[]:a,i=t.subscribersIds,o=void 0===i?[]:i,c=t.scheduledSubscribedOn,u=void 0===c?"":c,d=t.usersCount,l=void 0===d?null:d;e.availability.includeListIds=r,e.availability.excludeListIds=s,e.availability.subscribersIds=o,e.availability.scheduledSubscribedOn=u,e.availability.usersCount=l},setHasActiveStream:function(e,t){e.hasActiveStream=t},setHasActiveRtmpStream:function(e,t){e.hasActiveRtmpStream=t},setHasMoreComments:function(e,t){e.hasMoreComments=t}},P={createStreamModule:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.state,e.next=3,Object(d["a"])(n.streamType);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),createViewModules:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.state,e.next=3,Promise.all(Object.keys(n.partners).map(d["b"]));case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),destroy:function(e){var t=e.state,n=e.commit,r=e.dispatch;Object(d["c"])(),t.switchToLive||(r("destroyAllPartnersStreams"),delete window.viewModule),n("setDefaultState")},destroyAllPartnersStreams:function(e){var t=e.state,n=e.dispatch;Object.keys(t.partners).forEach((function(e){n("destroyPartnerStream",e)}))},destroyPartnerStream:function(e,t){var n=e.state,r=e.dispatch;n.partners[t]&&(Object(d["d"])({instance:t}),r("removePartner",t))},removePartner:function(e,t){var n=e.state,r=e.commit;r("removeStreamsOrder",t),n.partners[t]&&r("removePartner",t)},stopAllPartnersStreams:function(e){var t=e.state;Object.keys(t.partners).forEach(d["g"])},addComment:function(e,t){var n=e.commit;n("addComment",t),n("incrementCommentsCount",1)},addTips:function(e,t){var n=e.state,r=e.commit,a=e.rootGetters,o=Object(s["a"])({},n.local.user.id,{id:n.local.user.id,name:Object(l["b"])(n.local.user.name||n.local.user.username)});if("dual-streaming"===n.mode){var c=n.partners[t.stream_user_id];c&&(o[c.user.id]=c.user)}var u=o[t.stream_user_id];if(u){var f=Object(d["e"])({vm:i["default"],authUser:a["auth/authUser"],fromUser:t.from_user,toUser:u,amount:t.amount_human,message:t.message}),m={id:t.id,text:f,user:t.from_user,isServiceMessage:!0};r("addComment",m);var p=+parseFloat(t.amount).toFixed(2);n.local.user.id==u.id?r("addTips",p):r("setPartnerStream",{instance:u.id,stream:{tipsSumm:p}})}},joinUser:function(e,t){var n=e.state,r=e.getters,a=e.commit;if(a("addViewer",t),n.streamingChatEnabled&&a("incrementViewersCount",1),("dual-streaming"!==n.mode||!r.isCoStreamer||!Object.keys(n.partners).includes(t.id))&&!(n.summary.viewers>20)){var s={id:"".concat(t.id,"_").concat((new Date).getTime()),user:t,text:i["default"].$i18n.t("message.has_joined_stream_comment"),isServiceMessage:!0};a("addComment",s),setTimeout((function(){a("removeComment",s.id)}),6e4)}},leaveUser:function(e,t){var n=e.state,r=e.commit;r("removeViewer",t),n.streamingChatEnabled&&n.summary.viewers>0&&r("decrementViewersCount",1)},addLike:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=t.commit,r("addLike",n);case 2:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),removeLike:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=t.commit,r("removeLike",n);case 2:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),addSubscribedComment:function(e,t){var n=e.commit,r={id:"".concat(t.id,"_").concat((new Date).getTime()),user:t,text:i["default"].$i18n.t("message.streaming_user_subscribed"),isServiceMessage:!0};n("addComment",r),setTimeout((function(){n("removeComment",r.id)}),6e4)},enableStreamingChat:function(e,t){var n=e.commit,r=e.dispatch;n("setStreamingChatEnabled",!0),n("setLocal",{streamState:"started"}),n("setLocalStream",{id:t.id}),r("setStreamData",t)},disableStreamingChat:function(e){var t=e.commit;t("setDefaultState")},setStreamData:function(e){var t=e.state,n=e.getters,r=e.commit,a=e.dispatch,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("started"===t.local.streamState){r("setLocalStream",{description:s.description,rawDescription:s.rawDescription,tipsSumm:+parseFloat(s.tipsSumm).toFixed(2),isShowTips:!!+s.isShowTips}),r("setLocalStreamUser",s.user);var i={isShowTipGoal:!!+s.isShowTipsGoal,sum:+s.tipsGoalSum,progress:+s.tipsGoalProgress,description:s.tipsGoal};r("setTipGoal",i);var o=s.partners||[],c=h()(n.partnersArray,o,(function(e){return e.user.id}));c.forEach((function(e){a("destroyPartnerStream",e.user.id)})),o.forEach((function(e){var t=s.primaryPartnerUserId==e.user.id?"primary":"partner";a("setPartnerUserStreamData",{instance:e.user.id,streamData:e,partnerType:t})})),a("refreshStreamsOrder"),r("setPrimaryPartnerUserId",s.primaryPartnerUserId),o.length?r("setMode","dual-streaming"):(r("setMode","streaming"),r("setSwitchFromDual",!0))}},setPartnerUserStreamData:function(e,t){var n=e.commit,r=t.streamData,a=t.instance,s=t.partnerType,i=void 0===s?"partner":s,u=t.applyTips,d=void 0!==u&&u;if(r&&a&&r.user.id==a){var l=Object(o["a"])(r.user,c["z"]);if(n("set",l,{root:!0}),n("setPartnerUser",{user:r.user,instance:a}),n("setPartner",{data:{type:i},instance:a}),n("setPartnerStream",{stream:{id:r.id,thumbUrl:r.thumbUrl,startedAt:r.startedAt,canJoin:r.canJoin,description:r.description,rawDescription:r.rawDescription,isOpened:!!+r.isOpened},instance:a}),d){n("setPartnerStream",{stream:{isShowTips:!!+r.isShowTips,tipsSumm:+parseFloat(r.tipsSumm).toFixed(2)},instance:a});var f={isShowTipGoal:!!+r.isShowTipsGoal,sum:+r.tipsGoalSum,progress:+r.tipsGoalProgress,description:r.tipsGoal};n("setPartnerTipGoal",{data:f,instance:a})}}},addPartner:function(e,t){var n=e.commit,r=t.partner,a=t.type;n("setPartnerUser",{user:r.user,instance:r.user.id}),n("setPartnerStream",{stream:r.stream,instance:r.user.id}),n("setPartner",{data:{type:a,streamState:r.streamState,videoPlaying:r.videoPlaying,stretchVideo:r.stretchVideo},instance:r.user.id}),n("setPartnerStreamVolume",{volume:r.volume,instance:r.user.id}),n("setPartnerStreamMuted",{muted:r.muted,instance:r.user.id}),n("setPartnerTipGoal",{data:{isShowTipGoal:r.tipGoal.isShowTipGoal,sum:r.tipGoal.sum,progress:r.tipGoal.progress,description:r.tipGoal.description,showTipGoalProgress:r.tipGoal.showTipGoalProgress},instance:r.user.id})},doSwitchFromLive:function(e,t){var n=e.rootGetters,r=e.commit,a=e.dispatch,s=t.livePrimary,i=t.partners,o=t.comments,c=t.UI,u=n["auth/authUser"];r("setLocalStreamUser",u),a("addPartner",{partner:s,type:"primary"}),r("setPrimaryPartnerUserId",s.user.id),i.forEach((function(e){a("addPartner",{partner:e,type:"partner"})})),a("refreshStreamsOrder"),r("setComments",o),r("incrementCommentsCount",o.length),r("setUI",c),r("setSwitchFromLive",!0)},toggleCommentsViewMode:function(e){var t=e.state,n=e.commit,r="full"===t.UI.commentsViewMode?"compact":"full";n("setUI",{commentsViewMode:r})},showStreamingViewersModal:function(e,t){var n=e.commit;t&&n("setUI",{streamingViewersMode:t}),n("setUI",{showStreamingViewers:!0})},setAllShowTipGoalProgress:function(e,t){var n=e.getters,r=e.commit;r("setTipGoal",{showTipGoalProgress:t}),n.partnersIds.forEach((function(e){r("setPartnerTipGoal",{data:{showTipGoalProgress:t},instance:e})}))},refreshStreamsOrder:function(e){var t=e.state,n=e.getters,r=e.commit,s=[t.local.user.id].concat(Object(a["a"])(n.partnersIds)),i=m()(t.streamsOrder,s),o=m()(s,t.streamsOrder);if(i||o){var c=[].concat(Object(a["a"])(t.streamsOrder.filter((function(e){return!i.includes(e)}))),Object(a["a"])(o));r("setStreamsOrder",c)}},checkActiveStream:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.prev=1,e.next=4,Object(u["b"])();case 4:r=e.sent,n("setHasActiveStream",!!r.hasActive),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),n("setHasActiveStream",!1);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));function t(t){return e.apply(this,arguments)}return t}(),checkActiveRtmpStream:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.next=3,Object(u["g"])({skip_users:"all"});case 3:r=e.sent,a=r.filter((function(e){return e.isActive})),a.length?(s=a[0],n("setHasActiveStream",!0),n("setHasActiveRtmpStream","obs"===s.streamingPlatform)):(n("setHasActiveStream",!1),n("setHasActiveRtmpStream",!1));case 6:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),loadMoreComments:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.getters,r=t.commit,e.next=3,Object(u["i"])(n.local.stream.id,{id:k.comments.length?k.comments[0].id:void 0,limit:20});case 3:a=e.sent,s=a.list.reverse().map((function(e){return{id:e.comment_id,text:e.comment,user:e.user,isPrivate:!1}})),r("addComments",s),r("setHasMoreComments",a.hasMore);case 7:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}},"6fa6":function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"o",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"q",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"m",(function(){return l})),n.d(t,"d",(function(){return f})),n.d(t,"f",(function(){return m})),n.d(t,"p",(function(){return p})),n.d(t,"t",(function(){return h})),n.d(t,"n",(function(){return b})),n.d(t,"g",(function(){return g})),n.d(t,"i",(function(){return v})),n.d(t,"s",(function(){return y})),n.d(t,"h",(function(){return w})),n.d(t,"r",(function(){return O})),n.d(t,"l",(function(){return j})),n.d(t,"k",(function(){return k})),n.d(t,"u",(function(){return S})),n.d(t,"j",(function(){return x}));var r=n("b775"),a=n("af89"),s=function(){var e="".concat(r["b"],"/payouts/account");return r["d"].get(e).then((function(e){return e.data}))},i=function(e){var t="".concat(r["b"],"/payouts/account");return r["d"].post(t,e).then((function(e){return e.data}))},o=function(){var e="".concat(r["b"],"/payouts/legal");return r["d"].get(e).then((function(e){return Object(a["a"])(e.data)}))},c=function(e){var t="".concat(r["b"],"/payouts/legal");return r["d"].post(t,e).then((function(e){return e.data}))},u=function(e){var t="".concat(r["b"],"/payouts/legal/twitter");return r["d"].post(t,e).then((function(e){return e.data}))},d=function(e){var t="".concat(r["b"],"/payouts/legal/instagram");return r["d"].post(t,e).then((function(e){return e.data}))},l=function(){var e="".concat(r["b"],"/iv/skip-secondary");return r["d"].post(e).then((function(e){return e.data}))},f=function(){var e="".concat(r["b"],"/payouts/bank");return r["d"].get(e).then((function(e){return e.data}))},m=function(){var e="".concat(r["b"],"/payouts/other/bank");return r["d"].get(e).then((function(e){return e.data}))},p=function(e){var t="".concat(r["b"],"/payouts/bank");return r["d"].post(t,e).then((function(e){return e.data}))},h=function(e){var t="".concat(r["b"],"/payouts/bank");return r["d"].patch(t,e).then((function(e){return e.data}))},b=function(){var e="".concat(r["b"],"/payouts/bank");return r["d"].delete(e).then((function(e){return e.data}))},g=function(){var e="".concat(r["b"],"/payouts/stripe");return r["d"].get(e).then((function(e){return e.data}))},v=function(){var e="".concat(r["b"],"/payouts/stripe/legal");return r["d"].get(e).then((function(e){return e.data}))},y=function(e){var t="".concat(r["b"],"/payouts/stripe/legal");return r["d"].post(t,e).then((function(e){return e.data}))},w=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t="".concat(r["b"],"/payouts/stripe/account");return e&&(t+="-edit"),r["d"].get(t).then((function(e){return e.data}))},O=function(e){var t="".concat(r["b"],"/payouts/stripe/account");return r["d"].post(t,e).then((function(e){return e.data}))},j=function(e){var t="".concat(r["b"],"/zip/").concat(e,"/state");return r["d"].get(t).then((function(e){return e.data}))},k=function(e){var t="".concat(r["b"],"/signature/").concat(e);return r["d"].get(t).then((function(e){return e.data}))},S=function(e){var t="".concat(r["b"],"/signature/").concat(e);return r["d"].post(t).then((function(e){return e.data}))},x=function(e){var t="".concat(r["b"],"/signature-url");return r["d"].post(t,{code:e}).then((function(e){return e.data}))}},"709f":function(e,t,n){"use strict";var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{var n=localStorage.getItem(e);return null===n||"undefined"==typeof n?t:n}catch(r){return t}},a=function(e,t){try{return localStorage.setItem(e,t)}catch(n){}},s=function(e){try{return localStorage.removeItem(e)}catch(t){}};t["a"]={getItem:r,setItem:a,removeItem:s}},7129:function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return l})),n.d(t,"getters",(function(){return f})),n.d(t,"mutations",(function(){return m})),n.d(t,"actions",(function(){return p}));n("96cf");var r=n("3b8d"),a=n("75fc"),s=n("9b02"),i=n.n(s),o=n("a836"),c=n("559d"),u=n("5e23"),d=function(){return{itemIds:[],loading:!1,hasMore:!1}},l=d(),f={scheduledMessages:function(e,t,n,r){return e.itemIds.map((function(e){return r["chats/getMessage"](e)}))},hasMore:function(e){return e.hasMore},isScheduledLoading:function(e){return e.loading},hasScheduledMessages:function(e){return!!e.itemIds.length}},m={setLoading:function(e,t){e.loading=t},setScheduledMessages:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.items,r=void 0===n?[]:n,s=t.more,i=void 0!==s&&s;e.itemIds=i?[].concat(Object(a["a"])(e.itemIds),Object(a["a"])(r)):r},setHasMore:function(e,t){e.hasMore=t},deleteScheduledMessages:function(e,t){e.itemIds=e.itemIds.filter((function(e){return e!==t}))},logout:function(e){Object.assign(e,d())}},p={fetchScheduledMessages:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,s,d,l,f,m,p,h,b,g=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,r=t.dispatch,a=t.rootGetters,s=g.length>1&&void 0!==g[1]?g[1]:{},d=s.offset,l=void 0===d?0:d,f=s.more,m=void 0!==f&&f,n("setLoading",!0),m||(n("setScheduledMessages"),n("setHasMore",!1)),e.prev=4,p=a["users/needSkipUsersOnShort"]?"all":void 0,e.next=8,Object(o["m"])({offset:l,skipUsers:p});case 8:if(h=e.sent,n("setLoading",!1),!i()(h,"list",[]).length){e.next=17;break}if(b=Object(u["a"])(h.list,c["b"]),!p){e.next=15;break}return e.next=15,r("users/getUsersIfNeeded",b,{root:!0});case 15:n("set",b,{root:!0}),n("setScheduledMessages",{items:b.result,more:m});case 17:return n("setHasMore",h.hasMore),e.abrupt("return",h);case 21:e.prev=21,e.t0=e["catch"](4);case 23:return n("setLoading",!1),n("setHasMore",!1),e.abrupt("return",[]);case 26:case"end":return e.stop()}}),e,null,[[4,21]])})));function t(t){return e.apply(this,arguments)}return t}()}},"71ea":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"f",(function(){return c})),n.d(t,"g",(function(){return u})),n.d(t,"h",(function(){return d})),n.d(t,"d",(function(){return l})),n.d(t,"m",(function(){return f})),n.d(t,"x",(function(){return m})),n.d(t,"s",(function(){return p})),n.d(t,"o",(function(){return h})),n.d(t,"v",(function(){return b})),n.d(t,"l",(function(){return g})),n.d(t,"e",(function(){return v})),n.d(t,"r",(function(){return y})),n.d(t,"t",(function(){return w})),n.d(t,"p",(function(){return O})),n.d(t,"w",(function(){return j})),n.d(t,"c",(function(){return k})),n.d(t,"k",(function(){return S})),n.d(t,"j",(function(){return x})),n.d(t,"n",(function(){return P})),n.d(t,"u",(function(){return I})),n.d(t,"q",(function(){return C})),n.d(t,"i",(function(){return R})),n.d(t,"b",(function(){return T}));n("8e6e"),n("ac6a"),n("456d");var r=n("bd86"),a=n("b775");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var o=function(e){var t="".concat(a["b"],"/stories");return a["d"].post(t,e).then((function(e){return e.data}))},c=function(e){var t="".concat(a["b"],"/users/me/stories?unf=1");return a["d"].get(t,{cancelToken:e}).then((function(e){return e.data}))},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=Object(a["c"])(i({unf:1},e)),r="".concat(a["b"],"/stories").concat(n);return a["d"].get(r,{cancelToken:t}).then((function(e){return e.data}))},d=function(e){var t="".concat(a["b"],"/stories/").concat(e,"?unf=1");return a["d"].get(t).then((function(e){return e.data}))},l=function(e){var t="".concat(a["b"],"/stories/archive?unf=1&limit=12&offset=").concat(e);return a["d"].get(t).then((function(e){return e.data}))},f=function(e){var t="".concat(a["b"],"/users/").concat(e,"/stories?unf=1");return a["d"].get(t).then((function(e){return e.data}))},m=function(e){var t="".concat(a["b"],"/stories/").concat(e,"/watched");return a["d"].put(t).then((function(e){return e.data}))},p=function(e){var t="".concat(a["b"],"/stories/").concat(e);return a["d"].delete(t).then((function(e){return e.data}))},h=function(e){var t="".concat(a["b"],"/stories/").concat(e,"/like");return a["d"].post(t).then((function(e){return e.data}))},b=function(e){var t="".concat(a["b"],"/stories/").concat(e,"/like");return a["d"].delete(t).then((function(e){return e.data}))},g=function(e){var t=e.userId,n=e.offset,r=void 0===n?0:n,s=e.limit,i=void 0===s?10:s,o="".concat(a["b"],"/users/").concat(t,"/stories/highlights?limit=").concat(i,"&offset=").concat(r,"&format=infinite");return a["d"].get(o).then((function(e){return e.data}))},v=function(e){var t="".concat(a["b"],"/stories/highlights/").concat(e,"?unf=1");return a["d"].get(t).then((function(e){return e.data}))},y=function(e){var t="".concat(a["b"],"/stories/highlights/").concat(e);return a["d"].delete(t).then((function(e){return e.data}))},w=function(e){var t="".concat(a["b"],"/stories/highlights");return a["d"].post(t,e).then((function(e){return e.data}))},O=function(e,t){var n="".concat(a["b"],"/stories/highlights/").concat(e);return a["d"].patch(n,t).then((function(e){return e.data}))},j=function(e){var t="".concat(a["b"],"/stories/highlights/").concat(e.id);return a["d"].put(t,e).then((function(e){return e.data}))},k=function(e,t){var n="".concat(a["b"],"/stories/").concat(e,"/stats");return a["d"].get(n,{cancelToken:t}).then((function(e){return e.data}))},S=function(e,t,n){var r="".concat(a["b"],"/stories/").concat(e,"/viewers?limit=20&offset=").concat(t);return a["d"].get(r,{cancelToken:n}).then((function(e){return e.data}))},x=function(){var e="".concat(a["b"],"/stories/users/blocked");return a["d"].get(e).then((function(e){return e.data}))},P=function(e){var t="".concat(a["b"],"/stories/users/").concat(e,"/block");return a["d"].post(t).then((function(e){return e.data}))},I=function(e){var t="".concat(a["b"],"/stories/users/").concat(e,"/block");return a["d"].delete(t).then((function(e){return e.data}))},C=function(e,t){var n="".concat(a["b"],"/stories/").concat(e,"/answer");return a["d"].post(n,t).then((function(e){return e.data}))},R=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r="".concat(a["b"],"/stories/").concat(e,"/answer?limit=10&offset=").concat(t);return a["d"].get(r,{cancelToken:n}).then((function(e){return e.data}))},T=function(e){var t="".concat(a["b"],"/stories/answer/").concat(e);return a["d"].delete(t).then((function(e){return e.data}))}},7520:function(e,t,n){"use strict";n("96cf");var r=n("3b8d"),a=n("ce23");t["a"]={mixins:[a["a"]],methods:{goToStream:function(e){this.$router.push({name:"Live",params:{user:e.username}})},payForStream:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,s=this,i=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=i.length>2&&void 0!==i[2]&&i[2],e.next=3,this.makePayments({paymentType:"stream",streamId:t.id,amount:t.price,hideVatPopup:r,vatData:n.vat&&{vat:n.vat}},(function(){return s.payForStream(t,n,r)}));case 3:a=e.sent,a&&a.success&&this.goToStream(n),this.clicked=!1,this.clickedOnPay=!1;case 7:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()}}},"75de":function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return b})),n.d(t,"getters",(function(){return g})),n.d(t,"mutations",(function(){return v})),n.d(t,"actions",(function(){return y}));var r=n("7618"),a=(n("96cf"),n("3b8d")),s=n("b775"),i=function(){var e="".concat(s["b"],"/init");return s["d"].get(e,{"axios-retry":{retries:1}}).then((function(e){return e.data}))},o=function(){var e="".concat(s["b"],"/ip");return s["d"].get(e).then((function(e){return e.data}))},c=n("44ba"),u=n("00e7"),d=n.n(u),l=n("09e4"),f=n("de4c"),m=n("709f"),p=1===Math.round(100*Math.random()),h=function(){return{apiError:!1,canTranslate:!1,csrf:"",cardVerification:{minAmount:null,maxAmount:null},currentRev:null,currentDate:Date.now(),geoInfoCached:!1,geoInfo:{geo:{countryCode:null}},goBack:{initHistoryState:null,routeFrom:null},isAuth:null,isLoadRecaptcha:!1,isLoggedFromReferrer:!1,languages:{},neededReload:!1,settings:{},showBetaSwitcher:!1,obsStreamingServer:null,usersLinksMaxLimit:0,reportAbuseOptions:{},mainRequestsLoaded:!1,isShowCookiesNotice:!(d.a.get("cookiesAccepted",{domain:".".concat("onlyfans.com")})||m["a"].getItem("cookiesAccepted")),showReturnAdmin:!1,isLoginFromAdmin:!1,isFraudRepayment:!1,fraudRepaymentData:{},repaymentAgree:!1,geetestCaptcha:!1,hCaptchaSiteKey:"",hCaptchaPassiveSiteKey:"",ishCaptchaMain:p,recaptchaV3Public:"",recaptchaV2Public:""}},b=h(),g={getInit:function(e){return e},apiError:function(e){return e.apiError},goBackState:function(e){return e.goBack},shouldSendStat:function(e){return!!e.isPostsViewsEnabled}},v={setInit:function(e,t){Object.assign(e,{showBetaSwitcher:!1,geetestCaptcha:!1,hCaptchaSiteKey:"",hCaptchaPassiveSiteKey:"",showReturnAdmin:!1,isLoginFromAdmin:!1},t)},setInitAuth:function(e,t){e.isAuth=t},setNeededReload:function(e,t){e.neededReload=t},setCurrentRev:function(e,t){e.currentRev=t},setApiError:function(e,t){e.apiError=t},setGoBackRouteFrom:function(e,t){e.goBack.routeFrom=t},setGoBackInitHistoryState:function(e,t){e.goBack.initHistoryState=t},setGeoInfo:function(e,t){e.geoInfo=t},setGeoInfoCached:function(e,t){e.geoInfoCached=t},setCurrentDate:function(e,t){e.currentDate=t},setReportAbuseOptions:function(e,t){e.reportAbuseOptions=t},setIsLoadRecaptcha:function(e,t){e.isLoadRecaptcha=t},mainRequestsLoaded:function(e,t){e.mainRequestsLoaded=t},setShowCookiesNotice:function(e,t){e.isShowCookiesNotice=t,d.a.set("cookiesAccepted",!0,{domain:".".concat("onlyfans.com"),expires:"3Y"}),m["a"].setItem("cookiesAccepted",!0)},setIsFraudRepayment:function(e,t){e.isFraudRepayment=t},setFraudRepaymentData:function(e,t){e.fraudRepaymentData=t},setRepaymentAgree:function(e,t){e.repaymentAgree=t},logout:function(e){var t=e.languages,n=e.neededReload,r=e.currentRev,a=e.csrf,s=e.mainRequestsLoaded,i=e.isShowCookiesNotice,o=e.recaptchaV3Public,c=e.recaptchaV2Public,u=e.geetestCaptcha,d=e.hCaptchaSiteKey,l=e.hCaptchaPassiveSiteKey;Object.assign(e,h(),{isAuth:!1,languages:t,neededReload:n,currentRev:r,csrf:a,mainRequestsLoaded:s,isShowCookiesNotice:i,recaptchaV3Public:o,recaptchaV2Public:c,geetestCaptcha:u,hCaptchaSiteKey:d,hCaptchaPassiveSiteKey:l})}},y={fetchInit:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.prev=1,e.next=4,i();case 4:a=e.sent,a&&"object"===Object(r["a"])(a)?(a.isLoggedFromReferrer=!!a.isLoggedFromReferrer,n("setInit",a),a.isAuth||n("init/mainRequestsLoaded",!0,{root:!0})):(Object(l["c"])({error:new Error("typeof response is incorrect"),extra:{response:a}}),Object(f["a"])()),e.next=10;break;case 8:e.prev=8,e.t0=e["catch"](1);case 10:case"end":return e.stop()}}),e,null,[[1,8]])})));function t(t){return e.apply(this,arguments)}return t}(),fetchGeoInfo:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,s,i=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.state,r=t.commit,a=i.length>1&&void 0!==i[1]&&i[1],n.geoInfoCached&&!a){e.next=14;break}return e.prev=3,e.next=6,o();case 6:s=e.sent,r("setGeoInfo",s),r("setGeoInfoCached",!0),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](3),r("setGeoInfoCached",!1);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));function t(t){return e.apply(this,arguments)}return t}(),fetchReportAbuseOptions:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.prev=1,e.next=4,Object(c["a"])();case 4:r=e.sent,n("setReportAbuseOptions",r),e.next=10;break;case 8:e.prev=8,e.t0=e["catch"](1);case 10:case"end":return e.stop()}}),e,null,[[1,8]])})));function t(t){return e.apply(this,arguments)}return t}()}},8121:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return c})),n.d(t,"d",(function(){return u}));var r=n("b775"),a=function(e){var t="".concat(r["b"],"/trials/claim");return r["d"].post(t,{code:e}).then((function(e){return e.data}))},s=function(e){var t="".concat(r["b"],"/trials/check");return r["d"].post(t,{code:e,reserve:!0}).then((function(e){return e.data}))},i=function(e){var t="".concat(r["b"],"/promotions/claim");return r["d"].post(t,{code:e,strictAuthCheck:1}).then((function(e){return e.data}))},o=function(e){var t="".concat(r["b"],"/users/restore-access");return r["d"].post(t,{code:e}).then((function(e){return e.data}))},c=function(e){var t="".concat(r["b"],"/users/clicks-stats");return r["d"].post(t,e).then((function(e){return e.data}))},u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"view",n=Object(r["c"])({op:t}),a="".concat(r["b"],"/gdpr/").concat(e).concat(n);return r["d"].get(a).then((function(e){return e.data}))}},8247:function(e,t,n){e.exports=n.p+"img/default_avatar.png"},"82ab":function(e,t,n){"use strict";n.d(t,"e",(function(){return o})),n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"f",(function(){return l})),n.d(t,"b",(function(){return f}));n("8e6e"),n("ac6a"),n("456d");var r=n("bd86"),a=n("b775");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=Object(a["c"])(i({limit:10},e)),r="".concat(a["b"],"/streams/feed").concat(n);return a["d"].get(r,{cancelToken:t}).then((function(e){return e.data}))},c=function(e){var t="".concat(a["b"],"/streams/").concat(e,"/events");return a["d"].get(t).then((function(e){return e.data}))},u=function(e){var t="".concat(a["b"],"/streams/").concat(e);return a["d"].get(t).then((function(e){return e.data}))},d=function(e){var t="".concat(a["b"],"/streams/").concat(e);return a["d"].delete(t).then((function(e){return e.data}))},l=function(e){var t="".concat(a["b"],"/streams/").concat(e,"/reminder");return a["d"].post(t).then((function(e){return e.data}))},f=function(e){var t="".concat(a["b"],"/streams/").concat(e,"/reminder");return a["d"].delete(t).then((function(e){return e.data}))}},"82c1":function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return f})),n.d(t,"getters",(function(){return m})),n.d(t,"mutations",(function(){return p})),n.d(t,"actions",(function(){return h}));n("8e6e"),n("96cf");var r=n("3b8d"),a=(n("c5f6"),n("bd86")),s=(n("456d"),n("ac6a"),n("5e23")),i=n("559d"),o=n("f05e"),c=n("09e4");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=function(){return{cards:{},cardIds:[],goBackToProfile:!1,cardNeedVerify:{},alternativeMethods:[]}},f=l(),m={cards:function(e){return e.cardIds.map((function(t){return e.cards[t]}))},cardsIds:function(e){return e.cardIds},getCard:function(e){return function(t){return e.cards[t]}},goBackToProfile:function(e){return e.goBackToProfile},cardNeedVerify:function(e){return e.cardNeedVerify},alternativeMethods:function(e){return e.alternativeMethods}},p={setCardIds:function(e,t){e.cardIds=t},setCardDefault:function(e,t){Object.keys(e.cards).forEach((function(t){e.cards[t].isDefault=!1})),e.cards[t]&&(e.cards[t].isDefault=!0)},removeCard:function(e,t){e.cardIds=e.cardIds.filter((function(e){return e!==t}));var n=d({},e.cards);delete n[t],e.cards=n},setGoBackToProfile:function(e,t){e.goBackToProfile=t},setCardNeedVerify:function(e,t){e.cardNeedVerify=t},setAlternativeMethods:function(e,t){e.alternativeMethods=t},removeAlternativeMethods:function(e,t){e.alternativeMethods=e.alternativeMethods.filter((function(e){return Number(e.id)!==Number(t)}))},updateCard:function(e,t){var n=t.id,r=t.card,a=void 0===r?{}:r;n&&e.cards[n]&&(e.cards[n]=d(d({},e.cards[n]),a))},logout:function(e){Object.assign(e,l())}},h={fetchCards:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.prev=1,e.next=4,Object(o["g"])();case 4:r=e.sent,r&&Array.isArray(r)?(a=Object(s["a"])(r,i["i"]),n("set",a,{root:!0}),u=a.result,n("setCardIds",u)):Object(c["c"])({error:new Error("typeof response is incorrect"),extra:{response:r}}),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),Sentry.captureException(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));function t(t){return e.apply(this,arguments)}return t}(),setDefaultCard:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,s,i,u,d,l=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,r=t.dispatch,a=l.length>1&&void 0!==l[1]?l[1]:{},s=a.id,i=a.update,u=void 0!==i&&i,e.prev=2,e.next=5,Object(o["q"])(s);case 5:d=e.sent,d&&d.success&&(n("setCardDefault",s),u&&r("fetchCards")),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](2),Object(c["b"])(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));function t(t){return e.apply(this,arguments)}return t}(),deleteCard:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,s,i,u,d,l,f,m=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,r=t.dispatch,a=t.rootGetters,s=m.length>1&&void 0!==m[1]?m[1]:{},i=s.id,u=s.isDefault,d=void 0!==u&&u,e.prev=2,e.next=5,Object(o["d"])(i);case 5:l=e.sent,l&&l.success&&(n("removeCard",i),d&&r("fetchCards"),void 0!==l.isPaymentCardConnected&&(f=a["auth/authUser"],n("users/setUserField",{userId:f.id,field:"isPaymentCardConnected",status:l.isPaymentCardConnected},{root:!0}))),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](2),Object(c["b"])(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));function t(t){return e.apply(this,arguments)}return t}(),fetchPaymentsAlternativeMethods:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.prev=1,e.next=4,Object(o["j"])();case 4:r=e.sent,n("setAlternativeMethods",r),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),Object(c["b"])(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));function t(t){return e.apply(this,arguments)}return t}()}},8507:function(e,t,n){"use strict";n("ca15")},"878a":function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return i})),n.d(t,"getters",(function(){return o})),n.d(t,"mutations",(function(){return c})),n.d(t,"actions",(function(){return u}));n("96cf");var r=n("3b8d"),a=n("cfee"),s=function(){return{loading:!1,stores:[]}},i=s(),o={shopifyStores:function(e){return e.stores},isShopifyStoresLoading:function(e){return e.loading}},c={setShopifyStores:function(e,t){e.stores=t},setLoading:function(e,t){e.loading=t},addShopifyStore:function(e,t){e.stores.push(t)},removeShopifyStore:function(e,t){e.stores=e.stores.filter((function(e){return e.id!==t}))},logout:function(e){Object.assign(e,s())}},u={fetchShopifyStores:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,n("setLoading",!0),n("setShopifyStores",[]),e.prev=3,e.next=6,Object(a["e"])();case 6:r=e.sent,e.next=11;break;case 9:e.prev=9,e.t0=e["catch"](3);case 11:r&&n("setShopifyStores",r),n("setLoading",!1);case 13:case"end":return e.stop()}}),e,null,[[3,9]])})));function t(t){return e.apply(this,arguments)}return t}(),deleteShopifyStore:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.prev=1,e.next=4,Object(a["c"])(n);case 4:s=e.sent,e.next=9;break;case 7:e.prev=7,e.t0=e["catch"](1);case 9:s&&r("removeShopifyStore",n);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));function t(t,n){return e.apply(this,arguments)}return t}()}},8800:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("b775"),a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="".concat(r["b"],"/issues/login");return r["d"].post(t,e).then((function(e){return e.data}))}},8975:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return s}));n("a481");var r=function(e){return e?e.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">"):e},a=function(e){return e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):e},s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e?e.replace(/(<([^>]+)>)/gi,t):e}},8986:function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return c})),n.d(t,"getters",(function(){return u})),n.d(t,"mutations",(function(){return d})),n.d(t,"actions",(function(){return l}));n("96cf");var r=n("3b8d"),a=n("b775"),s=function(){var e="".concat(a["b"],"/pages/contacts");return a["d"].get(e).then((function(e){return e.data}))},i=function(e){var t=e.data,n="".concat(a["b"],"/pages/contacts");return a["d"].post(n,t).then((function(e){return e.data}))},o=function(){return{contacts:{},selectedSubject:"",contactsLoading:!1,submitting:!1}},c=o(),u={contacts:function(e){return e.contacts},contactsLoading:function(e){return e.contactsLoading},submitting:function(e){return e.submitting}},d={setContacts:function(e,t){var n=t.data;e.contacts=n},setContactsLoading:function(e,t){e.contactsLoading=t},setSubmitting:function(e,t){e.submitting=t},setSelectedSubject:function(e,t){var n=t.subject;e.selectedSubject=n},logout:function(e){Object.assign(e,o())}},l={fetchContacts:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,n("setContactsLoading",!0),e.prev=2,e.next=5,s();case 5:r=e.sent,e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](2),Sentry.captureException(e.t0),r={};case 12:return n("setContacts",{contacts:r}),n("setContactsLoading",!1),e.abrupt("return",r);case 15:case"end":return e.stop()}}),e,null,[[2,8]])})));function t(t){return e.apply(this,arguments)}return t}(),sendContacts:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,a=n.data,r("setSubmitting",!0),e.prev=3,e.next=6,i({data:a});case 6:s=e.sent,e.next=14;break;case 9:throw e.prev=9,e.t0=e["catch"](3),Sentry.captureException(e.t0),r("setSubmitting",!1),e.t0;case 14:return r("setSubmitting",!1),e.abrupt("return",s);case 16:case"end":return e.stop()}}),e,null,[[3,9]])})));function t(t,n){return e.apply(this,arguments)}return t}()}},"8b3f":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-modal",{ref:"ModalConfirm",attrs:{size:"sm","hide-header-close":"","hide-header":!e.showTitle,"modal-class":"m-confirm",lazy:"",centered:"","content-class":"m-modal-view","body-class":e.showTitle?"m-reset-body-padding-top "+e.bodyClass:""+e.bodyClass},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[n("template",{slot:"modal-header"},[e.html?n("h4",{staticClass:"modal-title",domProps:{innerHTML:e._s(e.title)}}):n("h4",{staticClass:"modal-title"},[e._v(" "+e._s(e._f("encodeHtml")(e.title))+" ")])]),e.text?[e.html?n("div",{staticClass:"dialog_message",domProps:{innerHTML:e._s(e.text)}}):n("div",{staticClass:"dialog_message"},[e._v(" "+e._s(e._f("encodeHtml")(e.text))+" ")])]:e._e(),e._t("form",null,{formProps:e.formProps}),n("template",{slot:"modal-footer"},[n("button",{staticClass:"g-btn m-transparent-bg m-uppercase",attrs:{type:"button",disabled:e.disabledBtns},on:{click:e.doCancel}},[e._v(" "+e._s(e.cancelBtn)+" ")]),n("button",{staticClass:"g-btn m-transparent-bg m-uppercase",attrs:{type:"button",disabled:e.disabledBtns||e.disabledAgreeBtn},on:{click:e.doAgree}},[e._v(" "+e._s(e.agreeBtn)+" ")])])],2)},a=[],s={name:"ModalConfirm",props:{title:{type:String,default:""},text:{type:String,required:!1,default:""},cancelBtn:{type:String,default:"Cancel"},agreeBtn:{type:String,default:"Yes"},modalShow:{type:Boolean,required:!0},disabledBtns:{type:Boolean,default:!1},disabledAgreeBtn:{type:Boolean,default:!1},closeOnAgree:{type:Boolean,default:!1},closeOnCancel:{type:Boolean,default:!1},formProps:{type:Object,default:null},html:{type:Boolean,default:!0},bodyClass:{type:String,default:""}},computed:{show:{get:function(){return this.modalShow},set:function(e){this.$emit("update:modalShow",e),e||this.$emit("on-hide")}},showTitle:function(){return!!this.title}},methods:{doAgree:function(){this.$emit("on-agree"),this.closeOnAgree&&(this.show=!1)},doCancel:function(){this.$emit("on-cancel"),this.closeOnCancel&&(this.show=!1)}}},i=s,o=n("2877"),c=Object(o["a"])(i,r,a,!1,null,null,null);t["a"]=c.exports},"8c16":function(e,t,n){"use strict";n.d(t,"d",(function(){return p})),n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return b})),n.d(t,"c",(function(){return g}));n("8e6e"),n("ac6a"),n("456d"),n("28a5");var r=n("768b"),a=(n("a481"),n("bd86")),s=(n("3b2b"),n("96cf"),n("3b8d")),i=n("2612"),o=n("93bc"),c=n("1f5a"),u=n("7bb1"),d=n("d634"),l=n("8d49");function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p={beforeCreate:function(){var e=this;this.$validator.extend("usernameValidator",{getMessage:function(e){return"".concat(e," is not available.")},validate:function(t){return new Promise(function(){var n=Object(s["a"])(regeneratorRuntime.mark((function n(r){var a,s,o,c,u,d,l;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t!==e.authUser.username){n.next=3;break}return r({valid:!0}),n.abrupt("return");case 3:if(!(t.length<5)){n.next=6;break}return r({valid:!1}),n.abrupt("return");case 6:if(t!=="".concat(e.userLoginPrefix).concat(e.authUserId)){n.next=9;break}return r({valid:!0}),n.abrupt("return");case 9:if(a=new RegExp("^".concat(e.userLoginPrefix,"\\d+$")),s=new RegExp("^id\\d+$"),o=new RegExp("^[a-z](?:[._-]{0,1}[a-z0-9]+)+$","i"),!a.test(t)&&!s.test(t)&&o.test(t)){n.next=15;break}return r({valid:!1}),n.abrupt("return");case 15:if(c=m({},e.existedUsernames),!c[t]){n.next=23;break}if(u=c[t].valid,u&&!(c[t].checkDate>=+new Date-6e5)){n.next=21;break}return r({valid:u}),n.abrupt("return");case 21:delete c[t],e.setExistedUsernames(c);case 23:return n.prev=23,n.next=26,Object(i["Db"])(t);case 26:d=n.sent,l=d.success,c[t]={valid:!l},l||(c[t].checkDate=+new Date),e.setExistedUsernames(c),r({valid:!l}),n.next=37;break;case 34:n.prev=34,n.t0=n["catch"](23),r({valid:!0});case 37:case"end":return n.stop()}}),n,null,[[23,34]])})));return function(e){return n.apply(this,arguments)}}())}},{immediate:!1})},computed:m(m(m({},Object(d["b"])(["authUser","authUserId"])),Object(d["mb"])(["existedUsernames"])),{},{usernameValidate:function(){var e=this.username!==this.authUser.username&&24;return{max:e,usernameValidator:!0}}}),methods:m({},Object(d["nb"])(["setExistedUsernames"]))},h={mounted:function(){var e=this;this.$validator.extend("confirmPassword",{getMessage:function(e){return"The ".concat(e," confirmation does not match.")},validate:function(t,n){return t===e[n[0]]}})}},b=(l["a"],{mounted:function(){var e=this;this.$validator.extend("minCardLength",{getMessage:function(t,n){return e.$t("message.card_numbed_min_length_error",{FIELD:t,COUNT:n[0]})},validate:function(e,t){return o["c"].validate(e.replace(/\s/g,""),t)}}),this.$validator.extend("maxCardLength",{getMessage:function(t,n){return e.$t("message.card_numbed_max_length_error",{FIELD:t,COUNT:n[0]})},validate:function(e,t){return o["b"].validate(e.replace(/\s/g,""),t)}})}}),g=function(e){u["c"].extend("checkPassword",{validate:function(e){var t=new RegExp(/(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,}/);return t.test(e)}}),u["c"].extend("minLength",{validate:function(e,t){var n=Object(r["a"])(t,1),a=n[0];return e.length>=a}}),u["c"].extend("urls",{validate:function(e){return!e.split(/[\s\n]/).filter((function(e){return e.length})).some((function(e){return!o["d"].validate(e)}))}}),u["c"].extend("cpfValidate",{validate:function(e){return c["a"].isValid(e)}}),u["c"].extend("onlyLatin",{validate:function(e){var t=/[^a-z\s-.']+/gi;return!t.test(e)}}),u["c"].extend("notInPastTime",{validate:function(e){var t=new Date(e).getTime(),n=(new Date).getTime();return t>n}}),u["c"].extend("notInPastDate",{validate:function(e){var t=new Date(e).toDateString(),n=(new Date).toDateString(),r=new Date(e).getTime(),a=(new Date).getTime();return r>a||t===n}}),u["c"].extend("checkCardHolderName",{validate:function(t){var n=!new RegExp(/[^a-z'`\s\-.]+|['`\s\-.]{2}|['`\s\-.]$/gi).test(t.trim()),r=e.getters["init/getInit"].cardholderStopwords;if(r&&r.length){var a=new RegExp("\\b".concat(r.join("\\b|\\b"),"\\b"),"gi");return!a.test(t)&&!o["a"].validate(t.trim())&&n}return!o["a"].validate(t.trim())&&n}}),u["c"].extend("twoWords",{validate:function(e){return e.split(" ").length>1}})}},"8ce5":function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return F})),n.d(t,"getters",(function(){return B})),n.d(t,"mutations",(function(){return N})),n.d(t,"actions",(function(){return V}));n("8e6e");var r=n("7618"),a=(n("55dd"),n("a481"),n("ee1d"),n("28a5"),n("96cf"),n("3b8d")),s=n("768b"),i=(n("ffc1"),n("6b54"),n("bd86")),o=(n("6762"),n("2fdb"),n("5df3"),n("4f7f"),n("75fc")),c=(n("386d"),n("ac6a"),n("456d"),n("7514"),n("c5f6"),n("9b02")),u=n.n(c),d=n("4245"),l=n.n(d),f=n("2593"),m=n.n(f),p=n("bfc7"),h=n.n(p),b=n("543e"),g=n.n(b),v=n("2b0e"),y=n("5e23"),w=n("56d7"),O=n("559d"),j=n("2612"),k=n("71ea"),S=n("cfee"),x=n("1cf1"),P=n("c34b"),I=n("ba6a"),C=n("09e4"),R=n("709f"),T=n("af89"),_=n("bd0a"),A=n("b775"),L=n("5a0c"),E=n.n(L);function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){Object(i["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var D=function(){return{needResetCheckOnlines:!1,deferredOnlines:[],checkOnlines:[],items:{},currentUser:null,modalUser:null,modalPost:null,modalStory:null,online:[],recommendedUsers:[],recentlyExpiredUsers:[],recommendedAuthor:null,isRecommendsFree:!1,notifications:[],notificationsType:"",notificationsCounts:{all:0,commented:0,favorited:0,subscribed:0,tip:0,message:0,purchases:0,price_changed:0},userAlert:null,userHints:[],blocked:[],restricted:[],search:[],searchAutocomplete:[],settingsPost:{currentCode:null,options:[]},subscriptionsCount:{subscriptions:{active:null,muted:null,restricted:null,expired:null,all:null,attention:null,blocked:null},subscribers:{active:null,muted:null,restricted:null,expired:null,all:null,blocked:null,activeOnline:null}},friends:{},friendsLoading:!1,links:null,userLinks:null,shopifyProducts:[],profileDataLoadingError:!1}},F=D(),B={user:function(e){return e.items[e.currentUser]||{}},userId:function(e){return e.currentUser},modalUser:function(e){return e.modalUser},modalPost:function(e){return e.modalPost},modalStory:function(e){return e.modalStory},hasUser:function(e){return!!e.currentUser},getUser:function(e){return function(t){return t&&e.items[Number(t)]||{}}},findUserByUserName:function(e){return function(t){return Object.keys(e.items).map((function(t){return e.items[t]})).find((function(e){return e.username===t}))}},getOnline:function(e){return e.online},getUserIds:function(e){return Object.keys(e.items).map(Number)},getCheckOnlinesIds:function(e){return e.checkOnlines},notifications:function(e){return e.notifications},notificationsCounts:function(e){return e.notificationsCounts},userHints:function(e){return e.userHints.filter((function(t){if(t.payload&&t.payload.user){var n=e.items[t.payload.user]||{};return"subscription_expired"!==u()(t,"payload.type")||n.canAddSubscriber&&!n.subscribedBy}return!0}))},blockedUsers:function(e){return e.blocked},restricted:function(e){return e.restricted},searchUsers:function(e){return e.search},searchAutocompleteUsers:function(e){return e.searchAutocomplete},needSkipUsers:function(e,t){return function(n){return t.getUserIds.filter((function(t){return u()(e.items[t],"view.".concat(n))+864e5>+new Date}))}},needSkipUsersNotMe:function(e,t,n){return function(e){return t.needSkipUsers(e).filter((function(e){return e!==n.auth.user}))}},friends:function(e){return e.friends},friendsLoading:function(e){return e.friendsLoading},needSkipUsersOnFeed:function(e,t){return!!t.needSkipUsersNotMe("a").length},needSkipUsersOnShort:function(e,t){return!!t.needSkipUsersNotMe("s").length},needSkipUsersOnStories:function(e,t){return!!t.needSkipUsersNotMe("st").length},needSkipUsersOnRecommends:function(e,t){return!!t.needSkipUsers("r2").length},needSkipUsersOnRecentlyExpired:function(e,t){return!!t.needSkipUsers("r2").length},needSkipUsersOnChats:function(e,t){return!!t.needSkipUsersNotMe("m").length},needSkipUsersOnLists:function(e,t){return!!t.needSkipUsersNotMe("t").length},links:function(e){return e.links},userLinks:function(e){return e.userLinks},shopifyProducts:function(e){return e.shopifyProducts}},N={setCurrentUser:function(e,t){e.currentUser=t},clearAnotherUsersItems:function(e,t){e.items=Object.keys(e.items).filter((function(e){return+e===t})).reduce((function(t,n){return t[n]=e.items[n],t}),{})},setModalUser:function(e,t){var n=t.userId,r=t.postId,a=t.storyId;e.modalUser=n,e.modalPost=r,e.modalStory=a},resetCheckOnlines:function(e){e.needResetCheckOnlines=!0},setDefferedOnlines:function(e,t){e.deferredOnlines=t},setOnline:function(e,t){e.online=Object(o["a"])(new Set([].concat(Object(o["a"])(t.map((function(e){return Number(e)}))),Object(o["a"])(e.deferredOnlines)))),Object.keys(e.items).forEach((function(t){void 0===e.items[t].isOnline&&v["default"].set(e.items[t],"isOnline",!1),e.items[t].isOnline!==e.online.includes(Number(t))&&(e.items[t].isOnline=e.online.includes(Number(t)))})),e.deferredOnlines=[]},addOnlineUser:function(e,t){e.online=[].concat(Object(o["a"])(e.online),[t])},removeOnlineUser:function(e,t){var n=e.online;e.online=n.filter((function(e){return e!==t}))},setRecommendedUsers:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e.recommendedUsers=Object(o["a"])(t)},setRecentlyExpiredUsers:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e.recentlyExpiredUsers=Object(o["a"])(t)},removeRecentlyExpiredUser:function(e,t){e.recentlyExpiredUsers=e.recentlyExpiredUsers.filter((function(e){return e!==t}))},setRecommendedAuthor:function(e,t){e.recommendedAuthor=t},setUserHiddenPosts:function(e,t){var n=t.id,r=t.status;e.items[n]&&(e.items[n].showPostsInFeed=r)},setUserFriend:function(e,t){var n=t.authUserId,r=t.id,a=t.status,s=n||e.currentUser;e.friends[s]||v["default"].set(e.friends,s,[]);var i=e.friends[s];i&&(a=a||i&&i.includes(r),a?e.friends[s]=i.filter((function(e){return r!==e})):e.friends[s].push(r)),e.items[r]&&(e.items[r].isFriend=a)},setNotificationsCountsByType:function(e,t){"all"!==e.notificationsType&&e.notificationsType!==t&&(e.notificationsCounts[t]+=1,e.notificationsCounts.all+=1)},calculateNotificationsCounts:function(e,t){var n=t.type,r=t.clear;r?Object.keys(e.notificationsCounts).forEach((function(t){"all"!==t&&(e.notificationsCounts[t]=0)})):n&&"all"!==n?(e.notificationsCounts.all-=e.notificationsCounts[n],e.notificationsCounts[n]=0):Object.keys(e.notificationsCounts).forEach((function(t){e.notificationsCounts[t]=0}))},setNotifications:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.notifications,r=t.more,a=t.unread;a?e.notificationsType!==n[0].type&&"all"!==e.notificationsType||(e.notifications=[].concat(Object(o["a"])(n),Object(o["a"])(e.notifications))):e.notifications=r?[].concat(Object(o["a"])(e.notifications),Object(o["a"])(n)):Object(o["a"])(n||[])},setNotificationsType:function(e,t){e.notificationsType=t},setChatMessagesCount:function(e,t){var n=t.userId,r=t.chatMessagesCount;e.items[n]&&(e.items[n].chatMessagesCount=r)},setChatPriorityCount:function(e,t){var n=t.userId,r=t.countPriorityChat;e.items[n]&&(e.items[n].countPriorityChat=r)},resetChatMessagesCount:function(e,t){var n=t.userId,r=t.unreadMessagesCount;e.items[n].chatMessagesCount-=r},setChatMessagesCountPushNotifications:function(e,t){var n=t.userId;e.items[n]&&e.items[n].chatMessagesCount&&(e.items[n].chatMessagesCount-=1)},setChatPriorityCountPushNotifications:function(e,t){var n=t.userId;e.items[n]&&e.items[n].countPriorityChat&&(e.items[n].countPriorityChat-=1)},setNotificationsCount:function(e,t){var n=t.userId,r=t.notificationsCount;e.items[n]&&(e.items[n].notificationsCount=r)},setUserField:function(e,t){var n=t.userId,r=t.field,a=t.status;if(e.items[n]){var s={};s[r]=a,s=Object(T["a"])(s),e.items[n]=U(U({},e.items[n]),s)}},deleteUserField:function(e,t){var n=t.userId,r=t.field,a=U({},e.items[n]);delete a[r],e.items[n]=a},setUserAlert:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e.userAlert=t},setUserHints:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e.userHints=t},deleteUserHint:function(e,t){e.userHints=e.userHints.filter((function(e){return e.id!==t&&e.code!==t}))},setBlockedUsers:function(e,t){var n=t.itemIds,r=t.more,a=void 0!==r&&r;e.blocked=a?Object(o["a"])(new Set([].concat(Object(o["a"])(e.blocked),Object(o["a"])(n)))):n},setRestricted:function(e,t){var n=t.itemIds,r=t.more,a=void 0!==r&&r;e.restricted=a?Object(o["a"])(new Set([].concat(Object(o["a"])(e.restricted),Object(o["a"])(n)))):n},setSearchUsers:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.itemIds,r=void 0===n?[]:n,a=t.more,s=void 0!==a&&a;e.search=s?Object(o["a"])(new Set([].concat(Object(o["a"])(e.search),Object(o["a"])(r)))):r},setSearchAutocompleteUsers:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e.searchAutocomplete=t},setSettingsPost:function(e,t){e.settingsPost=t},setSettingsPostCurrentCode:function(e,t){e.settingsPost.currentCode=t},setFriendsList:function(e,t){var n=t.userId,r=t.friends,a=t.more,s=void 0!==a&&a;e.friends[n]||v["default"].set(e.friends,n,[]),e.friends[n]=s?[].concat(Object(o["a"])(e.friends[n]||[]),Object(o["a"])(r)):r},setFriendsLoading:function(e,t){e.friendsLoading=t},addConnectedAccount:function(e,t){var n=t.userId,r=t.userData;e.items[n]&&r&&(void 0!==r.connectedUser&&(e.items[n].connectedOfAccounts=Object(o["a"])(new Set([].concat(Object(o["a"])(e.items[n].connectedOfAccounts),[r.connectedUser.id])))),void 0!==r.canConnectOfAccount&&(e.items[n].canConnectOfAccount=r.canConnectOfAccount),void 0!==r.cantConnectOfAccountReason&&(e.items[n].cantConnectOfAccountReason=r.cantConnectOfAccountReason))},removeConnectedAccount:function(e,t){var n=t.userId,r=t.accountId,a=t.userData;e.items[n]&&a&&(a.success&&(e.items[n].connectedOfAccounts=e.items[n].connectedOfAccounts.filter((function(e){return e!==r}))),void 0!==a.canConnectOfAccount&&(e.items[n].canConnectOfAccount=a.canConnectOfAccount),void 0!==a.cantConnectOfAccountReason&&(e.items[n].cantConnectOfAccountReason=a.cantConnectOfAccountReason))},deleteBundle:function(e,t){var n=t.userId,r=t.bundleId;e.items[n]&&(e.items[n].subscriptionBundles=e.items[n].subscriptionBundles.filter((function(e){return Number(e)!==Number(r)})))},setBundle:function(e,t){var n=t.userId,r=t.bundleId;e.items[n]&&(e.items[n].subscriptionBundles=Object(o["a"])(new Set([].concat(Object(o["a"])(e.items[n].subscriptionBundles),[r]))))},setSubscriptionsCount:function(e,t){e.subscriptionsCount=t},toggleRecommendsFree:function(e){e.isRecommendsFree=!e.isRecommendsFree},unsetUserOffer:function(e,t){var n=t.offerId,r=t.userId;e.items[r]&&e.items[r].promoOffers&&(e.items[r].promoOffers=e.items[r].promoOffers.filter((function(e){return e.id!==n})))},setUserOffers:function(e,t){var n=t.userId,r=t.offers;e.items[n]&&(e.items[n].promoOffers=r)},logout:function(e){Object.assign(e,D())},setLinks:function(e,t){e.links=null===t?[{image:{},title:"",url:"",autofocus:!0,id:Math.random().toString(36).substr(2,9)}]:t},addLinks:function(e,t){e.links.push(t)},setShopifyProducts:function(e,t){e.shopifyProducts=t},updateLinks:function(e,t){var n=t.index,r=t.value;e.links[n]=r,e.links=[].concat(e.links)},deleteLinks:function(e,t){void 0===t?e.links.splice(e.links.length-1,1):1===e.links.length?(t=0,e.links[t].url="",e.links[t].image={},e.links[t].title=""):e.links.splice(t,1)},setUserLinks:function(e,t){e.userLinks=t},resetUserLinks:function(e){e.userLinks=null},resetShopifyProducts:function(e){e.shopifyProducts=[]},updateUserCounters:function(e,t){if(e.items[e.currentUser])for(var n=0,r=Object.entries(t);n<r.length;n++){var a=Object(s["a"])(r[n],2),i=a[0],o=a[1];e.items[e.currentUser][i]=o}},setProfileDataLoadingError:function(e,t){e.profileDataLoadingError=t}},q={promotions:[],subscribedBy:null,currentSubscribePrice:null},V={fetchUser:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.next=3,Object(j["T"])(n);case 3:if(a=e.sent,!a||!a.id){e.next=9;break}return s=l()({},q,a),i=Object(y["a"])(s,O["z"]),r("set",i,{root:!0}),e.abrupt("return",s);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),fetchCurrentUser:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,a=t.dispatch,e.next=3,a("fetchUser",n);case 3:return s=e.sent,s&&s.id&&r("setCurrentUser",s.id),e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),disableTwitter:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,r=t.rootGetters,e.prev=1,e.next=4,Object(j["t"])();case 4:a=e.sent,a.success&&(s=r["auth/authUserId"],n("setUserField",{userId:s,field:"isTwitterConnected",status:!1}),n("setUserField",{userId:s,field:"twitterUsername",status:null})),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),Object(C["b"])(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));function t(t){return e.apply(this,arguments)}return t}(),patchUserMeBySection:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.commit,r=n.data,a=n.section,e.prev=2,e.next=5,Object(j["cb"])(r,a);case 5:s=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](2),Sentry.captureException(e.t0);case 11:return e.abrupt("return",s);case 12:case"end":return e.stop()}}),e,null,[[2,8]])})));function t(t,n){return e.apply(this,arguments)}return t}(),patchUser:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.commit,e.prev=1,e.next=4,Object(j["bb"])(n);case 4:r=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e["catch"](1),Sentry.captureException(e.t0),e.abrupt("return",e.t0.data);case 11:return e.abrupt("return",r);case 12:case"end":return e.stop()}}),e,null,[[1,7]])})));function t(t,n){return e.apply(this,arguments)}return t}(),changeUser:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,s,i,o,c,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,a=t.rootGetters,s=a["auth/authUser"],e.prev=2,o=["about","avatar","header","isSuggestionsOptOut","isVisibleOnline","location","name","paidFeed","recommenderReward","replyOnSubscribe","shouldReceiveLessNotifications","subscribePrice","username","website","wishlist"],c=m()(s,o),e.next=7,Object(j["d"])(U(U({},c),n));case 7:i=e.sent,i&&i.success&&(u=n.isVisibleOnline,r("setUserField",{userId:s.id,field:"isVisibleOnline",status:u}),r(1===u?"addOnlineUser":"removeOnlineUser",s.id)),e.next=15;break;case 11:return e.prev=11,e.t0=e["catch"](2),Sentry.captureException(e.t0),e.abrupt("return",e.t0.data);case 15:return e.abrupt("return",i);case 16:case"end":return e.stop()}}),e,null,[[2,11]])})));function t(t,n){return e.apply(this,arguments)}return t}(),changeUserBySection:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.commit,r=n.data,a=n.section,e.prev=2,e.next=5,Object(j["c"])(r,a);case 5:s=e.sent,e.next=12;break;case 8:return e.prev=8,e.t0=e["catch"](2),Sentry.captureException(e.t0),e.abrupt("return",e.t0.data);case 12:return e.abrupt("return",s);case 13:case"end":return e.stop()}}),e,null,[[2,8]])})));function t(t,n){return e.apply(this,arguments)}return t}(),toggleRestrictUser:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,s,i,o,c,u,d,l,f,m,p;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=t.commit,a=t.state,s=t.dispatch,e.prev=1,i=a.items[n],o=i.isRestricted,c=i.canRestrict,u=i.disabledRestrict,(c||o)&&!u){e.next=5;break}return e.abrupt("return");case 5:if(r("setUserField",{userId:n,field:"disabledRestrict",status:!0}),!o){e.next=12;break}return e.next=9,Object(x["v"])(n);case 9:e.t0=e.sent,e.next=15;break;case 12:return e.next=14,Object(x["p"])(n);case 14:e.t0=e.sent;case 15:d=e.t0,d&&d.id&&(l=Object(y["a"])(d,O["z"]),r("set",l,{root:!0}),f=o?a.restricted.filter((function(e){return e!==n})):a.restricted.concat(n),r("setRestricted",{itemIds:f}),m=a.subscriptionsCount.subscribers.restricted,null!==m&&(p=U(U({},a.subscriptionsCount),{},{subscribers:U(U({},a.subscriptionsCount.subscribers),{},{restricted:Math.max(0,o?m-=1:m+=1)})}),r("setSubscriptionsCount",p)),"Chat"!==w["default"].$route.name&&"Chats"!==w["default"].$route.name||s("chats/fetchChat",n,{root:!0})),e.next=22;break;case 19:e.prev=19,e.t1=e["catch"](1),Object(C["b"])(e.t1);case 22:r("setUserField",{userId:n,field:"disabledRestrict",status:!1});case 23:case"end":return e.stop()}}),e,null,[[1,19]])})));function t(t,n){return e.apply(this,arguments)}return t}(),toggleHiddenPosts:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=t.commit,a=t.state,s=a.items[n].showPostsInFeed,e.prev=2,!s){e.next=9;break}return e.next=6,Object(x["o"])(n);case 6:e.t0=e.sent,e.next=12;break;case 9:return e.next=11,Object(x["u"])(n);case 11:e.t0=e.sent;case 12:i=e.t0,i&&i.success&&r("setUserHiddenPosts",{id:n,status:!s}),e.next=19;break;case 16:e.prev=16,e.t1=e["catch"](2),Sentry.captureException(e.t1);case 19:case"end":return e.stop()}}),e,null,[[2,16]])})));function t(t,n){return e.apply(this,arguments)}return t}(),unFriendUser:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,a=t.rootGetters,s=a["auth/authUser"],e.prev=2,e.next=5,Object(j["zb"])(n);case 5:i=e.sent,i&&i.success&&(r("setUserFriend",{authUserId:s.id,id:n,status:!1}),r("setUserField",{userId:s.id,field:"friendsList",status:s.friendsList.filter((function(e){return n!==e}))})),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](2),Object(C["b"])(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));function t(t,n){return e.apply(this,arguments)}return t}(),fetchRecommendedUsers:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,s,i,o,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,r=t.state,a=t.getters,s=t.dispatch,e.prev=1,i=a.needSkipUsersOnRecommends?"all":void 0,e.next=5,Object(j["K"])({firstFeedPostUserId:r.recommendedAuthor,state:r.isRecommendsFree?"free":void 0,skipUsers:i});case 5:if(o=e.sent,!o||!Array.isArray(o)){e.next=19;break}if(!o.length){e.next=16;break}if(c=Object(y["a"])(o,O["y"]),!i){e.next=12;break}return e.next=12,s("getUsersIfNeeded",c);case 12:n("set",c,{root:!0}),n("setRecommendedUsers",c.result),e.next=17;break;case 16:n("setRecommendedUsers");case 17:e.next=20;break;case 19:Object(C["c"])({error:new Error("typeof response is incorrect"),extra:{response:o}});case 20:e.next=25;break;case 22:e.prev=22,e.t0=e["catch"](1),Sentry.captureException(e.t0);case 25:case"end":return e.stop()}}),e,null,[[1,22]])})));function t(t){return e.apply(this,arguments)}return t}(),fetchRecentlyExpiredUsers:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,s,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,t.state,r=t.getters,a=t.dispatch,e.prev=1,s=r.needSkipUsersOnRecentlyExpired?"all":void 0,e.next=5,Object(x["d"])({skipUsers:s});case 5:if(i=e.sent,!i||!Array.isArray(i)){e.next=19;break}if(!i.length){e.next=16;break}if(o=Object(y["a"])(i,O["y"]),!s){e.next=12;break}return e.next=12,a("getUsersIfNeeded",o);case 12:n("set",o,{root:!0}),n("setRecentlyExpiredUsers",o.result),e.next=17;break;case 16:n("setRecentlyExpiredUsers");case 17:e.next=20;break;case 19:Object(C["c"])({error:new Error("typeof response is incorrect"),extra:{response:i}});case 20:e.next=25;break;case 22:e.prev=22,e.t0=e["catch"](1),Sentry.captureException(e.t0);case 25:case"end":return e.stop()}}),e,null,[[1,22]])})));function t(t){return e.apply(this,arguments)}return t}(),fetchNotifications:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,s,i,o,c,u,d,l,f,m,p,h,b,g=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,r=t.getters,a=t.dispatch,s=g.length>1&&void 0!==g[1]?g[1]:{},i=s.limit,o=s.offset,c=s.type,u=s.related_user,d=s.more,d||n("setNotifications"),l=Object(A["f"])("fetchNotifications"),f=l.cancelToken,m=l.Cancel,p=r.needSkipUsersOnShort?"all":void 0,e.prev=5,e.next=8,Object(j["C"])({limit:i,offset:o,type:c,related_user:u,skipUsers:p,cancelToken:f});case 8:if(h=e.sent,!h||!Array.isArray(h)){e.next=20;break}if(!h.length){e.next=18;break}if(b=Object(y["a"])(h,O["g"]),!p){e.next=15;break}return e.next=15,a("getUsersIfNeeded",b);case 15:return n("set",b,{root:!0}),n("setNotifications",{notifications:h,more:d}),e.abrupt("return",h);case 18:e.next=21;break;case 20:Object(C["c"])({error:new Error("typeof response is incorrect"),extra:{response:h}});case 21:return e.abrupt("return",[]);case 24:if(e.prev=24,e.t0=e["catch"](5),!(e.t0 instanceof m)){e.next=28;break}return e.abrupt("return",null);case 28:Sentry.captureException(e.t0);case 29:return e.abrupt("return",[]);case 30:case"end":return e.stop()}}),e,null,[[5,24]])})));function t(t){return e.apply(this,arguments)}return t}(),setNotificationsAsRead:function(){return Object(j["sb"])()},createPromotion:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,s,i,o,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,a=t.rootGetters,e.prev=1,e.next=4,Object(P["a"])(n);case 4:s=e.sent,s&&s.length&&(i=a["auth/authUser"],o=i.id,c=u()(i,"promotions",[]).filter((function(e){return e.hasRelatedPromo})).length>1,r("setUserField",{userId:o,field:"promotions",status:c?s:g()(s,u()(i,"promotions",[]),(function(e,t){return e.type===t.type}))})),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),Object(C["b"])(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));function t(t,n){return e.apply(this,arguments)}return t}(),finishPromotion:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,s,i,c,u,d,l,f;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,a=t.rootGetters,s=t.rootState,e.prev=1,e.next=4,Object(P["f"])(n);case 4:i=e.sent,c=a["auth/authUser"],u=s.init.currentDate,i&&i.success&&c&&c.promotions&&c.promotions.length&&(d=c.id,l=c.promotions.find((function(e){return e.id===n})),f=c.promotions.filter((function(e){return e.hasRelatedPromo})).length>1,l&&r("setUserField",{userId:d,field:"promotions",status:f?Object(o["a"])(c.promotions.map((function(e){return U(U({},e),{},{finishedAt:u,canClaim:!1})}))):[].concat(Object(o["a"])(c.promotions.filter((function(e){return e.id!==l.id}))),[U(U({},l),{},{finishedAt:u,canClaim:!1})])})),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](1),Object(C["b"])(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));function t(t,n){return e.apply(this,arguments)}return t}(),deletePromotion:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,s,i,o,c,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,a=t.rootGetters,e.prev=1,e.next=4,Object(P["c"])(n);case 4:s=e.sent,s&&s.success&&(i=a["auth/authUser"],o=i.id,c=u()(i,"promotions",[]).filter((function(e){return e.id!==n})),d=u()(i,"promotions",[]).filter((function(e){return e.hasRelatedPromo})).length>1,r("setUserField",{userId:o,field:"promotions",status:d?[]:c})),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),Object(C["b"])(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));function t(t,n){return e.apply(this,arguments)}return t}(),fetchAlert:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.prev=1,e.next=4,Object(j["w"])();case 4:r=e.sent,r&&r.id&&n("setUserAlert",r),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),Sentry.captureException(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));function t(t){return e.apply(this,arguments)}return t}(),removeAlert:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,s,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=t.commit,a=t.state,e.prev=1,s=a.userAlert||{},i=s.isPersonal,!1!==i){e.next=9;break}return e.next=6,Object(j["n"])(n);case 6:e.t0=e.sent,e.next=12;break;case 9:return e.next=11,Object(j["l"])(n);case 11:e.t0=e.sent;case 12:o=e.t0,o&&o.success&&r("setUserAlert"),e.next=19;break;case 16:e.prev=16,e.t1=e["catch"](1),Sentry.captureException(e.t1);case 19:case"end":return e.stop()}}),e,null,[[1,16]])})));function t(t,n){return e.apply(this,arguments)}return t}(),fetchHints:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.prev=1,n("setUserHints"),e.next=5,Object(j["A"])();case 5:r=e.sent,r&&r.length&&(r=r.filter((function(e){return e.text.length})).map((function(e){if(e.text=e.text.replaceAll(/(\d\d\/\d\d\/(\d\d\d\d))/gm,(function(e,t,n){return E()(t).format(+(new Date).getFullYear()===Number(n)?"MMM D":"MMM D, YYYY")})),u()(e,"payload.user")){var t=Object(y["a"])(u()(e,"payload.user"),O["z"]);n("set",t,{root:!0}),e.payload.user=t.result}return e})),n("setUserHints",r)),e.next=11;break;case 9:e.prev=9,e.t0=e["catch"](1);case 11:case"end":return e.stop()}}),e,null,[[1,9]])})));function t(t){return e.apply(this,arguments)}return t}(),removeHint:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,s,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=t.commit,a=t.state,e.prev=1,s=a.userHints.find((function(e){return e.id===n||e.code===n}))||{},i=s.isPersonal,!1!==i){e.next=9;break}return e.next=6,Object(j["o"])(n);case 6:e.t0=e.sent,e.next=12;break;case 9:return e.next=11,Object(j["m"])(n);case 11:e.t0=e.sent;case 12:o=e.t0,o&&o.success&&r("deleteUserHint",n),e.next=19;break;case 16:e.prev=16,e.t1=e["catch"](1),Sentry.captureException(e.t1);case 19:case"end":return e.stop()}}),e,null,[[1,16]])})));function t(t,n){return e.apply(this,arguments)}return t}(),toggleBlockUser:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,s,i,c,u,d,l,f,m,p;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=t.commit,a=t.state,s=t.dispatch,i=t.rootGetters,e.prev=1,c=a.items[n].disabledBlock,!c){e.next=5;break}return e.abrupt("return");case 5:if(r("setUserField",{userId:n,field:"disabledBlock",status:!0}),u=a.items[n].isBlocked,u=!0===u,w["default"].$root.$emit("bv::hide::modal","ModalSubscribersItem"),!u){e.next=15;break}return e.next=12,Object(j["yb"])(n);case 12:e.t0=e.sent,e.next=18;break;case 15:return e.next=17,Object(j["a"])(n);case 17:e.t0=e.sent;case 18:d=e.t0,d&&d.success&&([].concat(Object(o["a"])(_["j"]),Object(o["a"])(_["k"])).includes(w["default"].$route.name)&&s("fetchSubscriptionsCount"),"SubscribesByType"!==w["default"].$route.name&&"Subscribes"!==w["default"].$route.name||(l=i["subscribes/subscribesCount"],r("subscribes/setSubscribesCount",Math.max(0,u?l+1:l-1),{root:!0})),"SubscribersByType"!==w["default"].$route.name&&"Subscribers"!==w["default"].$route.name||(f=i["subscribers/subscribersCount"],r("subscribers/setSubscribersCount",Math.max(0,u?f+1:f-1),{root:!0})),d.user?(m=Object(y["a"])(d.user,O["z"]),r("set",m,{root:!0})):s("fetchCurrentUser",n),u&&r("setBlockedUsers",{itemIds:a.blocked.filter((function(e){return e!==n}))}),p=R["a"].getItem("recentUsersSearches"),p&&R["a"].setItem("recentUsersSearches",p.split(",").filter((function(e){return Number(e)&&!Number.isNaN(Number(e))&&Number(e)!==n})).join(",")),!d.hideChat||"Chat"!==w["default"].$route.name&&"Chats"!==w["default"].$route.name||(r("chats/deleteChat",n,{root:!0}),"Chat"===w["default"].$route.name&&w["default"].$router.replace({name:"Chats"}))),e.next=25;break;case 22:e.prev=22,e.t1=e["catch"](1),Object(C["b"])(e.t1);case 25:r("setUserField",{userId:n,field:"disabledBlock",status:!1});case 26:case"end":return e.stop()}}),e,null,[[1,22]])})));function t(t,n){return e.apply(this,arguments)}return t}(),toggleHideStoryFromUser:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=t.commit,a=t.state,e.prev=1,i=a.items[n].isStoryBlockedUser,!i){e.next=9;break}return e.next=6,Object(k["u"])(n);case 6:s=e.sent,e.next=12;break;case 9:return e.next=11,Object(k["n"])(n);case 11:s=e.sent;case 12:s&&s.success&&(i=!i,r("setUserField",{userId:n,field:"isStoryBlockedUser",status:i})),e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](1),Sentry.captureException(e.t0);case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));function t(t,n){return e.apply(this,arguments)}return t}(),connectSpotify:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,s,i,o,c,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,a=t.rootGetters,s=n.accessToken,i=n.tokenExpiration,o=n.refreshToken,c=a["auth/authUser"],e.prev=3,e.next=6,Object(I["d"])({accessToken:s,tokenExpiration:i,refreshToken:o});case 6:u=e.sent,u.success&&r("setUserField",{userId:c.id,field:"isSpotifyConnected",status:!0}),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](3),Object(C["b"])(e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));function t(t,n){return e.apply(this,arguments)}return t}(),disconnectSpotify:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,r=t.rootGetters,a=r["auth/authUser"],e.prev=2,e.next=5,Object(I["e"])();case 5:s=e.sent,s.success&&n("setUserField",{userId:a.id,field:"isSpotifyConnected",status:!1}),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](2),Object(C["b"])(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));function t(t){return e.apply(this,arguments)}return t}(),fetchBlockedUsers:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,s,i,o,c,u,d,l,f,m=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,r=m.length>1&&void 0!==m[1]?m[1]:{},a=r.limit,s=r.offset,i=r.query,o=r.sort,c=r.more,u=r.field,d=r.filter,c||n("setBlockedUsers",{itemIds:[]}),e.prev=3,e.next=6,Object(j["y"])({limit:a,offset:s,query:i,sort:o,field:u,filter:d});case 6:if(l=e.sent,!l||!Array.isArray(l)){e.next=15;break}if(!l.length){e.next=13;break}return f=Object(y["a"])(l,O["y"]),n("set",f,{root:!0}),n("setBlockedUsers",{itemIds:f.result,more:c}),e.abrupt("return",l);case 13:e.next=17;break;case 15:return Object(C["c"])({error:new Error("typeof response is incorrect"),extra:{response:l}}),e.abrupt("return",[]);case 17:return e.abrupt("return",[]);case 20:return e.prev=20,e.t0=e["catch"](3),Sentry.captureException(e.t0),e.abrupt("return",[]);case 24:case"end":return e.stop()}}),e,null,[[3,20]])})));function t(t){return e.apply(this,arguments)}return t}(),fetchSearchUsers:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,s,i,o,c,u,d,l,f=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.commit,r=f.length>1&&void 0!==f[1]?f[1]:{},a=r.limit,s=r.offset,i=r.query,o=r.more,c=r.allUsers,u=r.view,o||n("setSearchUsers"),i){e.next=5;break}return e.abrupt("return",[]);case 5:return e.prev=5,e.next=8,Object(j["N"])({limit:a,offset:s,query:i,allUsers:c,view:u});case 8:if(d=e.sent,!d||!Array.isArray(d)){e.next=12;break}return d.length&&(l=Object(y["a"])(d,O["y"]),n("set",l,{root:!0}),n("setSearchUsers",{itemIds:l.result,more:o})),e.abrupt("return",d);case 12:return Object(C["c"])({error:new Error("typeof response is incorrect"),extra:{response:d}}),e.abrupt("return",[]);case 16:return e.prev=16,e.t0=e["catch"](5),Sentry.captureException(e.t0),e.abrupt("return",[]);case 20:case"end":return e.stop()}}),e,null,[[5,16]])})));function t(t){return e.apply(this,arguments)}return t}(),fetchSearchAutocomplete:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,s,i,o,c,u,d,l=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.commit,r=l.length>1&&void 0!==l[1]?l[1]:{},a=r.limit,s=r.offset,i=r.query,o=r.allUsers,c=r.view,i){e.next=5;break}return n("setSearchAutocompleteUsers"),e.abrupt("return",[]);case 5:return e.prev=5,e.next=8,Object(j["N"])({limit:a,offset:s,query:i,allUsers:o,view:c});case 8:if(u=e.sent,!u||!Array.isArray(u)){e.next=12;break}return u.length?(d=Object(y["a"])(u,O["y"]),n("set",d,{root:!0}),n("setSearchAutocompleteUsers",u)):n("setSearchAutocompleteUsers"),e.abrupt("return",u);case 12:return Object(C["c"])({error:new Error("typeof response is incorrect"),extra:{response:u}}),e.abrupt("return",[]);case 16:return e.prev=16,e.t0=e["catch"](5),Sentry.captureException(e.t0),e.abrupt("return",[]);case 20:case"end":return e.stop()}}),e,null,[[5,16]])})));function t(t){return e.apply(this,arguments)}return t}(),fetchSettingsPost:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.prev=1,e.next=4,Object(j["O"])();case 4:r=e.sent,a=r.options.filter((function(e){return 0!==e.code})),r=Object.assign({},r,{options:a}),n("setSettingsPost",r),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](1),Sentry.captureException(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));function t(t){return e.apply(this,arguments)}return t}(),sendSettingsPost:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.prev=1,e.next=4,Object(j["tb"])(n);case 4:a=e.sent,a&&a.success&&r("setSettingsPostCurrentCode",n),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),Sentry.captureException(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));function t(t,n){return e.apply(this,arguments)}return t}(),fetchFriendsList:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,s,i,o,c,u,d,l=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,r=l.length>1&&void 0!==l[1]?l[1]:{},a=r.userId,s=r.limit,i=r.offset,o=r.more,c=void 0!==o&&o,e.prev=2,n("setFriendsLoading",!0),e.next=6,Object(j["z"])({userId:a,limit:s,offset:i});case 6:if(u=e.sent,!u||!Array.isArray(u)){e.next=11;break}return u.length&&(d=Object(y["a"])(u,O["y"]),n("set",d,{root:!0}),n("setFriendsList",{userId:a,friends:d.result,more:c})),n("setFriendsLoading",!1),e.abrupt("return",u);case 11:return Object(C["c"])({error:new Error("typeof response is incorrect"),extra:{response:u}}),n("setFriendsLoading",!1),e.abrupt("return",[]);case 16:return e.prev=16,e.t0=e["catch"](2),n("setFriendsLoading",!1),Sentry.captureException(e.t0),e.abrupt("return",[]);case 21:case"end":return e.stop()}}),e,null,[[2,16]])})));function t(t){return e.apply(this,arguments)}return t}(),saveSubscriberCustomData:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,s,i,o,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,a=n.id,s=n.data,i=void 0===s?{}:s,e.prev=2,e.next=5,Object(x["r"])(a,i);case 5:return o=e.sent,o&&o.id&&(c=Object(y["a"])(o,O["z"]),r("set",c,{root:!0})),e.abrupt("return",!0);case 10:return e.prev=10,e.t0=e["catch"](2),Object(C["b"])(e.t0),e.abrupt("return",!1);case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));function t(t,n){return e.apply(this,arguments)}return t}(),fetchSubscriptionsCount:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,a,s,i,o,c,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,a=t.rootGetters,e.prev=1,e.next=4,Object(x["m"])();case 4:s=e.sent,s&&"object"===Object(r["a"])(s)?(i=a["auth/authUserId"],o=a["auth/authUser"],n("setSubscriptionsCount",s),c=u()(s,"subscribers.active"),d=u()(s,"subscriptions.active"),void 0!==c&&null!==c&&c!==o.subscribersCount&&n("setUserField",{userId:i,field:"subscribersCount",status:c}),void 0!==d&&null!==d&&d!==o.subscribesCount&&n("setUserField",{userId:i,field:"subscribesCount",status:d})):Object(C["c"])({error:new Error("typeof response is incorrect"),extra:{response:s}}),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),Sentry.captureException(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));function t(t){return e.apply(this,arguments)}return t}(),getUsersIfNeeded:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,s,o,c,d,l,f;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=t.dispatch,s=t.state,!n.entities||!n.entities.users){e.next=11;break}if(o=U({},n.entities.users),c=Object.keys(o).map(Number),d={},l=+new Date,c.forEach((function(e){var t=o[e]._views;t&&t.length&&t.forEach((function(t){"a"===t&&u()(s.items[e],"view.f",0)+864e5>=l||u()(s.items[e],"view[".concat(t,"]"),0)+864e5<l&&(d[t]=h()(d[t]||[],[e]))})),delete n.entities.users[e]._views,delete n.entities.users[e]._view})),!Object.keys(d).length){e.next=11;break}return f=Object.keys(d).map(function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=[];while(d[t].length)n.push(r("getUsersByIds",Object(i["a"])({},t,d[t].splice(0,10))));return e.next=4,Promise.all(n);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=11,Promise.all(f);case 11:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),getUsersByIds:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.prev=1,e.next=4,Object(j["X"])(n);case 4:if(a=e.sent,!a||!Object.keys(a).length){e.next=9;break}return s=Object(y["a"])(a,O["y"]),r("set",s,{root:!0}),e.abrupt("return",s.result);case 9:return e.abrupt("return",[]);case 12:return e.prev=12,e.t0=e["catch"](1),e.abrupt("return",[]);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));function t(t,n){return e.apply(this,arguments)}return t}(),fetchLinks:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.prev=1,e.next=4,Object(j["B"])();case 4:r=e.sent,r.length?n("setLinks",r.map((function(e){return U(U({},e),{},{id:Math.random().toString(36).substr(2,9)})}))):n("setLinks",null),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),Sentry.captureException(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));function t(t){return e.apply(this,arguments)}return t}(),postLinks:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,r=t.state,e.prev=1,e.next=4,Object(j["db"])({links:r.links.map((function(e){return e.url}))});case 4:a=e.sent,n("setLinks",a.map((function(e){return U(U({},e),{},{id:Math.random().toString(36).substr(2,9)})}))),e.next=12;break;case 8:return e.prev=8,e.t0=e["catch"](1),Sentry.captureException(e.t0),e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));function t(t){return e.apply(this,arguments)}return t}(),fetchUserLinks:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.prev=1,e.next=4,Object(j["U"])(n);case 4:a=e.sent,r("setUserLinks",a),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),Sentry.captureException(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));function t(t,n){return e.apply(this,arguments)}return t}(),addConnectedAccount:function(e,t){var n=e.commit,r=e.state,a=e.rootState,s=t.userData;if(r.items[a.auth.user]&&s&&void 0!==s.connectedUser&&!r.items[a.auth.user].connectedOfAccounts.find((function(e){return e===s.connectedUser.id}))){var i=Object(y["a"])(s.connectedUser,O["z"]);n("set",i,{root:!0}),n("addConnectedAccount",{userId:a.auth.user,userData:s})}},fetchRestricted:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,a,s,i,o,c,u,d,l,f,m,p=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,a=p.length>1&&void 0!==p[1]?p[1]:{},s=a.limit,i=a.offset,o=a.query,c=a.sort,u=a.more,d=a.field,l=a.filter,u||n("setRestricted",{itemIds:[]}),e.prev=3,e.next=6,Object(j["L"])({limit:s,offset:i,query:o,sort:c,field:d,filter:l});case 6:if(f=e.sent,!f||"object"!==Object(r["a"])(f)){e.next=15;break}if(!f.list||!f.list.length){e.next=13;break}return m=Object(y["a"])(f.list,O["y"]),n("set",m,{root:!0}),n("setRestricted",{itemIds:m.result,more:u}),e.abrupt("return",f);case 13:e.next=17;break;case 15:return Object(C["c"])({error:new Error("typeof response is incorrect"),extra:{response:f}}),e.abrupt("return",{});case 17:return e.abrupt("return",{});case 20:return e.prev=20,e.t0=e["catch"](3),Sentry.captureException(e.t0),e.abrupt("return",{});case 24:case"end":return e.stop()}}),e,null,[[3,20]])})));function t(t){return e.apply(this,arguments)}return t}(),fetchShopifyProducts:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.prev=1,e.next=4,Object(S["d"])(n);case 4:a=e.sent,r("setShopifyProducts",a),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),Sentry.captureException(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));function t(t,n){return e.apply(this,arguments)}return t}()}},"8d49":function(e,t,n){"use strict";t["a"]={methods:{luhnCheck:function(e){if(!e)return!1;for(var t=0,n=0,r=!1,a=e.length-1;a>=0;a-=1){var s=e.charAt(a);n=parseInt(s,10),r&&(n*=2)>9&&(n-=9),t+=n,r=!r}return t%10===0}}}},"8f95":function(e,t,n){"use strict";function r(){var e={};return e.promise=new Promise((function(t,n){e.resolve=t,e.reject=n})),e}n.d(t,"a",(function(){return r}))},"8ff6":function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return p})),n.d(t,"getters",(function(){return h})),n.d(t,"mutations",(function(){return b})),n.d(t,"actions",(function(){return g}));n("8e6e"),n("96cf");var r=n("3b8d"),a=n("bd86"),s=(n("456d"),n("ac6a"),n("7514"),n("9b02")),i=n.n(s),o=n("6fa6"),c=n("f05e"),u=n("34b7"),d=n("09e4");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=function(){return{payoutsBank:{},payoutsStripe:{stripe_legal:{}},disableSubmit:!1,paymentErrors:"",payoutsAccount:{},loading:!1}},p=m(),h={payoutsBank:function(e){return e.payoutsBank},payoutsStripe:function(e){return e.payoutsStripe},payoutsAccount:function(e){return e.payoutsAccount},getBankingState:function(e){return function(t){return void 0!==e[t]?e[t]:""}},getLoading:function(e){return e.loading}},b={setBankingState:function(e,t){var n=t.field,r=t.value;void 0!==e[n]&&(e[n]=r)},setPayoutsBank:function(e,t){var n=t.payoutCode,r=t.payouts.find((function(e){return e.code===n}));r&&r.fields&&Object.keys(r.fields).forEach((function(e){var t=r.fields[e],n=t.value,a=t.type;n||(r.fields[e].value=""),"checkbox"===a&&(r.fields[e].value=!!r.fields[e].value)})),e.payoutsBank=t},setPayoutsStripe:function(e,t){e.payoutsStripe=f(f({},e.payoutsStripe),t)},setPayoutsStripeSections:function(e,t){e.payoutsStripe=f(f({},e.payoutsStripe),t)},clearPayoutsStripe:function(e){e.payoutsStripe={stripe_legal:{}}},clearPayoutsStripeLegal:function(e){e.payoutsStripe.stripe_legal={}},setPayoutsAccount:function(e,t){e.payoutsAccount=t},changePayoutFieldValue:function(e,t){var n=t.code,r=t.field,a=t.value,s=t.stripe,i=void 0!==s&&s;(n||r)&&(i?e.payoutsStripe[n].fields[r].value=a:e.payoutsBank.payouts.find((function(e){return e.code===n})).fields[r].value=a)},setStripeStates:function(e,t){i()(e,"payoutsStripe.stripe_legal.fields.legal_address_state.values")&&(e.payoutsStripe.stripe_legal.fields.legal_address_state.values=t)},setLoading:function(e,t){e.loading=t},logout:function(e){Object.assign(e,m())}},g={fetchPayoutsBank:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,s,i,c=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.commit,r=c.length>1&&void 0!==c[1]?c[1]:{},a=r.other,s=void 0!==a&&a,e.prev=2,s){e.next=9;break}return e.next=6,Object(o["d"])();case 6:i=e.sent,e.next=12;break;case 9:return e.next=11,Object(o["f"])();case 11:i=e.sent;case 12:e.next=17;break;case 14:throw e.prev=14,e.t0=e["catch"](2),e.t0;case 17:i&&n("setPayoutsBank",i);case 18:case"end":return e.stop()}}),e,null,[[2,14]])})));function t(t){return e.apply(this,arguments)}return t}(),sendPayoutsBank:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.prev=1,e.next=4,Object(o["p"])(n);case 4:a=e.sent,e.next=10;break;case 7:throw e.prev=7,e.t0=e["catch"](1),e.t0;case 10:a&&r("setPayoutsBank",a);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));function t(t,n){return e.apply(this,arguments)}return t}(),removePayoutsBank:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.dispatch,e.prev=1,e.next=4,Object(o["n"])();case 4:r=e.sent,r&&r.success&&n("fetchPayoutsBank"),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),Object(d["b"])(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));function t(t){return e.apply(this,arguments)}return t}(),fetchPayoutsAccount:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.prev=1,e.next=4,Object(o["c"])();case 4:r=e.sent,e.next=9;break;case 7:e.prev=7,e.t0=e["catch"](1);case 9:r&&n("setPayoutsAccount",r);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));function t(t){return e.apply(this,arguments)}return t}(),fetchPayoutsStripe:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,t.state,n("setLoading",!0),e.prev=2,e.next=5,Object(o["g"])();case 5:r=e.sent,e.next=11;break;case 8:throw e.prev=8,e.t0=e["catch"](2),e.t0;case 11:r&&(n("setPayoutsStripe",r),n("setLoading",!1));case 12:case"end":return e.stop()}}),e,null,[[2,8]])})));function t(t){return e.apply(this,arguments)}return t}(),fetchStripeStates:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,r=t.state,e.prev=1,e.next=4,Object(u["j"])(r.payoutsAccount.id);case 4:a=e.sent,n("setStripeStates",a),e.next=10;break;case 8:e.prev=8,e.t0=e["catch"](1);case 10:case"end":return e.stop()}}),e,null,[[1,8]])})));function t(t){return e.apply(this,arguments)}return t}(),fetchPayoutsStripeLegal:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,r=t.dispatch,e.prev=1,e.next=4,Object(o["i"])();case 4:a=e.sent,e.next=9;break;case 7:e.prev=7,e.t0=e["catch"](1);case 9:a&&(i()(a,"stripe_legal.fields.legal_address_state")&&r("fetchStripeStates"),n("setPayoutsStripeSections",a));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));function t(t){return e.apply(this,arguments)}return t}(),sendPayoutsStripeLegal:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,a=t.dispatch,e.prev=1,e.next=4,Object(o["s"])(n);case 4:s=e.sent,e.next=10;break;case 7:throw e.prev=7,e.t0=e["catch"](1),e.t0;case 10:return s&&(i()(s,"stripe_legal.fields.legal_address_state")&&a("fetchStripeStates"),r("setPayoutsStripeSections",s)),e.abrupt("return",s);case 12:case"end":return e.stop()}}),e,null,[[1,7]])})));function t(t,n){return e.apply(this,arguments)}return t}(),fetchPayoutsStripeAccount:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,s,i,c=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,r=c.length>1&&void 0!==c[1]?c[1]:{},a=r.edit,s=void 0!==a&&a,e.prev=2,e.next=5,Object(o["h"])(s);case 5:i=e.sent,e.next=10;break;case 8:e.prev=8,e.t0=e["catch"](2);case 10:i&&n("setPayoutsStripeSections",i);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));function t(t){return e.apply(this,arguments)}return t}(),sendPayoutsStripeAccount:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.prev=1,e.next=4,Object(o["r"])(n);case 4:a=e.sent,e.next=10;break;case 7:throw e.prev=7,e.t0=e["catch"](1),e.t0;case 10:a&&r("setPayoutsStripeSections",a);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));function t(t,n){return e.apply(this,arguments)}return t}(),fetchPaymentsAlternativeMethodsForm:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.prev=1,e.next=4,Object(c["k"])(n);case 4:a=e.sent,e.next=10;break;case 7:throw e.prev=7,e.t0=e["catch"](1),e.t0;case 10:a&&(a.code="alternative",s={payouts:[]},s.payoutCode="alternative",s.payouts.push(a),r("setPayoutsBank",s));case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));function t(t,n){return e.apply(this,arguments)}return t}(),sendPaymentsAlternativeMethodsForm:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.commit,e.prev=1,e.next=4,Object(c["m"])(n);case 4:return e.abrupt("return",e.sent);case 7:throw e.prev=7,e.t0=e["catch"](1),e.t0;case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));function t(t,n){return e.apply(this,arguments)}return t}()}},"925c":function(e,t,n){"use strict";n("8e6e"),n("6762"),n("2fdb"),n("a481"),n("ee1d"),n("c5f6"),n("7514"),n("ac6a"),n("456d");var r=n("bd86"),a=n("8247"),s=n.n(a),i=n("964f"),o=n.n(i),c=n("0591"),u=n.n(c),d=n("d634");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t["a"]={computed:f(f(f({},Object(d["mb"])(["isDarkMode"])),Object(d["y"])(["getInit"])),{},{thumbSrc:function(){var e=this.src,t=this.avatarThumbs,n=this.size,r=this.type;return this.thumbSrcLink(e,t,n,r)}}),methods:{srcByType:function(e){switch(e){case"avatar":return s.a;case"header":return this.isDarkMode?u.a:o.a;default:return s.a}},thumbSrcLink:function(e,t,n,r){if(t&&Object.keys(t).length&&n){if(t[n])return t[n];if("header"===r){var a=Object.keys(t).find((function(e){return Number(e.substring(1))>Number(n.substring(1))}));if(a)return t[a]}var s=Number.isNaN(Number(n))?n.substring(1):Number(n);if(s<=50&&t.c50)return t.c50;if(s<=150&&t.c144)return t.c144}return e?(e.indexOf("/theme/onlyfans/images/default_avatar.png")>-1||(-1!==e.indexOf("/theme/onlyfans/images/default_header_image.png")&&this.isDarkMode&&(e=e.replace("default_header_image.png","default_header_image_dark.png")),-1===e.indexOf("/theme/onlyfans/images/default_header_image_dark.png")||this.isDarkMode||(e=e.replace("default_header_image_dark.png","default_header_image.png"))),e):this.srcByType(r)},thumbsSrcSet:function(e,t,n){return e&&t&&n&&Object.keys(n).length&&this.$mq.includes("sm")?"".concat(Object.keys(n).map((function(e){return"".concat(n[e]," ").concat(e.substr(1),"w")})).join(),", ").concat(e," ").concat(t.width,"w"):null},thumbsSizes:function(e){return e&&this.$mq.includes("sm")?"(max-width: ".concat(e.width,"px), 100vw"):null}}}},9587:function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return u})),n.d(t,"getters",(function(){return d})),n.d(t,"mutations",(function(){return l})),n.d(t,"actions",(function(){return f}));var r=n("6ee6"),a=(n("96cf"),n("3b8d")),s=(n("ac6a"),n("5df3"),n("4f7f"),n("75fc")),i=n("a1c3"),o=n("f05e"),c=function(){return{balances:{},stripeBalances:{},earnings:[],payments:[],disputes:[],payoutRequests:[],documentsVat:[],stripeData:{currentStep:0,lastPayoutId:null,hasMore:!0},payoutStatistics:{},earningsLoading:!1,paymentsLoading:!1,payoutRequestsLoading:!1,documentsVatLoading:!1,payoutStatisticsLoading:!1,disputesMarker:void 0}},u=c(),d={balances:function(e){return e.balances},stripeBalances:function(e){return e.stripeBalances},earnings:function(e){return e.earnings},payments:function(e){return e.payments},payoutRequests:function(e){return e.payoutRequests},documentsVat:function(e){return e.documentsVat},stripeData:function(e){return e.stripeData},payoutStatistics:function(e){return e.payoutStatistics},earningsLoading:function(e){return e.earningsLoading},paymentsLoading:function(e){return e.paymentsLoading},payoutRequestsLoading:function(e){return e.payoutRequestsLoading},documentsVatLoading:function(e){return e.documentsVatLoading},payoutStatisticsLoading:function(e){return e.payoutStatisticsLoading},disputes:function(e){return e.disputes}},l={setEarningsLoading:function(e,t){e.earningsLoading=t},setPaymentsLoading:function(e,t){e.paymentsLoading=t},setPayoutRequestsLoading:function(e,t){e.payoutRequestsLoading=t},setDocumentsVatLoading:function(e,t){e.documentsVatLoading=t},setPayoutStatisticsLoading:function(e,t){e.payoutStatisticsLoading=t},setBalances:function(e,t){var n=t.balances,r=t.isStripe;r?e.stripeBalances=n:e.balances=n},setEarnings:function(e,t){var n=t.items,r=t.more;e.earnings=r?[].concat(Object(s["a"])(e.earnings),Object(s["a"])(n)):Object(s["a"])(n)},setPayments:function(e,t){var n=t.items,r=t.more;e.payments=r?[].concat(Object(s["a"])(e.payments),Object(s["a"])(n)):Object(s["a"])(n)},setPayoutRequests:function(e,t){var n=t.items,r=t.more;e.payoutRequests=r?[].concat(Object(s["a"])(e.payoutRequests),Object(s["a"])(n)):Object(s["a"])(n)},setDocumentsVat:function(e,t){var n=t.items,r=t.more;e.documentsVat=r?[].concat(Object(s["a"])(e.documentsVat),Object(s["a"])(n)):Object(s["a"])(n)},setStripeData:function(e,t){var n=t.lastPayoutId,r=t.hasMore,a=t.currentStep;e.stripeData.lastPayoutId=n,e.stripeData.hasMore=r,void 0!==a&&(e.stripeData.currentStep=a)},setPayoutStatistics:function(e,t){e.payoutStatistics=t},setDisputes:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.items,r=void 0===n?[]:n,a=t.more,i=void 0!==a&&a;e.disputes=i?Object(s["a"])(new Set([].concat(Object(s["a"])(e.disputes),Object(s["a"])(r)))):r},setDisputesMarker:function(e,t){e.disputesMarker=t},logout:function(e){Object.assign(e,c())}},f={fetchBalances:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,s,o,c=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,r=c.length>1&&void 0!==c[1]?c[1]:{},a=r.isStripe,s=void 0!==a&&a,e.prev=2,e.next=5,Object(i["f"])(s);case 5:o=e.sent,e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](2),Sentry.captureException(e.t0),o={};case 12:return n("setBalances",{balances:o,isStripe:s}),e.abrupt("return",o);case 14:case"end":return e.stop()}}),e,null,[[2,8]])})));function t(t){return e.apply(this,arguments)}return t}(),fetchEarnings:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,s,o,c,u,d=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.commit,r=d.length>1&&void 0!==d[1]?d[1]:{},a=r.limit,s=r.offset,o=r.more,c=[],n("setEarningsLoading",!0),o||n("setEarnings",{items:c,more:o}),e.prev=5,s%a!==0){e.next=11;break}return e.next=9,Object(i["k"])({limit:a,offset:s});case 9:u=e.sent,c=u.list;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](5),Sentry.captureException(e.t0);case 16:return n("setEarnings",{items:c,more:o}),n("setEarningsLoading",!1),e.abrupt("return",c);case 19:case"end":return e.stop()}}),e,null,[[5,13]])})));function t(t){return e.apply(this,arguments)}return t}(),fetchPayments:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,s,i,c,u,d=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.commit,r=d.length>1&&void 0!==d[1]?d[1]:{},a=r.limit,s=r.offset,i=r.more,c=[],n("setPaymentsLoading",!0),i||n("setPayments",{items:c,more:i}),e.prev=5,s%a!==0){e.next=11;break}return e.next=9,Object(o["h"])({limit:a,offset:s});case 9:u=e.sent,c=u.list;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](5),Sentry.captureException(e.t0);case 16:return n("setPayments",{items:c,more:i}),n("setPaymentsLoading",!1),e.abrupt("return",c);case 19:case"end":return e.stop()}}),e,null,[[5,13]])})));function t(t){return e.apply(this,arguments)}return t}(),fetchPayoutRequests:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,s,o,c,u,d=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.commit,r=d.length>1&&void 0!==d[1]?d[1]:{},a=r.limit,s=r.offset,o=r.more,c=[],n("setPayoutRequestsLoading",!0),o||n("setPayoutRequests",{items:c,more:o}),e.prev=5,s%a!==0){e.next=11;break}return e.next=9,Object(i["h"])({limit:a,offset:s});case 9:u=e.sent,c=u.list;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](5),Sentry.captureException(e.t0);case 16:return n("setPayoutRequests",{items:c,more:o}),n("setPayoutRequestsLoading",!1),e.abrupt("return",c);case 19:case"end":return e.stop()}}),e,null,[[5,13]])})));function t(t){return e.apply(this,arguments)}return t}(),fetchPayoutRequestsStripe:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,s,o,c,u,d,l,f,m,p,h,b=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.state,r=t.commit,a=b.length>1&&void 0!==b[1]?b[1]:{},s=a.limit,o=a.more,c=[],r("setPayoutRequestsLoading",!0),o||(r("setPayoutRequests",{items:c,more:o}),r("setStripeData",{lastPayoutId:null,hasMore:!0,currentStep:0})),!n.stripeData.hasMore){e.next=18;break}return e.prev=6,e.next=9,Object(i["i"])({limit:s,currentStep:n.stripeData.currentStep,lastPayoutId:n.stripeData.lastPayoutId});case 9:u=e.sent,c=u.list,d=u.lastPayoutId,l=void 0===d?null:d,f=u.hasMore,m=void 0!==f&&f,p=u.currentStep,h=void 0===p?0:p,r("setStripeData",{lastPayoutId:l,hasMore:m,currentStep:h}),e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](6),Sentry.captureException(e.t0);case 18:return r("setPayoutRequests",{items:c,more:o}),r("setPayoutRequestsLoading",!1),e.abrupt("return",c);case 21:case"end":return e.stop()}}),e,null,[[6,15]])})));function t(t){return e.apply(this,arguments)}return t}(),fetchPayoutStatistics:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,s,o,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,a=n.start,s=n.end,r("setPayoutStatisticsLoading",!0),e.prev=3,e.next=6,Object(i["j"])(a,s);case 6:c=e.sent,o=c.list,e.next=14;break;case 10:e.prev=10,e.t0=e["catch"](3),Sentry.captureException(e.t0),o={};case 14:return r("setPayoutStatistics",o),r("setPayoutStatisticsLoading",!1),e.abrupt("return",o);case 17:case"end":return e.stop()}}),e,null,[[3,10]])})));function t(t,n){return e.apply(this,arguments)}return t}(),updateWithdrawalPeriod:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,s,o,c,u,d,l,f=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,r=t.rootGetters,a=f.length>1&&void 0!==f[1]?f[1]:{},s=a.withdrawalPeriod,o=a.isStripe,c=void 0!==o&&o,e.prev=2,e.next=5,Object(i["p"])({withdrawalPeriod:s,isStripe:c});case 5:u=e.sent,u.success&&(d=r["auth/authUserId"],l=c?"withdrawalStripePeriod":"withdrawalPeriod",n("users/setUserField",{userId:d,field:l,status:s},{root:!0})),e.next=12;break;case 9:throw e.prev=9,e.t0=e["catch"](2),e.t0;case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));function t(t){return e.apply(this,arguments)}return t}(),sendPayoutRequest:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Object(r["a"])(t),e.prev=1,e.next=4,Object(i["q"])(n);case 4:return e.abrupt("return",e.sent);case 7:throw e.prev=7,e.t0=e["catch"](1),e.t0;case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));function t(t,n){return e.apply(this,arguments)}return t}(),fetchPayoutDisputes:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,s,o,c,u=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,r=t.state,a=u.length>1&&void 0!==u[1]?u[1]:{},s=a.limit,o=a.more,e.prev=2,o||(n("setDisputes"),n("setDisputesMarker")),e.next=6,Object(i["g"])({limit:s,offset:r.disputes.length,marker:r.disputesMarker});case 6:if(c=e.sent,!(c&&c.list&&c.list.length)){e.next=11;break}return n("setDisputesMarker",c.marker),n("setDisputes",{items:c.list,more:o}),e.abrupt("return",c.list);case 11:return e.abrupt("return",[]);case 14:return e.prev=14,e.t0=e["catch"](2),e.abrupt("return",[]);case 17:case"end":return e.stop()}}),e,null,[[2,14]])})));function t(t){return e.apply(this,arguments)}return t}(),fetchPayoutsReceive:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,r=t.rootGetters,a=r["auth/authUserId"],e.prev=2,e.next=5,Object(i["l"])();case 5:s=e.sent,e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](2),Sentry.captureException(e.t0),s={};case 12:return"undefined"!==typeof s.canReceiveManualPayout&&n("users/setUserField",{userId:a,field:"canReceiveManualPayout",status:s.canReceiveManualPayout},{root:!0}),"undefined"!==typeof s.isVerifiedReason&&n("users/setUserField",{userId:a,field:"isVerifiedReason",status:s.isVerifiedReason},{root:!0}),e.abrupt("return",s);case 15:case"end":return e.stop()}}),e,null,[[2,8]])})));function t(t){return e.apply(this,arguments)}return t}(),fetchDocumentsVat:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,s,o,c,u,d=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.commit,r=d.length>1&&void 0!==d[1]?d[1]:{},a=r.limit,s=r.offset,o=r.more,c=[],n("setDocumentsVatLoading",!0),o||n("setDocumentsVat",{items:c,more:o}),e.prev=5,s%a!==0){e.next=11;break}return e.next=9,Object(i["e"])({limit:a,offset:s});case 9:u=e.sent,c=u.list;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](5),Sentry.captureException(e.t0);case 16:return n("setDocumentsVat",{items:c,more:o}),n("setDocumentsVatLoading",!1),e.abrupt("return",c);case 19:case"end":return e.stop()}}),e,null,[[5,13]])})));function t(t){return e.apply(this,arguments)}return t}()}},"964f":function(e,t,n){e.exports=n.p+"img/default_header_image.png"},9798:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return p}));var r=n("75fc"),a=n("7618"),s=n("9b02"),i=n.n(s),o=n("9029"),c=function(){var e=i()(window,"navigator.connection");if(!e||"object"!==Object(a["a"])(e))return{canUse:!1,isMobile:o["isMobile"]};var t={canUse:!0,isMobile:o["isMobile"],good:!0};return e.downlinkMax&&e.downlinkMax>=1.5||e.downlink&&e.downlink>=1.5||"4g"===e.effectiveType||"wifi"===e.type?t:{canUse:!0,good:!1,isMobile:o["isMobile"]}},u=function(e){return new Date(e).getTime()/1e3},d=function(e,t,n,r){var a=c(),s=a.canUse,i=a.isMobile,o=a.good,u=window.innerHeight;return"photo"===e?u<=r?n:t:s?o?t:n:i?n:t},l=function(e){var t=i()(e,"[0].type","photo"),n=i()(e,"[0].files.source.url",""),r=i()(e,"[0].files.source.sources.720")||n,a=i()(e,"[0].files.preview.url")||n,s=i()(e,"[0].files.preview.height",0),o="photo"===t?a:r;return d(t,n,o,s)},f=function(e){var t=window.innerWidth,n=window.innerHeight,r=i()(e,"0.files.source.width"),a=i()(e,"0.files.source.height"),s=r/a,o=150,c=o/s,u=t/o,d=n/c,l=o*d,f=c*u;return l<=t?{bgPreviewWidth:l,bgPreviewHeight:n,originalMediaWidth:r,originalMediaHeight:a}:{bgPreviewWidth:t,bgPreviewHeight:f,originalMediaWidth:r,originalMediaHeight:a}},m=function(e){var t=e.stories,n=e.user,a=void 0===n?{}:n,s=a.id,o=a.avatarThumbs,c=a.username,d=a.name,m=t.filter((function(e){return e.media})),p=m.reduce((function(e,t){var n=t.media.map((function(e){var n=e.files,r=e.type,a=i()(n,"source.duration",0),o=l([e]),d=a<5?5:a,m=i()(e,"files.preview.sources.w150",""),p=f([e]),h=p.bgPreviewWidth,b=p.bgPreviewHeight,g=p.originalMediaWidth,v=p.originalMediaHeight;return{id:t.id,canLike:t.canLike,isLiked:t.isLiked,type:"gif"===r?"video":r,loop:"photo"===r?null:a<5,src:o,length:d,link:c,linkText:t.id,seen:!1,time:u(t.createdAt),isWatched:t.isWatched,viewers:t.viewers||[],question:t.question,loadingBg:m,bgPreviewWidth:h,bgPreviewHeight:b,originalMediaWidth:g,originalMediaHeight:v,userId:s}}));return[].concat(Object(r["a"])(e),Object(r["a"])(n))}),[]);return{id:s,photo:o?o.c50:void 0,name:d,link:"",lastUpdated:u(t[0].createdAt),seen:!1,username:c,items:p}},p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a=arguments.length>4?arguments[4]:void 0,s=t.avatarThumbs,o=t.username,c=t.id,d=t.name;return e.length?{id:c,photo:s?s.c50:void 0,name:n?"My story":d,link:"",lastUpdated:u(e[0].createdAt),seen:!1,isMine:n,username:o,items:e.map((function(e){var t=e.id,s=e.media,c=e.createdAt,d=e.canLike,m=e.likesCount,p=e.tipsAmount,h=e.tipsCount,b=e.viewersCount,g=e.isWatched,v=e.isHighlightCover,y=e.isLastInHighlight,w=e.viewers,O=e.question,j=e.userId,k=i()(s,"[0].type","photo"),S="gif"===k?"video":k,x=i()(s,"[0].files.source.duration",0),P=x<5?5:x,I="photo"===k?null:x<5,C=l(s),R=i()(s,"[0].files.preview.sources.w150",""),T=f(s),_=T.bgPreviewWidth,A=T.bgPreviewHeight,L=T.originalMediaWidth,E=T.originalMediaHeight;return{id:t,type:S,length:P,isMine:n,loop:I,src:C,link:o,linkText:t,seen:!1,time:u(c),title:r,canLike:d,isLiked:a,likesCount:m,tipsAmount:p,tipsCount:h,viewersCount:b,isWatched:g,isHighlightCover:v,isLastInHighlight:y,viewers:w,question:O,loadingBg:R,bgPreviewWidth:_,bgPreviewHeight:A,originalMediaWidth:L,originalMediaHeight:E,userId:j}}))}:{}}},9898:function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return g})),n.d(t,"getters",(function(){return v})),n.d(t,"mutations",(function(){return y})),n.d(t,"actions",(function(){return w}));n("8e6e"),n("456d"),n("ac6a"),n("5df3"),n("4f7f");var r=n("75fc"),a=(n("55dd"),n("96cf"),n("3b8d")),s=n("bd86"),i=n("5e23"),o=n("559d"),c=n("5892"),u=n("b775"),d=function(e){var t="".concat(u["b"],"/comments/").concat(e,"/like");return u["d"].post(t).then((function(e){return e.data}))},l=function(e){var t="".concat(u["b"],"/comments/").concat(e,"/like");return u["d"].delete(t).then((function(e){return e.data}))},f=function(e){var t="".concat(u["b"],"/comments/").concat(e);return u["d"].delete(t).then((function(e){return e.data}))},m=n("09e4");function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){Object(s["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b=function(){return{items:{},itemsIds:{},loading:!1}},g=b(),v={getComment:function(e){return function(t){return e.items[t]}},getCommentsByPostId:function(e){return function(t){return e.itemsIds[t]?e.itemsIds[t].map((function(t){return e.items[t]})):[]}},isCommentsLoading:function(e){return e.loading}},y={setLoading:function(e,t){e.loading=t},toggleCommentLike:function(e,t){var n=t.id,r=t.isLiked,a=t.likesCount,s=t.byAuthor;e.items[n].isLiked=r,e.items[n].likesCount=a,s&&(e.items[n].isLikedByAuthor=r)},deleteComment:function(e,t){var n=h({},e.items);delete n[t],e.items=n},logout:function(e){Object.assign(e,b())}},w={fetchPostComments:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var a,u,d,l,f,p,h,b,g,v,y;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.commit,u=t.state,d=n.id,l=n.limit,f=n.offset,p=void 0===f?0:f,h=n.more,b=void 0!==h&&h,a("setLoading",!0),g=[],e.prev=4,e.next=7,Object(c["m"])({id:d,limit:l,offset:p});case 7:v=e.sent,v&&Array.isArray(v)?v.length&&(y=Object(i["a"])(v,o["e"]),a("set",y,{root:!0}),g=y.result,a("set",{entities:{commentIds:Object(s["a"])({},d,b?Object(r["a"])(new Set([].concat(Object(r["a"])(u.itemsIds[d]||[]),Object(r["a"])(g)))).sort((function(e,t){return t-e})):g)}},{root:!0})):Object(m["c"])({error:new Error("typeof response is incorrect"),extra:{response:v}}),e.next=13;break;case 11:e.prev=11,e.t0=e["catch"](4);case 13:return a("setLoading",!1),e.abrupt("return",g);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));function t(t,n){return e.apply(this,arguments)}return t}(),sendComment:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var a,u,d,l,f,m,p,h,b;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.commit,u=t.state,d=n.id,l=n.text,f=n.answerTo,m=n.giphyId,e.next=4,Object(c["a"])({id:d,text:l,answerTo:f,giphyId:m});case 4:return p=e.sent,p&&p.id&&(h=Object(i["a"])(p,o["f"]),a("set",h,{root:!0}),b=h.result,a("set",{entities:{commentIds:Object(s["a"])({},d,[b].concat(Object(r["a"])(u.itemsIds[d]||[])))}},{root:!0}),a("posts/incrementPostCommentsCount",d,{root:!0})),e.abrupt("return",p);case 7:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),likeComment:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,s,i,o,c,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=t.commit,a=n.id,s=n.like,i=n.byAuthor,e.prev=2,!s){e.next=9;break}return e.next=6,d(a);case 6:e.t0=e.sent,e.next=12;break;case 9:return e.next=11,l(a);case 11:e.t0=e.sent;case 12:o=e.t0,o&&o.success&&(c=o.isLiked,u=o.likesCount,r("toggleCommentLike",{id:a,isLiked:c,likesCount:u,byAuthor:i})),e.next=18;break;case 16:e.prev=16,e.t1=e["catch"](2);case 18:case"end":return e.stop()}}),e,null,[[2,16]])})));function t(t,n){return e.apply(this,arguments)}return t}(),deleteComment:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var a,i,o,c,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.commit,i=t.state,o=n.postId,c=n.commentId,e.prev=2,e.next=5,f(c);case 5:u=e.sent,u&&u.success&&(a("posts/decrementPostComment",o,{root:!0}),a("set",{entities:{commentIds:Object(s["a"])({},o,Object(r["a"])(i.itemsIds[o]||[]).filter((function(e){return e!==c})))}},{root:!0}),a("deleteComment",c)),e.next=11;break;case 9:e.prev=9,e.t0=e["catch"](2);case 11:case"end":return e.stop()}}),e,null,[[2,9]])})));function t(t,n){return e.apply(this,arguments)}return t}()}},9957:function(e,t,n){"use strict";var r=n("339e"),a=n.n(r);a.a.define({"video/avi":["avi"]}),a.a.define({"video/x-m4v":["m4v"]}),a.a.define({"video/quicktime":["mov"]},!0),a.a.define({"audio/ogg":["ogg"]},!0),a.a.define({"video/x-matroska":["mkv"]},!0),a.a.define({"audio/mpeg":["mp3"]},!0),t["a"]=a.a},"9d17":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n("28a5");var r=n("56d7"),a=function(e){return new Promise((function(t,n){var a=new FileReader;a.onloadend=function(){t(a.result)},a.onerror=n,e instanceof Blob?a.readAsDataURL(e):n({message:r["default"].$i18n.t("message.debug_alert_message")})}))}},a18c:function(e,t,n){"use strict";n("7514"),n("6762"),n("2fdb"),n("ac6a"),n("456d"),n("96cf");var r=n("3b8d"),a=n("75fc"),s=(n("a481"),n("2b0e")),i=n("8c4f"),o=n("56d7"),c=n("00e7"),u=n.n(c),d=n("4360"),l=n("3d2f");n("ac4d"),n("8a81"),n("5df3"),n("1c4c"),n("6b54");function f(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=m(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,i=!0,o=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){o=!0,s=e},f:function(){try{i||null==n.return||n.return()}finally{if(o)throw s}}}}function m(e,t){if(e){if("string"===typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var h=function(){var e,t=document.getElementsByClassName("b-dropdown-wrapper"),n=f(t);try{for(n.s();!(e=n.n()).done;){var r=e.value;r.remove()}}catch(a){n.e(a)}finally{n.f()}},b=function(e){var t=e.matched.slice().reverse().find((function(e){return e.meta&&e.meta.metaTags}));Array.from(document.querySelectorAll("[data-page-meta]")).map((function(e){return e.parentNode.removeChild(e)})),t&&t.meta.metaTags.map((function(e){var t=document.createElement("meta");return Object.keys(e).forEach((function(n){t.setAttribute(n,e[n])})),t.setAttribute("data-page-meta",""),t})).forEach((function(e){return document.head.appendChild(e)}))},g=b,v=n("39db"),y=function(){return Promise.all([n.e("main"),n.e("vendor")]).then(n.bind(null,"67a9"))},w=[{path:"/my/referrals",name:"Referrals",component:y,meta:{requiresReferrerAllowed:!0}},{path:"/my/referrals/return_from_referral",name:"ReturnFromReferral",beforeEnter:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,d["a"].dispatch("auth/logoutFromReferral");case 2:"Referrals"===n.name?window.location.href="/my/referrals":(d["a"].commit("init/setNeededReload",!0),r({name:"Referrals"}));case 3:case"end":return e.stop()}}),e)})));function t(t,n,r){return e.apply(this,arguments)}return t}()}],O=w,j=function(){return Promise.all([n.e("main"),n.e("chats")]).then(n.bind(null,"aa32"))},k=function(){return Promise.all([n.e("main"),n.e("chats~lists~live~main~mediaVault~streaming"),n.e("vendor")]).then(n.bind(null,"a64b"))},S=[{path:"/my/vault",name:"MediaVault",component:j,meta:{requiresAuth:!0}},{path:"/my/vault/list",name:"VaultLists",component:k,meta:{requiresAuth:!0}},{path:"/my/vault/list/:list",name:"VaultCustomList",component:j,meta:{requiresAuth:!0}}],x=S,P=function(){return Promise.all([n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("chats~lists~live~main~mediaVault~streaming"),n.e("streaming")]).then(n.bind(null,"a565"))},I=function(){return Promise.all([n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("chats~lists~live~main~mediaVault~streaming"),n.e("streaming")]).then(n.bind(null,"3ab7"))},C=[{path:"/action/restore_access_confirm",name:"RestoreAccess",component:P},{path:"/action/:trialType(trial|subscribe)/:code",name:"Trial",component:I}],R=C,T=function(){return Promise.all([n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("chats~lists~live~main~mediaVault~streaming"),n.e("streaming")]).then(n.bind(null,"4b14"))},_=function(){return Promise.all([n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("chats~lists~live~main~mediaVault~streaming"),n.e("streaming")]).then(n.bind(null,"29a3"))},A=function(){return Promise.all([n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("chats~lists~live~main~mediaVault~streaming"),n.e("streaming")]).then(n.bind(null,"6ae6"))},L=function(){return Promise.all([n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("chats~lists~live~main~mediaVault~streaming"),n.e("streaming")]).then(n.bind(null,"8901"))},E=function(){return Promise.all([n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("chats~lists~live~main~mediaVault~streaming"),n.e("streaming")]).then(n.bind(null,"605e"))},M=function(){return Promise.all([n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("chats~lists~live~main~mediaVault~streaming"),n.e("streaming")]).then(n.bind(null,"3ab7"))},U=function(){return Promise.all([n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("chats~lists~live~main~mediaVault~streaming"),n.e("streaming")]).then(n.bind(null,"45e8"))},D=function(){return Promise.all([n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("chats~lists~live~main~mediaVault~streaming"),n.e("streaming")]).then(n.bind(null,"1dd8"))},F=function(){return Promise.all([n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("chats~lists~live~main~mediaVault~streaming"),n.e("streaming")]).then(n.bind(null,"aae3d"))},B=function(){return Promise.all([n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("chats~lists~live~main~mediaVault~streaming"),n.e("streaming")]).then(n.bind(null,"20b3"))},N=function(){return Promise.all([n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("chats~lists~live~main~mediaVault~streaming"),n.e("streaming")]).then(n.bind(null,"ad76"))},q=function(){return Promise.all([n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("chats~lists~live~main~mediaVault~streaming"),n.e("streaming")]).then(n.bind(null,"809d"))},V=function(){return Promise.all([n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("chats~lists~live~main~mediaVault~streaming"),n.e("streaming")]).then(n.bind(null,"0200"))},$=[{path:"/support",redirect:"/help"},{path:"/faq/:chapter?/:section?/:subsection?",redirect:"/help/:chapter?/:section?/:subsection?"},{path:"/my/subscribes",redirect:"/my/subscriptions"},{path:"/my/subscribes/:type",redirect:"/my/subscriptions/:type"},{path:"/rileyreid",redirect:"/rileyreidx3"},{path:"/partners",redirect:"/help/3/22/90"},{path:"/referrals",redirect:"/help/3/22/90"},{path:"/my/notifications/mentioned",redirect:"/my/notifications/interactions"},{path:"/oauth/authenticate",name:"OAuthAuthenticate",component:B},{path:"/report_abuse/:type(post|user|story|message)/:id(\\d+)",name:"ReportAbuse",component:N,meta:{requiresAuth:!0}},{path:"/my/notifications",name:"Notifications",component:U,meta:{requiresAuth:!0},children:[{path:":type",name:"NotificationsByType"}]},{path:"/",name:"Feed",component:M},{path:"/queue",redirect:"/my/queue"},{path:"/my/schedule_message",redirect:"/my/queue"},{path:"/my/queue/:date?",name:"MyQueue",component:q,meta:{requiresPerformer:!0}},{path:"/saved-for-later",name:"SavedForLater",component:V,meta:{requiresPerformer:!0}},{path:"/purchased",name:"Purchased",component:M,meta:{requiresPurchased:!0}},{path:"/blurred",name:"Blurred",component:M,meta:{requiresPaidFeed:!0}},{path:"/closefriends",redirect:"/"},{path:"/posts/create",name:"PostsCreate",component:A,meta:{requiresAuth:!0}},{path:"/posts/edit/:postId(\\d+)",name:"PostsEdit",component:A,props:{isEditPage:!0},meta:{requiresAuth:!0}},{path:"/search/users/:q?",name:"SearchUsers",component:F,meta:{requiresCanSearchUsers:!0}},{path:"/my/profile",name:"ProfileAlias",component:T,meta:{title:"profilePageTitle",requiresAuth:!0}},{path:"/my/*",name:"MyError",component:D},{path:"/:userId(\\D.+)/friends",name:"Friends",component:_,meta:{title:"profilePageTitle"}},{path:"/:userId(\\D.*[^/])",name:"Profile",component:T,children:[{path:":postType(media|photos|videos|audios|archived|likes|spotify|links-i-like|shopify|friends|streams)",name:"ProfileInner",meta:{title:"profilePageTitle"}},{path:"medias",redirect:"media"}],meta:{title:"profilePageTitle",allowFraudRepayment:!0}},{path:"/:postId(\\d+)/:userId/likes",name:"PostLikes",component:E,meta:{requiresAuth:!0}},{path:"/:postId(\\d+)/:userId/tips",name:"PostTips",component:E,meta:{requiresAuth:!0}},{path:"/:postId(\\d+)/:userId(\\D.+)/buyers",name:"PostBuyers",component:E,meta:{requiresAuth:!0}},{path:"/:postId(\\d+)/:userId(\\D.+)/vote/:optionId",name:"PostVoters",component:E,meta:{requiresAuth:!0}},{path:"/:queueId(\\d+)/buyers",name:"QueueBuyers",component:E,meta:{requiresPerformer:!0}},{path:"/:postId(\\d+)/:userId(\\D.*[^/])",name:"Post",component:L},{path:"*",name:"Error",component:D}],H=$,G=function(){return Promise.all([n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("chats~lists~live~main~mediaVault~streaming"),n.e("streaming"),n.e("chats")]).then(n.bind(null,"2154"))},z=function(){return Promise.all([n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("chats~lists~live~main~mediaVault~streaming"),n.e("streaming"),n.e("chats")]).then(n.bind(null,"3472"))},W=function(){return Promise.all([n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("chats~lists~live~main~mediaVault~streaming"),n.e("streaming"),n.e("chats")]).then(n.bind(null,"0d0a"))},Y=function(){return Promise.all([n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("chats~lists~live~main~mediaVault~streaming"),n.e("streaming"),n.e("chats")]).then(n.bind(null,"ad4b"))},X=function(){return Promise.all([n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("chats~lists~live~main~mediaVault~streaming"),n.e("streaming"),n.e("chats")]).then(n.bind(null,"d1db"))},Q=[{path:"/my/chats",component:G,meta:{requiresAuth:!0,prefetch:!0},children:[{path:"",name:"Chats",component:z},{path:"chat/:chatId",name:"Chat",component:z},{path:"chat/:chatId/gallery",name:"Gallery",component:W},{path:"send",name:"ChatsSend",component:Y}]},{path:"/my/mass_chats",component:X,name:"MassMessagesStats",meta:{requiresPerformer:!0}}],K=Q,J=function(){return Promise.all([n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("chats~lists~live~main~mediaVault~streaming"),n.e("streaming"),n.e("chats")]).then(n.bind(null,"55a7"))},Z=function(){return Promise.all([n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("chats~lists~live~main~mediaVault~streaming"),n.e("streaming"),n.e("chats")]).then(n.bind(null,"cd46"))},ee=function(){return Promise.all([n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("chats~lists~live~main~mediaVault~streaming"),n.e("streaming"),n.e("chats")]).then(n.bind(null,"55e8"))},te=function(){return Promise.all([n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("chats~lists~live~main~mediaVault~streaming"),n.e("streaming"),n.e("chats")]).then(n.bind(null,"8876"))},ne=function(){return Promise.all([n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("chats~lists~live~main~mediaVault~streaming"),n.e("streaming"),n.e("chats")]).then(n.bind(null,"1422"))},re=function(){return Promise.all([n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("chats~lists~live~main~mediaVault~streaming"),n.e("streaming"),n.e("chats")]).then(n.bind(null,"9ab2"))},ae=function(){return Promise.all([n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("chats~lists~live~main~mediaVault~streaming"),n.e("streaming"),n.e("chats")]).then(n.bind(null,"9e2d"))},se=function(){return Promise.all([n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("chats~lists~live~main~mediaVault~streaming"),n.e("streaming"),n.e("chats")]).then(n.bind(null,"6438"))},ie=function(){return Promise.all([n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("chats~lists~live~main~mediaVault~streaming"),n.e("streaming"),n.e("chats")]).then(n.bind(null,"28b4"))},oe=function(){return Promise.all([n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("chats~lists~live~main~mediaVault~streaming"),n.e("streaming"),n.e("chats")]).then(n.bind(null,"d8a0"))},ce=function(){return Promise.all([n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("chats~lists~live~main~mediaVault~streaming"),n.e("streaming"),n.e("chats")]).then(n.bind(null,"9f80"))},ue=function(){return Promise.all([n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("chats~lists~live~main~mediaVault~streaming"),n.e("streaming"),n.e("chats")]).then(n.bind(null,"6f05"))},de=function(){return Promise.all([n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("chats~lists~live~main~mediaVault~streaming"),n.e("streaming"),n.e("chats")]).then(n.bind(null,"07e39"))},le=function(){return Promise.all([n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("chats~lists~live~main~mediaVault~streaming"),n.e("streaming"),n.e("chats")]).then(n.bind(null,"5648"))},fe=function(){return Promise.all([n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("chats~lists~live~main~mediaVault~streaming"),n.e("streaming"),n.e("chats")]).then(n.bind(null,"5bd0"))},me=function(){return Promise.all([n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("chats~lists~live~main~mediaVault~streaming"),n.e("streaming"),n.e("chats")]).then(n.bind(null,"2dc9"))},pe=function(){return Promise.all([n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("chats~lists~live~main~mediaVault~streaming"),n.e("streaming"),n.e("chats")]).then(n.bind(null,"8573"))},he=function(){return Promise.all([n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("chats~lists~live~main~mediaVault~streaming"),n.e("streaming"),n.e("chats")]).then(n.bind(null,"b161"))},be=function(){return Promise.all([n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("chats~lists~live~main~mediaVault~streaming"),n.e("streaming"),n.e("chats")]).then(n.bind(null,"df7c0"))},ge=function(){return Promise.all([n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("chats~lists~live~main~mediaVault~streaming"),n.e("streaming"),n.e("chats")]).then(n.bind(null,"06e0"))},ve=function(){return Promise.all([n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("chats~lists~live~main~mediaVault~streaming"),n.e("streaming"),n.e("chats")]).then(n.bind(null,"3ed1"))},ye=function(){return Promise.all([n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("chats~lists~live~main~mediaVault~streaming"),n.e("streaming"),n.e("chats")]).then(n.bind(null,"07a2"))},we=function(){return Promise.all([n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("chats~lists~live~main~mediaVault~streaming"),n.e("streaming"),n.e("chats")]).then(n.bind(null,"b9b5"))},Oe=function(){return Promise.all([n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("chats~lists~live~main~mediaVault~streaming"),n.e("streaming"),n.e("chats")]).then(n.bind(null,"8aed"))},je=function(){return Promise.all([n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("chats~lists~live~main~mediaVault~streaming"),n.e("streaming"),n.e("chats")]).then(n.bind(null,"ac4d9"))},ke=function(){return Promise.all([n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("chats~lists~live~main~mediaVault~streaming"),n.e("streaming"),n.e("chats")]).then(n.bind(null,"390c"))},Se=function(){return Promise.all([n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("chats~lists~live~main~mediaVault~streaming"),n.e("streaming"),n.e("chats")]).then(n.bind(null,"7397"))},xe=function(){return Promise.all([n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("chats~lists~live~main~mediaVault~streaming"),n.e("streaming"),n.e("chats")]).then(n.bind(null,"5bf2"))},Pe=function(){return Promise.all([n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("chats~lists~live~main~mediaVault~streaming"),n.e("streaming"),n.e("chats")]).then(n.bind(null,"9249"))},Ie=function(){return Promise.all([n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("chats~lists~live~main~mediaVault~streaming"),n.e("streaming"),n.e("chats")]).then(n.bind(null,"ff2d"))},Ce=function(){return Promise.all([n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("chats~lists~live~main~mediaVault~streaming"),n.e("streaming"),n.e("chats")]).then(n.bind(null,"646d"))},Re=function(){return Promise.all([n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("chats~lists~live~main~mediaVault~streaming"),n.e("streaming"),n.e("chats")]).then(n.bind(null,"08b0"))},Te=function(){return Promise.all([n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("chats~lists~live~main~mediaVault~streaming"),n.e("streaming"),n.e("chats")]).then(n.bind(null,"415f"))},_e=function(){return Promise.all([n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("chats~lists~live~main~mediaVault~streaming"),n.e("streaming"),n.e("chats")]).then(n.bind(null,"a17c"))},Ae=function(){return Promise.all([n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("chats~lists~live~main~mediaVault~streaming"),n.e("streaming"),n.e("chats")]).then(n.bind(null,"673f"))},Le=function(){return Promise.all([n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("chats~lists~live~main~mediaVault~streaming"),n.e("streaming"),n.e("chats")]).then(n.bind(null,"7446"))},Ee=function(){return Promise.all([n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("chats~lists~live~main~mediaVault~streaming"),n.e("streaming"),n.e("chats")]).then(n.bind(null,"546d"))},Me=function(){return Promise.all([n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("chats~lists~live~main~mediaVault~streaming"),n.e("streaming"),n.e("chats")]).then(n.bind(null,"b2183"))},Ue=function(){return Promise.all([n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("chats~lists~live~main~mediaVault~streaming"),n.e("streaming"),n.e("chats")]).then(n.bind(null,"47f3"))},De=function(){return Promise.all([n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("chats~lists~live~main~mediaVault~streaming"),n.e("streaming"),n.e("chats")]).then(n.bind(null,"d62c"))},Fe=function(){return Promise.all([n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("chats~lists~live~main~mediaVault~streaming"),n.e("streaming"),n.e("chats")]).then(n.bind(null,"1500"))},Be=function(){return Promise.all([n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("chats~lists~live~main~mediaVault~streaming"),n.e("streaming"),n.e("chats")]).then(n.bind(null,"2bda"))},Ne=[{path:"/my/settings",name:"Settings",component:J,meta:{requiresAuth:!0},children:[{path:"profile",name:"SettingsProfile",component:Z},{path:"account",name:"SettingsAdvanced",component:ee},{path:"advanced",redirect:{name:"SettingsAdvanced"}},{path:"account/username",name:"SettingsUsername",component:te},{path:"account/email",name:"SettingsEmail",component:Ae,meta:{isPage:!0}},{path:"account/phone",name:"SettingsPhone",component:Le},{path:"account/twitter",name:"SettingsTwitter",component:ne},{path:"account/google",name:"SettingsGoogle",component:re},{path:"account/connected",name:"SettingsConnected",component:ae,meta:{requiresConnectedAccount:!0}},{path:"account/password",name:"SettingsPassword",component:se},{path:"account/sessions",name:"SettingsSessions",component:ie},{path:"account/2fa",name:"Settings2fa",component:oe},{path:"account/delete",name:"SettingsDelete",component:ce},{path:"messaging",name:"SettingsMessaging",component:ue,meta:{requiresPerformer:!0}},{path:"calls",name:"SettingsCalls",component:de,meta:{requiresPerformer:!0,requiresEnableSettingsCallingSection:!0}},{path:"notifications",name:"SettingsNotifications",component:le},{path:"notifications/webpush",name:"SettingsNotificationsWebPush",component:fe},{path:"notifications/email",name:"SettingsNotificationsEmail",component:me},{path:"notifications/site",name:"SettingsNotificationsSite",component:pe},{path:"notifications/toast",name:"SettingsNotificationsToast",component:he},{path:"notifications/sms",name:"SettingsNotificationsSms",component:be},{path:"notifications/telegram",name:"SettingsNotificationsTelegram",component:ge},{path:"notifications/telegram/link",name:"SettingsTelegramLink",component:ve},{path:"security",name:"SettingsSecurity",component:ye},{path:"security/block_by_country",name:"SettingsBlockByCountry",component:we,meta:{requiresPerformer:!0}},{path:"security/block_by_ip",name:"SettingsBlockByIP",component:Oe,meta:{requiresPerformer:!0}},{path:"security/watermarks",name:"SettingsWatermarks",component:je,meta:{requiresPerformer:!0}},{path:"subscription",name:"SettingsSubscription",component:ke},{path:"fans",name:"SettingsFans",component:Se,meta:{requiresPerformer:!0}},{path:"spotify",name:"SettingsSpotify",component:xe,meta:{isPage:!0}},{path:"links",name:"SettingsThingsILike",component:Pe,meta:{isPage:!0,requiresUser:!0,requiresCanMakeProfileLinks:!0}},{path:"shopify-settings",name:"SettingsShopify",component:Ie,meta:{isPage:!0,requiresUser:!0,requiresCanShopify:!0}},{path:"shopify-products",name:"SettingsShopifyProducts",component:Ce,meta:{isPage:!0,requiresUser:!0,requiresCanShopify:!0}},{path:"other",name:"SettingsOther",component:Re},{path:"changelog",name:"SettingsChangelog",component:Te},{path:"story",name:"SettingsStory",component:_e,meta:{requiresCanAddStory:!0}},{path:"email",redirect:{name:"SettingsEmail"}},{path:"change-email",redirect:{name:"SettingsEmail"}},{path:"helpers",name:"PerformerHelpers",component:Ue,meta:{requiresCanAddHelper:!0}},{path:"spotify/artists",name:"SpotifyArtists",component:Ee},{path:"spotify/anthem",name:"SpotifyAnthem",component:Me},{path:"display",name:"SettingsDisplay",component:De},{path:"display/language",name:"SettingsLanguage",component:Fe},{path:"qrcode",name:"SettingsQRCode",component:Be,meta:{requiresPerformer:!0}}]}],qe=Ne,Ve=function(){return Promise.all([n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("streaming"),n.e("banking~static"),n.e("banking")]).then(n.bind(null,"2d5f"))},$e=function(){return Promise.all([n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("streaming"),n.e("banking~static"),n.e("banking")]).then(n.bind(null,"8966"))},He=function(){return Promise.all([n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("streaming"),n.e("banking~static"),n.e("banking")]).then(n.bind(null,"4a44"))},Ge=function(){return Promise.all([n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("streaming"),n.e("banking~static"),n.e("banking")]).then(n.bind(null,"6919"))},ze=function(){return Promise.all([n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("streaming"),n.e("banking~static"),n.e("banking")]).then(n.bind(null,"cc63"))},We=function(){return Promise.all([n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("streaming"),n.e("banking~static"),n.e("banking")]).then(n.bind(null,"0d2b"))},Ye=[{path:"/my/payments",component:Ve,meta:{requiresAuth:!0},children:[{path:"",name:"Payments",component:He},{path:"list",name:"PaymentsCreditsTransactions",component:Ge},{path:"add_card",name:"PaymentsAddCard",component:$e,meta:{requiresAuth:!0,allowFraudRepayment:!0}},{path:"alternative",name:"PaymentsAlternative",component:ze},{path:"alternative/add",name:"PaymentsAlternativeAdd",component:We}]}],Xe=Ye,Qe=function(){return Promise.all([n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("streaming"),n.e("banking~static"),n.e("banking")]).then(n.bind(null,"70e8"))},Ke=function(){return Promise.all([n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("streaming"),n.e("banking~static"),n.e("banking")]).then(n.bind(null,"c36c"))},Je=function(){return Promise.all([n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("streaming"),n.e("banking~static"),n.e("banking")]).then(n.bind(null,"8414"))},Ze=function(){return Promise.all([n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("streaming"),n.e("banking~static"),n.e("banking")]).then(n.bind(null,"7e5e"))},et=function(){return Promise.all([n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("streaming"),n.e("banking~static"),n.e("banking")]).then(n.bind(null,"7178"))},tt=function(){return Promise.all([n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("streaming"),n.e("banking~static"),n.e("banking")]).then(n.bind(null,"a573"))},nt=function(){return Promise.all([n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("streaming"),n.e("banking~static"),n.e("banking")]).then(n.bind(null,"6876"))},rt=function(){return Promise.all([n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("streaming"),n.e("banking~static"),n.e("banking")]).then(n.bind(null,"980b"))},at=function(){return Promise.all([n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("streaming"),n.e("banking~static"),n.e("banking")]).then(n.bind(null,"cecd"))},st=function(){return Promise.all([n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("streaming"),n.e("banking~static"),n.e("banking")]).then(n.bind(null,"1635"))},it=function(){return Promise.all([n.e("banking~chats~lists~main~sign~static~streaming"),n.e("streaming"),n.e("main")]).then(n.bind(null,"aff6"))},ot=[{path:"/my/banking",component:Qe,meta:{requiresAuth:!0},children:[{path:"",name:"Banking",component:Ke},{path:"payout_types",name:"BankingPayoutTypes",component:Je},{path:"support",name:"BankingSupport",component:Ze},{path:"w9",name:"W9",component:at},{path:"w9custom",name:"W9custom",component:at,meta:{type:"custom"}},{path:"vat",name:"BankingVat",component:et},{path:"vat/change",name:"BankingVatChange",component:tt},{path:"vat/add-documents",name:"BankingVatAddDocuments",component:nt},{path:"vat/create-document",name:"BankingVatCreateDocument",component:rt},{path:":section",name:"BankingSection",component:Ke}]},{path:"/my/verify",name:"VerifyPage",component:st},{path:"/my/sign/:id",name:"SignPage",component:it,meta:{noRedirectOnLogOut:!0}}],ct=ot,ut=function(){return Promise.all([n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("streaming"),n.e("banking~static"),n.e("static")]).then(n.bind(null,"c1df"))},dt=function(){return Promise.all([n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("streaming"),n.e("banking~static"),n.e("static")]).then(n.bind(null,"871b"))},lt=function(){return Promise.all([n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("streaming"),n.e("banking~static"),n.e("static")]).then(n.bind(null,"1f0a"))},ft=function(){return Promise.all([n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("streaming"),n.e("banking~static"),n.e("static")]).then(n.bind(null,"2c65"))},mt=function(){return Promise.all([n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("streaming"),n.e("banking~static"),n.e("static")]).then(n.bind(null,"cb36"))},pt=function(){return Promise.all([n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("streaming"),n.e("banking~static"),n.e("static")]).then(n.bind(null,"3a89"))},ht=function(){return Promise.all([n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("streaming"),n.e("banking~static"),n.e("static")]).then(n.bind(null,"ac4d1"))},bt=function(){return Promise.all([n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("streaming"),n.e("banking~static"),n.e("static")]).then(n.bind(null,"86f5"))},gt=function(){return Promise.all([n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("streaming"),n.e("banking~static"),n.e("static")]).then(n.bind(null,"45f0"))},vt=function(){return Promise.all([n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("streaming"),n.e("banking~static"),n.e("static")]).then(n.bind(null,"0070"))},yt=function(){return Promise.all([n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("streaming"),n.e("banking~static"),n.e("static")]).then(n.bind(null,"15b6"))},wt=[{path:"/help/:chapter?/:section?/:subsection?",component:mt,title:"FAQs",name:"faq",meta:{hasStaticFooter:!0,staticContainer:!0,type:"faq",allowFraudRepayment:!0}},{path:"/terms/:section?",beforeEnter:function(){window.location.href="".concat(window.location.origin,"/terms.html").concat(window.location.hash)}},{path:"/contract",beforeEnter:function(){window.location.href="".concat(window.location.origin,"/contract.html").concat(window.location.hash)}},{path:"/dmca",component:ut,title:"Dmca",name:"dmca",meta:{hasStaticFooter:!0,hideHeader:!0,staticContainer:!0,type:"dmca",allowFraudRepayment:!0}},{path:"/store",beforeEnter:function(){window.location.replace("https://store.onlyfans.com")}},{path:"/statement",component:ht,title:"Statement",name:"statement",meta:{hasStaticFooter:!0,hideHeader:!0,staticContainer:!0,allowFraudRepayment:!0,metaTags:[{name:"robots",content:"noindex, nofollow"}]}},{path:"/compliance",component:bt,title:"Compliance",name:"compliance",meta:{hasStaticFooter:!0,hideHeader:!0,staticContainer:!0,allowFraudRepayment:!0,metaTags:[{name:"robots",content:"noindex, nofollow"}]}},{path:"/compliance2",component:gt,title:"Compliance2",name:"compliance2",meta:{hasStaticFooter:!0,staticContainer:!0,hideHeader:!0,allowFraudRepayment:!0,metaTags:[{name:"robots",content:"noindex, nofollow"}]}},{path:"/contacts",component:dt,title:"Contact",name:"contacts",meta:{hasStaticFooter:!0,type:"contacts",allowFraudRepayment:!0}},{path:"/legalinquiry",title:"Law Enforcement",name:"legalinquiry",component:lt},{path:"/legalguide",title:"Law Enforcement Guide",name:"legalguide",component:yt,meta:{hasStaticFooter:!0,staticContainer:!0,hideHeader:!0,allowFraudRepayment:!0}},{path:"/how",component:ft,title:"How it works",name:"how",meta:{hasStaticFooter:!0,staticContainer:!0,type:"how",allowFraudRepayment:!0}},{path:"/privacy",beforeEnter:function(){window.location.href="".concat(window.location.origin,"/privacy.html").concat(window.location.hash)}},{path:"/usc2257",beforeEnter:function(){window.location.href="".concat(window.location.origin,"/usc2257.html").concat(window.location.hash)}},{path:"/banking-help",component:ut,title:"Adding a Bank Account",name:"banking-help",meta:{hasStaticFooter:!0,staticContainer:!0,type:"page",allowFraudRepayment:!0}},{path:"/terms-of-service",redirect:"/terms"},{path:"/tos",redirect:"/terms"},{path:"/tosd",redirect:"/terms"},{path:"/about",beforeEnter:function(){window.location.href="".concat(window.location.origin,"/about.html").concat(window.location.hash)}},{path:"/my/tickets/:type?",component:mt,name:"TicketsPage",meta:{hasStaticFooter:!0,requiresAuth:!0,staticContainer:!0}},{path:"/brand",component:pt,name:"Brand",title:"Brand Resources",meta:{hasStaticFooter:!0,staticContainer:!0,hideHeader:!0,allowFraudRepayment:!0}},{path:"/gdpr/:id",component:vt,name:"DownloadReport",meta:{hasStaticFooter:!0,staticContainer:!0,hideHeader:!0}}],Ot=wt,jt=function(){return Promise.all([n.e("vendor-amcharts"),n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("chats~lists~live~main~mediaVault~streaming"),n.e("streaming")]).then(n.bind(null,"bb12"))},kt=function(){return Promise.all([n.e("vendor-amcharts"),n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("chats~lists~live~main~mediaVault~streaming"),n.e("streaming")]).then(n.bind(null,"8a23"))},St=function(){return Promise.all([n.e("vendor-amcharts"),n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("chats~lists~live~main~mediaVault~streaming"),n.e("streaming")]).then(n.bind(null,"c283"))},xt=function(){return Promise.all([n.e("vendor-amcharts"),n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("chats~lists~live~main~mediaVault~streaming"),n.e("streaming")]).then(n.bind(null,"e8de"))},Pt=function(){return Promise.all([n.e("vendor-amcharts"),n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("chats~lists~live~main~mediaVault~streaming"),n.e("streaming")]).then(n.bind(null,"14aa"))},It=function(){return Promise.all([n.e("vendor-amcharts"),n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("chats~lists~live~main~mediaVault~streaming"),n.e("streaming")]).then(n.bind(null,"6afc"))},Ct=function(){return Promise.all([n.e("vendor-amcharts"),n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("chats~lists~live~main~mediaVault~streaming"),n.e("streaming")]).then(n.bind(null,"ac8b"))},Rt=function(){return Promise.all([n.e("vendor-amcharts"),n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("chats~lists~live~main~mediaVault~streaming"),n.e("streaming")]).then(n.bind(null,"19b1"))},Tt=[{path:"/my/statements",component:jt,meta:{requiresPerformer:!0},children:[{path:"",name:"Statements",redirect:{name:"StatementsEarnings"}},{path:"earnings",name:"StatementsEarnings",component:kt},{path:"payouts",name:"StatementsPayoutRequests",component:St,children:[{path:"stripe",name:"StatementsPayoutRequestsStripe",component:St}]},{path:"/my/statements/vat",name:"StatementsVat",component:Rt},{path:"/my/statements/referrals",name:"StatementsReferrals",component:Ct}]},{path:"/my/statements/support",name:"StatementsSupport",component:It,meta:{requiresPerformer:!0}},{path:"/my/stats",component:jt,meta:{requiresPerformer:!0},children:[{path:"earnings",name:"StatsEarnings",component:xt},{path:"disputes",name:"StatsDisputes",component:Pt}]}],_t=Tt,At=function(){return Promise.all([n.e("vendor-amcharts"),n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("chats~lists~live~main~mediaVault~streaming"),n.e("streaming")]).then(n.bind(null,"b29e"))},Lt=function(){return Promise.all([n.e("vendor-amcharts"),n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("chats~lists~live~main~mediaVault~streaming"),n.e("streaming")]).then(n.bind(null,"4f3f"))},Et=function(){return Promise.all([n.e("vendor-amcharts"),n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("chats~lists~live~main~mediaVault~streaming"),n.e("streaming")]).then(n.bind(null,"6ce5"))},Mt=function(){return Promise.all([n.e("vendor-amcharts"),n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("chats~lists~live~main~mediaVault~streaming"),n.e("streaming")]).then(n.bind(null,"ecc2"))},Ut=function(){return Promise.all([n.e("chats~lists~live~main~mediaVault~streaming"),n.e("live")]).then(n.bind(null,"53b8"))},Dt=[{path:"/my/streaming",name:"Streaming",component:At,meta:{requiresPerformer:!0}},{path:"/:user/live",name:"Live",component:Ut,meta:{requiresAuth:!0}},{path:"/my/live/view/:user",redirect:{name:"Live"}},{path:"my/streaming/chat",name:"StreamingChat",component:Lt,meta:{requiresPerformer:!0}},{path:"my/streaming/dashboard",name:"StreamingDashboard",component:Et,meta:{requiresAuth:!0,requiresPerformer:!0}},{path:"my/streaming/dashboard/create",name:"StreamingCreateEditSchedule",component:Mt,meta:{requiresAuth:!0,requiresPerformer:!0}},{path:"my/streaming/dashboard/:id",name:"StreamingEditSchedule",component:Mt,meta:{requiresAuth:!0,requiresPerformer:!0}}],Ft=Dt,Bt=n("bd0a"),Nt=n("9029"),qt=function(){return n.e("eruda").then(n.t.bind(null,"b3bb",7))},Vt=function(){Nt["isMobile"]&&qt().then((function(e){window.eruda=e.default,window.eruda.init()}))},$t=function(){return Promise.all([n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("chats~lists~live~main~mediaVault~streaming"),n.e("streaming")]).then(n.bind(null,"3dfd"))},Ht=function(){return Promise.all([n.e("main"),n.e("banking~chats~lists~main~sign~static~streaming"),n.e("chats~lists~live~main~mediaVault~streaming"),n.e("streaming")]).then(n.bind(null,"1dd8"))};Ht.isErrorPage=!0;var Gt=i["a"].prototype.push,zt=i["a"].prototype.replace,Wt=["ProfileInner","Profile"];i["a"].prototype.push=function(e,t,n){if(t||n)return Gt.call(this,e,t,n);try{return Gt.call(this,e).catch((function(e){return e}))}catch(r){console.log(r)}},i["a"].prototype.replace=function(e,t,n){if(t||n)return zt.call(this,e,t,n);try{return zt.call(this,e).catch((function(e){return e}))}catch(r){console.log(r)}},s["default"].use(i["a"]);var Yt=[];Yt=[].concat(Object(a["a"])(Yt),Object(a["a"])(K)),Yt=[].concat(Object(a["a"])(Yt),Object(a["a"])(Ot)),Yt=[].concat(Object(a["a"])(Yt),Object(a["a"])(v["c"])),Yt=[].concat(Object(a["a"])(Yt),Object(a["a"])(v["b"])),Yt=[].concat(Object(a["a"])(Yt),Object(a["a"])(qe)),Yt=[].concat(Object(a["a"])(Yt),Object(a["a"])(O)),Yt=[].concat(Object(a["a"])(Yt),Object(a["a"])(v["a"])),Yt=[].concat(Object(a["a"])(Yt),Object(a["a"])(v["d"])),Yt=[].concat(Object(a["a"])(Yt),Object(a["a"])(Xe)),Yt=[].concat(Object(a["a"])(Yt),Object(a["a"])(_t)),Yt=[].concat(Object(a["a"])(Yt),Object(a["a"])(ct)),Yt=[].concat(Object(a["a"])(Yt),Object(a["a"])(Ft)),Yt=[].concat(Object(a["a"])(Yt),Object(a["a"])(x)),Yt=[].concat(Object(a["a"])(Yt),Object(a["a"])(R)),Yt=[].concat(Object(a["a"])(Yt),Object(a["a"])(H));var Xt=new i["a"]({mode:"history",base:"/",scrollBehavior:function(e,t,n){return-1!==Wt.indexOf(e.name)&&-1!==Wt.indexOf(t.name)||"faq"===e.name&&"faq"===t.name||"terms"===e.name&&"terms"===t.name||"MyQueue"===e.name&&"MyQueue"===t.name?n:{x:0,y:0}},routes:[{path:"/",component:$t,children:Yt}]});Xt.beforeEach(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n,r){var a,s,i,c,u,f,m,p,b,v,y,w,O,j,k,S,x,P,I,C,R,T,_,A,L,E,M;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(h(),!document.documentMode){e.next=4;break}return r(),e.abrupt("return");case 4:if(!(d["a"].state.init.neededReload&&t.fullPath&&t.query)||t.query._||t.params&&(t.params.isLogout||t.params.noReload)){e.next=7;break}return window.location.href=t.fullPath,e.abrupt("return");case 7:if(null!==d["a"].getters["init/getInit"].isAuth){e.next=10;break}return e.next=10,d["a"].dispatch("init/fetchInit");case 10:if(a=d["a"].getters["init/getInit"],window.TEXTS){e.next=15;break}return a.languages&&Object.keys(a.languages).length&&(s=o["default"].$cookie.get("lang",{domain:".".concat("onlyfans.com")}),s&&!Object.keys(a.languages).includes(s)&&(o["default"].$cookie.delete("lang",{domain:".".concat("onlyfans.com")}),o["i18n"].locale="en"),i=window.navigator.languages||[window.navigator.language||window.navigator.browserLanguage],i&&Array.isArray(i)&&i.length&&(c=i.find((function(e){return Object.keys(a.languages).includes(e)})),c&&"en"!==c&&!o["default"].$cookie.get("lang",{domain:".".concat("onlyfans.com")})&&(o["i18n"].locale=c))),e.next=15,Object(o["reloadLanguageAsync"])(o["i18n"].locale);case 15:if(window.TEXTS){e.next=18;break}return r(),e.abrupt("return");case 18:if("Error"!==t.name){e.next=21;break}return r(),e.abrupt("return");case 21:if(u=Object(l["a"])(),!u.length||!u.every((function(e){return t.fullPath.indexOf(e)<0}))){e.next=26;break}return document.querySelectorAll('a[href="'.concat(t.fullPath,'"]')).forEach((function(e){e.classList.add("m-forbidden")})),n.name||r(u[0]),e.abrupt("return");case 26:if(g(t),f=null,m=t.matched.some((function(e){return e.meta.requiresGuest})),p=t.matched.some((function(e){return e.meta.requiresCanCreatePromotion})),b=t.matched.some((function(e){return e.meta.requiresConnectedAccount})),v=t.matched.some((function(e){return e.meta.requiresEnableSettingsCallingSection})),y=t.matched.some((function(e){return e.meta.requiresCanAddHelper})),w=t.matched.some((function(e){return e.meta.requiresCanAddStory})),O=t.matched.some((function(e){return e.meta.requiresCanMakeProfileLinks})),j=t.matched.some((function(e){return e.meta.requiresCanShopify})),k=t.matched.some((function(e){return e.meta.requiresPaidFeed})),S=t.matched.some((function(e){return e.meta.requiresPurchased})),x=v||p||t.matched.some((function(e){return e.meta.requiresPerformer})),P=t.matched.some((function(e){return e.meta.requiresCustomer})),I=t.matched.some((function(e){return e.meta.requiresCanSearchUsers})),C=t.matched.some((function(e){return e.meta.requiresReferrerAllowed})),R=t.matched.some((function(e){return e.meta.requiresEmailNotChecked})),T=w||b||R||y||I||P||C||k||S||x||t.matched.some((function(e){return e.meta.requiresUser})),_=T||t.matched.some((function(e){return e.meta.requiresAuth})),A=t.matched.some((function(e){return e.meta.allowFraudRepayment})),!m||!a.isAuth){e.next=49;break}return r("/"),e.abrupt("return");case 49:if(!_){e.next=60;break}if(t.meta.requiresAuth=!0,a.isAuth||d["a"].getters["init/apiError"]){e.next=57;break}if(!t||!t.fullPath){e.next=55;break}return r("/?return_to=".concat(window.encodeURIComponent(t.fullPath))),e.abrupt("return");case 55:return r("/"),e.abrupt("return");case 57:if(d["a"].getters["auth/isAuth"]){e.next=60;break}return e.next=60,d["a"].dispatch("auth/fetchUserMe",{root:!0});case 60:if(L=d["a"].getters["auth/authUser"],d["a"].getters["auth/isAuth"]){e.next=64;break}return r(),e.abrupt("return");case 64:if(a=d["a"].getters["init/getInit"],A||!a.isFraudRepayment){e.next=68;break}return r({name:"Profile",params:{userId:L.username}}),e.abrupt("return");case 68:if(!y){e.next=73;break}if(L.id){e.next=72;break}return r("/my/chats"),e.abrupt("return");case 72:L.canAddHelper||L.helperAccess&&L.helperAccess.length||(f={name:"Error"});case 73:w&&!L.canAddStory&&(f={name:"Error"}),O&&!L.canMakeProfileLinks&&(f={name:"Error"}),j&&!L.canShopify&&(f={name:"Error"}),b&&!(L.canConnectOfAccount||L.connectedOfAccounts&&L.connectedOfAccounts.length)&&(f={name:"Error"}),v&&(E=d["a"].getters["settings/enableSettingsCallingSection"],E||(f={name:"Error"})),P&&L.isPerformer&&(f={name:"Error"}),(I&&!L.isMakePayment&&!L.isPerformer||C&&!L.isReferrerAllowed||x&&!L.isPerformer||p&&!L.canCreatePromotion)&&(f={name:"Error"}),(k&&!L.paidFeed||S&&!L.hasPurchasedPosts)&&(f={name:"Feed"}),!R||d["a"].getters["auth/authUser"].email&&!d["a"].getters["auth/authUser"].isEmailChecked||(f={name:"SettingsAdvanced"}),Object(Bt["i"])(t),Object(Bt["d"])(t)&&(f=Object(Bt["g"])(t)),f?r(f):n&&n.name&&"TicketsPage"===t.name&&!L.email?(M={message:o["default"].$i18n.t("message.tickets_need_valid_email"),html:!0,buttons:[{title:o["default"].$i18n.t("message.go_to_settings"),onclick:function(){r({name:"SettingsChangeEmail"})},closeOnClick:!0}]},"faq"!==n.name&&(M.onclose=r({name:"faq"})),alert(M)):(d["a"].commit("init/setGoBackRouteFrom",n),r());case 85:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()),Xt.afterEach((function(e,t){d["a"].commit("router/setRoute",{from:t,to:e}),t&&null===t.name&&window.history.state&&d["a"].commit("init/setGoBackInitHistoryState",window.history.state.key)})),Xt.onError((function(e){/loading chunk .* failed./i.test(e.message)&&(Sentry.captureMessage("Capture router loading chunk error \n".concat(e.message),"error"),window.location.reload())})),Xt.pushAsync=function(e){return new Promise((function(t,n){Xt.push(e,t,n)}))},["beta","dev"].includes("live")&&!u.a.get("disableEruda",{domain:".".concat("onlyfans.com")})&&Vt();t["a"]=Xt},a1c3:function(e,t,n){"use strict";n.d(t,"k",(function(){return l})),n.d(t,"f",(function(){return f})),n.d(t,"j",(function(){return m})),n.d(t,"h",(function(){return p})),n.d(t,"i",(function(){return h})),n.d(t,"p",(function(){return b})),n.d(t,"q",(function(){return g})),n.d(t,"r",(function(){return v})),n.d(t,"t",(function(){return y})),n.d(t,"g",(function(){return w})),n.d(t,"l",(function(){return O})),n.d(t,"u",(function(){return j})),n.d(t,"s",(function(){return k})),n.d(t,"m",(function(){return S})),n.d(t,"e",(function(){return x})),n.d(t,"n",(function(){return P})),n.d(t,"o",(function(){return I})),n.d(t,"c",(function(){return C})),n.d(t,"d",(function(){return R})),n.d(t,"a",(function(){return T})),n.d(t,"b",(function(){return _}));n("8e6e"),n("ac6a"),n("456d");var r=n("bd86"),a=n("b775"),s=n("77c1"),i=n.n(s),o=n("cd9d"),c=n.n(o);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.limit,n=e.offset,r=Object(a["c"])({limit:t,offset:n}),s="".concat(a["b"],"/payouts/transactions").concat(r);return a["d"].get(s).then((function(e){return e.data}))},f=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t="".concat(a["b"],"/payouts/balances");return e&&(t+="/stripe"),a["d"].get(t).then((function(e){return e.data}))},m=function(e,t){var n="".concat(a["b"],"/payouts/stats?startDate=").concat(e,"&endDate=").concat(t);return a["d"].get(n).then((function(e){return e.data}))},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.limit,n=e.offset,r=Object(a["c"])({limit:t,offset:n}),s="".concat(a["b"],"/payouts/requests").concat(r);return a["d"].get(s).then((function(e){return e.data}))},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.limit,n=e.currentStep,r=e.lastPayoutId,s=Object(a["c"])(i()({limit:t,currentStep:n,lastPayoutId:r},c.a)),o="".concat(a["b"],"/payouts/requests/stripe").concat(s);return a["d"].get(o).then((function(e){return e.data}))},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.withdrawalPeriod,n=e.isStripe,r=void 0!==n&&n,s="".concat(a["b"],"/payouts/requests");return r&&(s+="/stripe"),a["d"].patch(s,{withdrawalPeriod:t}).then((function(e){return e.data}))},g=function(e){var t="".concat(a["b"],"/payouts/requests");return a["d"].post(t,{withdrawal_amount:e}).then((function(e){return e.data}))},v=function(e){var t=e.data,n=e.type,r=void 0===n?null:n,s="".concat(a["b"],"/payouts/w9");return r&&(s+="/".concat(r)),a["d"].post(s,t).then((function(e){return e.data}))},y=function(e){var t="".concat(a["b"],"/payouts/tin");return a["d"].post(t,{tin:e}).then((function(e){return e.data}))},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.limit,n=void 0===t?a["e"]:t,r=e.offset,s=e.marker,i=Object(a["c"])({limit:n,offset:r,marker:s}),o="".concat(a["b"],"/payouts/disputes").concat(i);return a["d"].get(o).then((function(e){return e.data}))},O=function(){var e="".concat(a["b"],"/payouts/check-receive/");return a["d"].get(e).then((function(e){return e.data}))},j=function(e){var t="".concat(a["b"],"/payouts/vat");return a["d"].post(t,{vat:e}).then((function(e){return e.data}))},k=function(e){var t="".concat(a["b"],"/payouts/vat-requests");return a["d"].post(t,d({},e)).then((function(e){return e.data}))},S=function(){var e="".concat(a["b"],"/payouts/vat");return a["d"].get(e).then((function(e){return e.data}))},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.limit,n=e.offset,r=Object(a["c"])({limit:t,offset:n}),s="".concat(a["b"],"/payouts/requests/vat-documents").concat(r);return a["d"].get(s).then((function(e){return e.data}))},P=function(e){var t="".concat(a["b"],"/payouts/requests/vat/").concat(e);return a["d"].get(t).then((function(e){return e.data}))},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.year,n=e.month,r=Object(a["c"])({year:t,month:n}),s="".concat(a["b"],"/payouts/vat-invoice").concat(r);return a["d"].get(s).then((function(e){return e.data}))},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.year,n=e.month,r=e.amount,s=Object(a["c"])({invoiceYear:t,invoiceMonth:n,creatorVatAmount:r}),i="".concat(a["b"],"/payouts/download/vat-invoice").concat(s);return a["d"].get(i).then((function(e){return e.data}))},R=function(e){var t="".concat(a["b"],"/payouts/download/vat/").concat(e);return a["d"].get(t).then((function(e){return e.data}))},T=function(){var e="".concat(a["b"],"/payouts/vats");return a["d"].get(e).then((function(e){return e.data}))},_=function(e){var t="".concat(a["b"],"/payouts/vat");return a["d"].delete(t).then((function(e){return e.data}))}},a836:function(e,t,n){"use strict";n.d(t,"f",(function(){return a})),n.d(t,"h",(function(){return s})),n.d(t,"e",(function(){return i})),n.d(t,"g",(function(){return o})),n.d(t,"u",(function(){return c})),n.d(t,"w",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"d",(function(){return l})),n.d(t,"j",(function(){return f})),n.d(t,"x",(function(){return m})),n.d(t,"v",(function(){return p})),n.d(t,"a",(function(){return h})),n.d(t,"t",(function(){return b})),n.d(t,"c",(function(){return g})),n.d(t,"r",(function(){return v})),n.d(t,"p",(function(){return y})),n.d(t,"y",(function(){return w})),n.d(t,"s",(function(){return O})),n.d(t,"q",(function(){return j})),n.d(t,"z",(function(){return k})),n.d(t,"i",(function(){return S})),n.d(t,"l",(function(){return x})),n.d(t,"n",(function(){return P})),n.d(t,"m",(function(){return I})),n.d(t,"k",(function(){return C})),n.d(t,"o",(function(){return R}));n("55dd");var r=n("b775"),a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.limit,n=void 0===t?r["e"]:t,a=e.offset,s=void 0===a?0:a,i=e.filter,o=e.order,c=e.query,u=e.field,d=e.list_id,l=e.skip_users,f=e.muted,m=e.recent,p=arguments.length>1?arguments[1]:void 0,h=Object(r["c"])({limit:n,offset:s,filter:i,order:o,query:c,field:u,list_id:d,skip_users:l,skip_users_dups:1,muted:f,recent:m}),b="".concat(r["b"],"/chats").concat(h);return r["d"].get(b,{cancelToken:p}).then((function(e){return e.data}))},s=function(e){var t=e.limit,n=void 0===t?r["e"]:t,a=e.offset,s=void 0===a?0:a,i=e.query,o=e.sort,c=e.field,u=e.filter,d=e.total,l=e.skip_users,f=e.signed_up_before,m=e.signed_up_after,p=e.scheduledSubscribedOn,h=Object(r["c"])({limit:n,offset:s,query:i,sort:o,field:c,filter:u,total:d,skip_users:l,skip_users_dups:1,signed_up_before:f,signed_up_after:m,scheduledSubscribedOn:p}),b="".concat(r["b"],"/chats/users").concat(h);return r["d"].get(b).then((function(e){return e.data}))},i=function(e,t){var n=Object(r["c"])({skip_users:t,skip_users_dups:1}),a="".concat(r["b"],"/chats/").concat(encodeURIComponent(e)).concat(n);return r["d"].get(a).then((function(e){return e.data}))},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.limit,a=void 0===n?r["e"]:n,s=t.offset,i=void 0===s?0:s,o=t.lastId,c=t.firstId,u=t.id,d=t.skip_users,l=Object(r["c"])({limit:a,offset:i,lastId:o,firstId:c,id:u,order:"desc",skip_users:d,skip_users_dups:1}),f="".concat(r["b"],"/chats/").concat(encodeURIComponent(e),"/messages").concat(l);return r["d"].get(f).then((function(e){return e.data}))},c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.query,a=Object(r["c"])({query:n}),s="".concat(r["b"],"/chats/").concat(encodeURIComponent(e),"/messages/search").concat(a);return r["d"].get(s).then((function(e){return e.data}))},u=function(e,t){var n="".concat(r["b"],"/chats/").concat(e,"/messages");return r["d"].post(n,t).then((function(e){return e.data}))},d=function(e){var t="".concat(r["b"],"/chats/").concat(e);return r["d"].delete(t).then((function(e){return e.data}))},l=function(e,t){var n="".concat(r["b"],"/messages/").concat(e);return r["d"].delete(n,{data:{withUserId:t}}).then((function(e){return e.data}))},f=function(){var e="".concat(r["b"],"/messages/queue");return r["d"].get(e).then((function(e){return e.data}))},m=function(e){var t="".concat(r["b"],"/messages/queue");return r["d"].post(t,e).then((function(e){return e.data}))},p=function(e,t){var n="".concat(r["b"],"/messages/queue/").concat(t);return r["d"].put(n,e).then((function(e){return e.data}))},h=function(e){var t="".concat(r["b"],"/messages/queue/").concat(e);return r["d"].delete(t).then((function(e){return e.data}))},b=function(e){var t="".concat(r["b"],"/chats/").concat(e,"/mark-as-read");return r["d"].post(t).then((function(e){return e.data}))},g=function(e){var t="".concat(r["b"],"/chats/").concat(e,"/mark-as-read");return r["d"].delete(t).then((function(e){return e.data}))},v=function(e){var t="".concat(r["b"],"/chats/mark-as-read");return r["d"].post(t,{data:{currentFiltersIds:e}}).then((function(e){return e.data}))},y=function(e,t){var n="".concat(r["b"],"/messages/").concat(e,"/like");return r["d"].post(n,{withUserId:t}).then((function(e){return e.data}))},w=function(e,t){var n="".concat(r["b"],"/messages/").concat(e,"/like");return r["d"].delete(n,{data:{withUserId:t}}).then((function(e){return e.data}))},O=function(e){var t="".concat(r["b"],"/chats/").concat(e,"/hide");return r["d"].post(t).then((function(e){return e.data}))},j=function(e){var t="".concat(r["b"],"/chats/").concat(e,"/mute");return r["d"].post(t).then((function(e){return e.data}))},k=function(e){var t="".concat(r["b"],"/chats/").concat(e,"/mute");return r["d"].delete(t).then((function(e){return e.data}))},S=function(e){var t=e.offset,n=void 0===t?0:t,a=e.limit,s=void 0===a?30:a,i=Object(r["c"])({offset:n,limit:s,format:"infinite"}),o="".concat(r["b"],"/messages/queue/stats").concat(i);return r["d"].get(o).then((function(e){return e.data}))},x=function(e){var t="".concat(r["b"],"/messages/queue/size");return r["d"].post(t,{queueBuyers:e}).then((function(e){return e.data}))},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.userId,n=e.offset,a=void 0===n?0:n,s=e.limit,i=e.filter,o=e.skipUsers,c=Object(r["c"])({order:"desc",limit:s,offset:a,filter:i,skip_users:o,skip_users_dups:1}),u="".concat(r["b"],"/chats/").concat(encodeURIComponent(t),"/media").concat(c);return r["d"].get(u).then((function(e){return e.data}))},I=function(e){var t=e.offset,n=void 0===t?0:t,a=e.skipUsers,s=Object(r["c"])({limit:r["e"],offset:n,skip_users:a}),i="".concat(r["b"],"/messages/scheduled").concat(s);return r["d"].get(i).then((function(e){return e.data}))},C=function(e){var t=e.queueId,n=e.limit,a=void 0===n?r["e"]:n,s=e.offset,i=void 0===s?0:s,o=e.skip_users,c=e.marker,u=Object(r["c"])({limit:a,offset:i,skip_users:o,skip_users_dups:1,marker:c}),d="".concat(r["b"],"/messages/queue/").concat(t,"/buyers").concat(u);return r["d"].get(d).then((function(e){return e.data}))},R=function(e){var t="".concat(r["b"],"/messages/").concat(e,"/hide");return r["d"].put(t).then((function(e){return e.data}))}},a8e2:function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return f})),n.d(t,"getters",(function(){return m})),n.d(t,"mutations",(function(){return p})),n.d(t,"actions",(function(){return h}));var r=n("7618"),a=(n("96cf"),n("3b8d")),s=(n("ac6a"),n("5df3"),n("4f7f"),n("75fc")),i=n("5e23"),o=n("56d7"),c=n("09e4"),u=n("559d"),d=n("c34b"),l=function(){return{items:{},itemIds:[],modalOffer:null}},f=l(),m={offers:function(e){return e.itemIds},getOffer:function(e){return function(t){return e.items[t]}},modalOffer:function(e){return e.modalOffer}},p={setLoading:function(e,t){e.loading=t},setPromotionOffers:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.itemIds,r=void 0===n?[]:n,a=t.more,i=void 0!==a&&a;e.itemIds=i?Object(s["a"])(new Set([].concat(Object(s["a"])(e.itemIds),Object(s["a"])(r)))):Object(s["a"])(r)},clearUnclaimedOffers:function(e){e.itemIds=e.itemIds.filter((function(t){return e.items[t].finishedAt}))},clearClaimedOffers:function(e){e.itemIds=e.itemIds.filter((function(t){return!e.items[t].finishedAt}))},unsetOffer:function(e,t){e.itemIds=e.itemIds.filter((function(e){return e!==t}))},setModalOffer:function(e,t){e.modalOffer=t},logout:function(e){Object.assign(e,l())}},h={fetchPromotionOffers:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,a,s,o,l,f,m,p,h,b=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,a=b.length>1&&void 0!==b[1]?b[1]:{},e.prev=2,s=a.more,s||n("setPromotionOffers"),e.next=7,Object(d["g"])(a);case 7:if(o=e.sent,n("setLoading",!1),!o||"object"!==Object(r["a"])(o)){e.next=20;break}if(l=o.users,f=o.offers,l&&(m=Object(i["a"])(l,u["y"]),n("set",m,{root:!0})),!f){e.next=18;break}return p=Object(i["a"])(f,u["h"]),h=p.result,n("set",p,{root:!0}),n("setPromotionOffers",{itemIds:h,more:s}),e.abrupt("return",h);case 18:e.next=22;break;case 20:return Object(c["c"])({error:new Error("typeof response is incorrect"),extra:{response:o}}),e.abrupt("return",[]);case 22:return e.abrupt("return",[]);case 25:return e.prev=25,e.t0=e["catch"](2),n("setLoading",!1),e.abrupt("return",[]);case 29:case"end":return e.stop()}}),e,null,[[2,25]])})));function t(t){return e.apply(this,arguments)}return t}(),deleteUnclaimedOffers:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,r=t.rootGetters,e.prev=1,e.next=4,Object(d["e"])();case 4:a=e.sent,n("setLoading",!1),a&&a.success&&(n("clearUnclaimedOffers"),s=r["auth/authUserId"],n("users/setUserField",{userId:s,field:"unclaimedOffersCount",status:0},{root:!0})),e.next=13;break;case 9:e.prev=9,e.t0=e["catch"](1),n("setLoading",!1),Object(c["b"])(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));function t(t){return e.apply(this,arguments)}return t}(),deleteUnclaimedOffer:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,s,i,u,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,a=t.rootGetters,s=n.offerId,i=n.userId,e.prev=2,e.next=5,Object(d["d"])(s);case 5:u=e.sent,u&&u.success&&(r("unsetOffer",s),l=a["users/getUser"](i),r("users/unsetUserOffer",{offerId:s,userId:i},{root:!0}),o["default"].$bvToast.toast(o["default"].$i18n.t("message.offer_cancelled",{NAME:l.displayName||l.name}),{autoHideDelay:5e3,appendToast:!0,toaster:"b-toaster-bottom-left"})),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](2),Object(c["b"])(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));function t(t,n){return e.apply(this,arguments)}return t}(),deleteClaimedOffers:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,r=t.rootGetters,e.prev=1,e.next=4,Object(d["b"])();case 4:a=e.sent,n("setLoading",!1),a&&a.success&&(n("clearClaimedOffers"),s=r["auth/authUserId"],n("users/setUserField",{userId:s,field:"claimedOffersCount",status:0},{root:!0})),e.next=13;break;case 9:e.prev=9,e.t0=e["catch"](1),n("setLoading",!1),Object(c["b"])(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));function t(t){return e.apply(this,arguments)}return t}()}},ad4d:function(e,t,n){"use strict";function r(){var e=!1;if("maxTouchPoints"in navigator)e=navigator.maxTouchPoints>0;else if("msMaxTouchPoints"in navigator)null!==navigator&&(e=navigator.msMaxTouchPoints>0);else{var t=window.matchMedia&&matchMedia("(pointer:coarse)");if(t&&"(pointer:coarse)"===t.media)e=!!t.matches;else if("orientation"in window)e=!0;else{var n=navigator.userAgent;e=/\b(BlackBerry|webOS|iPhone|IEMobile)\b/i.test(n)||/\b(Android|Windows Phone|iPad|iPod)\b/i.test(n)}}return e}n.d(t,"a",(function(){return a}));var a=r()},af6c:function(e,t,n){"use strict";n.r(t),n.d(t,"getFeedType",(function(){return S})),n.d(t,"state",(function(){return P})),n.d(t,"getters",(function(){return I})),n.d(t,"mutations",(function(){return C})),n.d(t,"actions",(function(){return R}));n("8e6e"),n("456d"),n("a481");var r=n("7618"),a=(n("96cf"),n("3b8d")),s=(n("c5f6"),n("5df3"),n("4f7f"),n("75fc")),i=(n("ac6a"),n("6762"),n("2fdb"),n("bd86")),o=n("5e23"),c=n("9b02"),u=n.n(c),d=n("56d7"),l=n("00e7"),f=n.n(l),m=n("559d"),p=n("2612"),h=n("09e4"),b=n("b775"),g=n("d931"),v=n("709f"),y=n("f1f7"),w=n("5892"),O=n("82ab");function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){Object(i["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var S=function(e){var t=e.locked,n=e.purchased;return t?"blurred":n?"purchased":"feed"},x=function(){return{items:{},itemIds:[],tempItemIds:{},feedItemIds:[],tempFeedItemIds:[],lastFeedItemIds:[],lastFeedType:null,lastProfileItemIds:{},hasPrevUserPostsToLoad:!1,currentPost:null,isPostsLoading:!1,error:!1,layout:f.a.get("wallLayout",{domain:".".concat("onlyfans.com")})||"grid",postPublishedCounter:0,hasNewOwnPostPublished:!1,offset:0,scrollToComments:!1,disabledPinsOrder:!1,hasPrevPostsToLoad:!1,votersList:{},votersMarker:void 0,pinnedIds:[],hasMore:{},currentFullscreenPostId:null,feedSettings:k({isHideLockedFeedPosts:!1,isHidePromoFeedPosts:!1,isHideFeedPostsProfileBanners:!1},JSON.parse(v["a"].getItem("feedSettings")||"{}")),userGetPostsError:!1,hasFeedBottomPostLoadError:!1,isProfileDataFetching:!1,postsFiltersCounter:{}}},P=x(),I={posts:function(e){return e.itemIds.map((function(t){return e.items[t]}))},postsPinned:function(e){return e.pinnedIds.map((function(t){return e.items[t]})).filter((function(e){return e&&!e.isReportedByMe}))},userPostItemIds:function(e){return e.itemIds},hasPrevUserPostsToLoad:function(e){return e.hasPrevUserPostsToLoad},postsIdsList:function(e){return e.feedItemIds},lastFeedItemIds:function(e){return e.lastFeedItemIds},tempFeedItemIds:function(e){return e.tempFeedItemIds},lastFeedType:function(e){return e.lastFeedType},feedPosts:function(e){return e.feedItemIds.map((function(t){return e.items[t]}))},filterExpiredposts:function(e){var t=+new Date;return e.itemIds.map((function(t){return e.items[t]})).filter((function(e){if(!e)return!1;if(e.expiredAt){var n=+new Date(e.expiredAt);if(n<=t)return!1}return!0}))},filterReportedPosts:function(e,t){return t.filterExpiredposts.filter((function(e){return!e.isReportedByMe}))},pinnedPostsIds:function(e){return e.pinnedIds},filterExpiredFeedposts:function(e){var t=+new Date;return e.feedItemIds.map((function(t){return e.items[t]})).filter((function(e){if(!e)return!1;if(e.expiredAt){var n=+new Date(e.expiredAt);if(n<=t)return!1}return!0}))},filterReportedFeedPosts:function(e,t){return t.filterExpiredFeedposts.filter((function(e){return!e.isReportedByMe}))},filterFeedPosts:function(e,t,n,r){var a=t.filterReportedFeedPosts,s=r["auth/authUserId"];e.feedSettings.isHidePromoFeedPosts&&(a=a.filter((function(e){return e.author===s||!(e.linkedPosts||[]).length&&!(e.linkedUsers||[]).length&&!e.hasUrl}))),e.feedSettings.isHideFeedPostsProfileBanners&&(a=a.map((function(e){return e.author===s?e:k(k({},e),{},{linkedUsers:[]})}))),e.feedSettings.isHideLockedFeedPosts&&(a=a.filter((function(e){return e.author===s||e.isMediaReady&&e.canViewMedia&&!(e.price&&!e.isOpened)})).map((function(e){return e.author!==s&&(e.linkedPosts||[]).length?k(k({},e),{},{linkedPosts:(e.linkedPosts||[]).filter((function(e){var n=(t.getPost(e)||[])[0];return!n||!n.id||(n.author===s||n.isMediaReady&&n.canViewMedia&&!(n.price&&!n.isOpened))}))}):e})));var i=n.usersLists.currentFiltersIds;return i.length&&(a=a.filter((function(e){var t=r["users/getUser"](e.author);return!(t&&t.listsStates&&t.listsStates.length)||t.listsStates.some((function(e){return e.hasUser&&i.includes(e.id)}))}))),a},totalPosts:function(e){return e.itemIds.length},hasPosts:function(e){return!!e.itemIds.length},getPost:function(e){return function(t){return e.items[t]?[k({},e.items[t])]:[]}},activePost:function(e){return[k({},e.items[e.currentPost])]},activePostId:function(e){return e.currentPost},hasActivePost:function(e){return!!e.currentPost},isPostsLoading:function(e){return e.isPostsLoading},isPostsError:function(e){return e.error},getLayout:function(e){return e.layout},isGridLayout:function(e){return"grid"===e.layout},postPublishedCounter:function(e){return e.postPublishedCounter},needScrollToComments:function(e){return e.scrollToComments},disabledPinsOrder:function(e){return e.disabledPinsOrder},postVoters:function(e){return function(t){return e.votersList[t]}},getLastProfileItemIds:function(e){return function(t,n){var r=[];return e.lastProfileItemIds[t]&&e.lastProfileItemIds[t].length&&e.lastProfileItemIds[t].forEach((function(e){n===e.postType&&r.push(e.id)})),r}},getTempItemIds:function(e){return function(t){return e.tempItemIds[t]?e.tempItemIds[t]:{pinnedPostsIds:[],userPostItemIds:[]}}},hasMore:function(e){return function(t){return!!e.hasMore[t]}},currentFullscreenPostId:function(e){return e.currentFullscreenPostId},postsFiltersCounter:function(e){return e.postsFiltersCounter}},C={saveFeedItemIds:function(e){e.tempFeedItemIds=e.feedItemIds,e.feedItemIds=[]},setLoading:function(e,t){e.isPostsLoading=t},setError:function(e,t){e.error=t},incrementPostCommentsCount:function(e,t){e.items[t]&&(e.items[t].commentsCount+=1)},decrementPostComment:function(e,t){e.items[t]&&e.items[t].commentsCount&&e.items[t].commentsCount>0&&(e.items[t].commentsCount-=1)},setItemIds:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e.itemIds=Object(s["a"])(new Set(Object(s["a"])(t)))},addItemIds:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e.itemIds=Object(s["a"])(new Set([].concat(Object(s["a"])(e.itemIds),Object(s["a"])(t))))},addNewItemIds:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e.itemIds=Object(s["a"])(new Set([].concat(Object(s["a"])(t),Object(s["a"])(e.itemIds))))},setFeedItemIds:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e.feedItemIds=Object(s["a"])(new Set(Object(s["a"])(t)))},setPinnedIds:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e.pinnedIds=t},resetFeedItemIds:function(e){e.feedItemIds=[],e.tempFeedItemIds=[]},addFeedItemIds:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e.feedItemIds=Object(s["a"])(new Set([].concat(Object(s["a"])(e.feedItemIds),Object(s["a"])(t))))},addNewFeedItemIds:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e.feedItemIds=Object(s["a"])(new Set([].concat(Object(s["a"])(t),Object(s["a"])(e.feedItemIds))))},setLastFeedItemIds:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e.lastFeedItemIds=t},setLastFeedType:function(e,t){e.lastFeedType=t},addLastFeedItemId:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e.lastFeedItemIds=Object(s["a"])(new Set([].concat(Object(s["a"])(e.lastFeedItemIds),Object(s["a"])(t))))},setPrevUserPostsToLoad:function(e,t){e.hasPrevUserPostsToLoad=t},setLastProfileItemId:function(e,t){var n=t.username,r=t.arr;n&&(e.lastProfileItemIds[n]=r)},addLastProfileItemId:function(e,t){var n=t.username,r=t.id,a=t.postType;n&&(void 0===e.lastProfileItemIds[n]&&(e.lastProfileItemIds[n]=[]),e.lastProfileItemIds[n].push({username:n,id:r,postType:a}))},setTempItemIds:function(e,t){var n=t.username,r=t.value;n&&(e.tempItemIds[n]=r)},setActivePost:function(e,t){e.currentPost=t},clearActivePost:function(e){e.currentPost=null},togglePostFavorite:function(e,t){if(e.items[t]&&e.items[t].id){var n=e.items[t].isFavorite;e.items[t].isFavorite=!n,n?e.items[t].favoritesCount-=1:e.items[t].favoritesCount+=1}},togglePostPin:function(e,t){var n=e.items[t].isPinned;e.items[t].isPinned=!n},toggleLayout:function(e){e.layout="grid"===e.layout?"list":"grid",d["default"].$cookie.set("wallLayout",e.layout,{domain:".".concat("onlyfans.com")})},deletePost:function(e,t){if(void 0!==e.items[t]){var n=k({},e.items);delete n[t];var r=e.itemIds.filter((function(e){return Number(e)!==Number(t)}));r.length!==e.itemIds.length&&(e.itemIds=r);var a=e.pinnedIds.filter((function(e){return Number(e)!==Number(t)}));a.length!==e.pinnedIds.length&&(e.pinnedIds=a);var s=e.feedItemIds.filter((function(e){return Number(e)!==Number(t)}));s.length!==e.feedItemIds.length&&(e.feedItemIds=s),e.items=n}},deletePostId:function(e,t){e.itemIds=e.itemIds.filter((function(e){return e!==t}))},deletePinnedPostId:function(e,t){e.pinnedIds=e.pinnedIds.filter((function(e){return e!==t}))},updatePost:function(e,t){var n=t.id;e.items[n]&&(e.items[n].fundRaising&&!t.fundRaising&&delete e.items[n].fundRaising,e.items[n]=k(k({},e.items[n]),t)),t&&t.fundRaising&&t.fundRaising.targetProgress&&e.items[n]&&e.items[n].tipsAmount&&(e.items[n].tipsAmountRaw=Number(t.fundRaising.targetProgress),e.items[n].tipsAmount=Object(y["b"])(e.items[n].tipsAmountRaw))},incPostPublishedCounter:function(e){e.postPublishedCounter+=1},setPostPublishedCounter:function(e,t){e.postPublishedCounter=t},setHasNewOwnPostPublished:function(e,t){e.hasNewOwnPostPublished=t},resetPostPublishedCounter:function(e){e.postPublishedCounter=0},setPrevPostsToLoad:function(e,t){e.hasPrevPostsToLoad=t},setStreamEvents:function(e,t){var n=t.events,r=t.postId;e.items[r].streamEvents=n},setPostFavorites:function(e,t){var n=t.postId,r=t.list,a=t.more;e.items[n].favoritesList=a?Object(s["a"])(new Set([].concat(Object(s["a"])(e.items[n].favoritesList),Object(s["a"])(r)))):r},setPostTips:function(e,t){var n=t.postId,r=t.list,a=t.more;e.items[n].tipsList=a?Object(s["a"])(new Set([].concat(Object(s["a"])(e.items[n].tipsList),Object(s["a"])(r)))):r},setPostBuyers:function(e,t){var n=t.postId,r=t.list,a=t.more;e.items[n].buyersList=a?Object(s["a"])(new Set([].concat(Object(s["a"])(e.items[n].buyersList),Object(s["a"])(r)))):r},updatePostInBookmarks:function(e,t){var n=t.id,r=t.isAdded;e.items[n].isAddedToBookmarks=r},setOffset:function(e,t){e.offset=Number(t)},setScrollToComments:function(e,t){e.scrollToComments=t},updatePostTips:function(e,t){var n=t.postId,r=t.amount;if(n&&r&&e.items[n]){var a=e.items[n].tipsAmountRaw+Number(r);e.items[n].tipsAmountRaw=a,e.items[n].tipsAmount=Object(y["b"])(a)}},setDisabledPinsOrder:function(e,t){e.disabledPinsOrder=t},setHasMore:function(e,t){var n=t.type,r=t.value;e.hasMore=k(k({},e.hasMore),{},Object(i["a"])({},n,r))},setUserGetPostsError:function(e,t){e.userGetPostsError=t},setVotersMarker:function(e,t){e.votersMarker=t},setCurrentFullscreenPostId:function(e,t){e.currentFullscreenPostId=t},toggleIsHideLockedFeedPosts:function(e){e.feedSettings.isHideLockedFeedPosts=!e.feedSettings.isHideLockedFeedPosts,v["a"].setItem("feedSettings",JSON.stringify(e.feedSettings))},toggleIsHidePromoFeedPosts:function(e){e.feedSettings.isHidePromoFeedPosts=!e.feedSettings.isHidePromoFeedPosts,v["a"].setItem("feedSettings",JSON.stringify(e.feedSettings))},toggleIsHideFeedPostsProfileBanners:function(e){e.feedSettings.isHideFeedPostsProfileBanners=!e.feedSettings.isHideFeedPostsProfileBanners,v["a"].setItem("feedSettings",JSON.stringify(e.feedSettings))},filterHiddenUserFeedPosts:function(e,t){e.feedItemIds=e.feedItemIds.filter((function(n){return e.items[n].author!==t}))},setPostIsReportedByMe:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e.items[t]&&(e.items[t]=k(k({},e.items[t]),{},{isReportedByMe:!0}))},setPostsFiltersCounter:function(e,t){e.postsFiltersCounter=t},resetPostsFiltersCounter:function(e){e.postsFiltersCounter={}},resetPosts:function(e){e.items={},e.postsFiltersCounter={},e.itemIds=[]},setFeedBottomPostLoadError:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.hasFeedBottomPostLoadError=t},setIsProfileDataFetching:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.isProfileDataFetching=t},setPostIsReportedByMeTemp:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e.items[t]&&(e.items[t]=k(k({},e.items[t]),{},{isReportedByMeTemp:!0}))},logout:function(e){Object.assign(e,x())}},R={fetchPosts:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,a,s,i,c,l,f,p,g,v,y,O,j,k,x,P,I,C,R,T,_,A,L,E,M,U,D,F,B,N,q,V,$,H=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,a=t.state,s=t.rootGetters,i=t.dispatch,c=H.length>1&&void 0!==H[1]?H[1]:{},l=c.locked,f=c.purchased,p=c.limit,g=void 0===p?b["e"]:p,v=c.more,y=void 0!==v&&v,O=c.addNew,j=void 0!==O&&O,k=c.query,x=c.beforePublishTime,P=c.afterPublishTime,I=c.direction,C=c.list_id,R=c.user,T=c.needFullResponse,_=void 0!==T&&T,A=!1,L=d["default"].$watch("$route",(function(){A=!0})),E=Object(b["f"])("fetchPosts"),M=E.cancelToken,U=E.isCancelled,D=E.Cancel,U&&n("setLoading",!1),F=S({locked:l,purchased:f}),n("setLoading",!0),y||n("setOffset",0),y||"bottom"!==I||n("setHasMore",{value:!1,type:F}),!f&&!l||y||n("resetFeedItemIds"),B={},N=s["users/needSkipUsersOnFeed"]?"all":void 0,n("setFeedBottomPostLoadError",!1),e.prev=14,e.next=17,Object(w["q"])({locked:l,purchased:f,limit:g,offset:a.offset,query:k,cancelToken:M,skipUsers:N,beforePublishTime:x,afterPublishTime:P,list_id:C,user:R});case 17:if(B=e.sent,L(),!A){e.next=21;break}return e.abrupt("return");case 21:e.next=35;break;case 23:if(e.prev=23,e.t0=e["catch"](14),e.t0 instanceof D){e.next=34;break}if(n("setLoading",!1),!R||404!==e.t0.status||"User not found"!==u()(e.t0,"data.error.message")){e.next=30;break}return n("setFeedItemIds",[]),e.abrupt("return");case 30:throw"Feed"===d["default"].$route.name&&"bottom"===I&&n("setFeedBottomPostLoadError",!0),e.t0;case 34:return e.abrupt("return");case 35:if(B&&"object"===Object(r["a"])(B)){e.next=38;break}return Object(h["c"])({error:new Error("typeof response is incorrect"),extra:{response:B}}),e.abrupt("return",[]);case 38:if(q=B.list,V=Object(o["a"])(q,m["l"]),!N){e.next=43;break}return e.next=43,i("users/getUsersIfNeeded",V,{root:!0});case 43:return n("set",V,{root:!0}),$=V.result,n("setOffset",a.offset+g),n("setLoading",!1),y?n("addFeedItemIds",$):j?n("addNewFeedItemIds",$):(n("setFeedItemIds",$),n("resetPostPublishedCounter")),"bottom"===I&&n("setHasMore",{value:B.hasMore,type:F}),("top"===I&&!B.hasMore||!x&&!P)&&n("setHasNewOwnPostPublished",!1),e.abrupt("return",_?B:q);case 51:case"end":return e.stop()}}),e,null,[[14,23]])})));function t(t){return e.apply(this,arguments)}return t}(),fetchBookmarkPosts:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,s,i,c,u,d,l,f,p,g,v,y,O,j,k,S,x,P,I,C,R,T=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,r=t.rootGetters,a=t.dispatch,s=T.length>1&&void 0!==T[1]?T[1]:{},i=s.limit,c=s.offset,u=s.more,d=void 0!==u&&u,l=s.addNew,f=void 0!==l&&l,p=s.query,g=s.type,v=void 0===g?"":g,y=s.filter,O=s.order,j=Object(b["f"])("fetchPosts"),k=j.cancelToken,S=j.isCancelled,x=j.Cancel,S&&n("setLoading",!1),n("setLoading",!0),d||n("resetFeedItemIds"),I=r["users/needSkipUsersOnFeed"]?"all":void 0,e.prev=7,e.next=10,Object(w["i"])({type:v,limit:i,offset:c,query:p,cancelToken:k,filter:y,order:O,skipUsers:I});case 10:P=e.sent,e.next=17;break;case 13:return e.prev=13,e.t0=e["catch"](7),e.t0 instanceof x||n("setLoading",!1),e.abrupt("return",[]);case 17:if(P&&Array.isArray(P)){e.next=21;break}return Object(h["c"])({error:new Error("typeof response is incorrect"),extra:{response:P}}),n("setLoading",!1),e.abrupt("return",[]);case 21:if(C=Object(o["a"])(P,m["l"]),!I){e.next=25;break}return e.next=25,a("users/getUsersIfNeeded",C,{root:!0});case 25:return n("set",C,{root:!0}),R=C.result,d?n("addFeedItemIds",R):f?n("addNewFeedItemIds",R):(n("setFeedItemIds",R),n("resetPostPublishedCounter")),n("setLoading",!1),e.abrupt("return",P);case 30:case"end":return e.stop()}}),e,null,[[7,13]])})));function t(t){return e.apply(this,arguments)}return t}(),fetchUserPosts:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,a,s,i,c,u,d,l,f,g,v,y,w,O,j,S,x,P,I,C,R,T,_,A,L,E,M,U,D,F=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.commit,a=t.dispatch,s=F.length>1&&void 0!==F[1]?F[1]:{},i=s.id,c=s.limit,u=s.more,d=void 0!==u&&u,l=s.addNew,f=void 0!==l&&l,g=s.type,v=void 0===g?"posts":g,y=s.query,w=s.order,O=s.filter,j=s.beforePublishTime,S=s.afterPublishTime,x=s.pinned,P=s.needFullResponse,I=void 0!==P&&P,"friends"!==v&&"spotify"!==v&&"links-i-like"!==v&&"shopify"!==v){e.next=4;break}return e.abrupt("return");case 4:if("streams"!==v){e.next=7;break}return n("setItemIds"),e.abrupt("return");case 7:return C=Object(b["f"])("fetchPosts"),R=C.cancelToken,T=C.Cancel,v&&"posts"!==v&&Object(b["f"])("fetchPostsPinned"),n("setLoading",!0),d||f||n("setItemIds"),n("setUserGetPostsError",!1),e.prev=12,A={id:i,limit:c,type:v,query:y,order:w,filter:O,pinned:x,cancelToken:R},(j||S)&&(w&&"asc"===w.slice(w.length-3)&&(L=[S,j],j=L[0],S=L[1]),A=k(k({},A),{},{beforePublishTime:j,afterPublishTime:S})),e.next=17,Object(p["F"])(A);case 17:_=e.sent,e.next=27;break;case 20:if(e.prev=20,e.t0=e["catch"](12),e.t0 instanceof T){e.next=26;break}throw n("setLoading",!1),n("setUserGetPostsError",!0),e.t0;case 26:return e.abrupt("return");case 27:if(_&&"object"===Object(r["a"])(_)){e.next=31;break}throw Object(h["c"])({error:new Error("typeof response is incorrect"),extra:{response:_}}),n("setLoading",!1),new Error("Not object");case 31:return E=_.list,M=_.counters,n("setHasMore",{value:_.hasMore,type:v}),M&&n("setPostsFiltersCounter",M),U=Object(o["a"])(E,m["l"]),e.next=38,a("users/getUsersIfNeeded",U,{root:!0});case 38:return n("set",U,{root:!0}),D=U.result,n(d?"addItemIds":f?"addNewItemIds":"setItemIds",D),n("setLoading",!1),e.abrupt("return",I?_:E);case 43:case"end":return e.stop()}}),e,null,[[12,20]])})));function t(t){return e.apply(this,arguments)}return t}(),fetchUserPostsByType:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,s,i,o,c,u,l,f,m;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,r=t.rootGetters,a=t.dispatch,e.prev=1,n("setPrevUserPostsToLoad",!1),s=r["users/userId"],i=d["default"].$route.query,o=i.order,c=i.filter,u=i.q,l=d["default"].$route.params.postType,f={id:s,type:l,query:u,order:o,filter:c},m="Profile"===d["default"].$route.name&&!d["default"].$route.query.filter&&(!d["default"].$route.query.order||"publish_date_asc"===d["default"].$route.query.order),m&&(f.pinned=0),e.next=11,a("fetchUserPosts",f);case 11:e.next=15;break;case 13:e.prev=13,e.t0=e["catch"](1);case 15:case"end":return e.stop()}}),e,null,[[1,13]])})));function t(t){return e.apply(this,arguments)}return t}(),fetchPostsPinned:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,s,i,c,l,f,h,g;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.commit,r=t.rootGetters,a=t.dispatch,s=Object(b["f"])("fetchPostsPinned"),i=s.cancelToken,e.prev=2,c=r["users/userId"],n("setPinnedIds"),l=d["default"].$route.query.filter||d["default"].$route.query.order,!l||"publish_date_asc"===l){e.next=10;break}n("setPinnedIds"),e.next=20;break;case 10:return e.next=12,Object(p["G"])({id:c,cancelToken:i});case 12:if(f=e.sent,h=u()(f,"list",!1),!h||!h.length){e.next=20;break}return g=Object(o["a"])(h,m["l"]),e.next=18,a("users/getUsersIfNeeded",g,{root:!0});case 18:n("set",g,{root:!0}),n("setPinnedIds",g.result);case 20:e.next=24;break;case 22:e.prev=22,e.t0=e["catch"](2);case 24:case"end":return e.stop()}}),e,null,[[2,22]])})));function t(t){return e.apply(this,arguments)}return t}(),fetchPost:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,a,s,i,c,d,l,f,p,b,g,v,y,O,j,k=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.commit,a=t.state,s=t.rootGetters,i=t.dispatch,c=k.length>1&&void 0!==k[1]?k[1]:{},d=c.id,l=c.active,f=void 0!==l&&l,p=c.onlyExisted,b=void 0!==p&&p,g=c.skipUsers,v=void 0===g?s["users/needSkipUsersOnFeed"]?"all":void 0:g,!b||a.items[d]){e.next=4;break}return e.abrupt("return",[]);case 4:return n("setLoading",!0),e.prev=5,e.next=8,Object(w["l"])(d,v);case 8:y=e.sent,e.next=16;break;case 11:return e.prev=11,e.t0=e["catch"](5),n("setLoading",!1),n("setError",!0),e.abrupt("return",[]);case 16:if(y&&"object"===Object(r["a"])(y)){e.next=19;break}return Object(h["c"])({error:new Error("typeof response is incorrect"),extra:{post:y}}),e.abrupt("return",[]);case 19:if(f&&n("setActivePost",+y.id),O=Object(o["a"])(y,m["m"]),!v){e.next=24;break}return e.next=24,i("users/getUsersIfNeeded",O,{root:!0});case 24:return j=u()(O,"entities.posts[".concat(y.id,"]"))?O.entities.posts[y.id]:y,n("updatePost",j),n("set",O,{root:!0}),n("setLoading",!1),e.abrupt("return",y);case 29:case"end":return e.stop()}}),e,null,[[5,11]])})));function t(t){return e.apply(this,arguments)}return t}(),setPost:function(e,t){var n,r=e.commit,a=Object(o["a"])(t,m["m"]);n=u()(a,"entities.posts[".concat(t.id,"]"))?a.entities.posts[t.id]:t,r("updatePost",n),r("set",a,{root:!0})},postPublished:function(e,t){var n=e.commit,r=e.rootGetters,a=t.id,s=t.userId;if(a){var i=r["auth/authUserId"];Number(i)!==Number(s)&&n("incPostPublishedCounter"),n("setHasNewOwnPostPublished",!0)}},favoritePost:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var a,s,i,c,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.commit,s=n.id,i=n.authorId,a("togglePostFavorite",s),e.prev=3,e.next=6,Object(w["h"])({id:s,authorId:i});case 6:c=e.sent,c&&"object"===Object(r["a"])(c)?(u=Object(o["a"])(c,m["m"]),a("set",u,{root:!0})):Object(h["c"])({error:new Error("typeof response is incorrect"),extra:{response:c}}),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](3),a("togglePostFavorite",s);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));function t(t,n){return e.apply(this,arguments)}return t}(),pinPostAction:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,i,o,c,u,l,f,m,p,h,b,g,v,y,O;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,a=t.state,i=t.dispatch,o=t.rootGetters,c=n.id,u=n.userId,e.prev=2,e.next=5,Object(w["t"])(c);case 5:l=e.sent,f=d["default"].$route.query.filter||d["default"].$route.query.order&&"publish_date_asc"!==d["default"].$route.query.order?void 0:0,l&&l.success&&(r("togglePostPin",c),m=a.items[c],m&&(p=o["auth/authUser"],h=m.isPinned?p.pinnedPostsCount+1:p.pinnedPostsCount-1,r("users/setUserField",{userId:p.id,field:"pinnedPostsCount",status:h},{root:!0}),r("users/setUserField",{userId:p.id,field:"hasPinnedPosts",status:h>0},{root:!0}),"Profile"===d["default"].$route.name&&0===f&&(m.isPinned?(r("deletePostId",c),r("setPinnedIds",[c].concat(Object(s["a"])(a.pinnedIds)))):(r("deletePinnedPostId",c),b=d["default"].$route.params.postType,g=d["default"].$route.query,v=g.q,y=g.order,O=g.filter,i("fetchUserPosts",{id:u,type:b,query:v,order:y,filter:O,pinned:f}))))),e.next=13;break;case 10:throw e.prev=10,e.t0=e["catch"](2),e.t0;case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));function t(t,n){return e.apply(this,arguments)}return t}(),deletePost:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.prev=1,e.next=4,Object(w["e"])(n);case 4:if(a=e.sent,a&&a.counters&&(r("users/updateUserCounters",a.counters,{root:!0}),r("setPostsFiltersCounter",a.counters)),!a||!a.success){e.next=9;break}return r("deletePost",n),e.abrupt("return",!0);case 9:e.next=15;break;case 11:return e.prev=11,e.t0=e["catch"](1),Object(h["b"])(e.t0),e.abrupt("return",!1);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[1,11]])})));function t(t,n){return e.apply(this,arguments)}return t}(),hidePost:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,s,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=t.commit,a=t.state,s=t.dispatch,e.prev=1,i=a.items[n],!i||"post"!==i.responseType){e.next=9;break}return e.next=6,Object(w["s"])(n);case 6:o=e.sent,e.next=12;break;case 9:return e.next=11,s("chats/hideMessage",n,{root:!0});case 11:o=e.sent;case 12:o&&o.success&&("Post"===d["default"].$route.name?r("setPostIsReportedByMe",n):r("deletePost",n)),e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](1),Object(h["b"])(e.t0);case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));function t(t,n){return e.apply(this,arguments)}return t}(),fetchStreamEvents:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,s,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,a=t.rootGetters,s=n.streamId,i=n.postId,e.prev=2,e.next=5,Object(O["d"])(s);case 5:o=e.sent,o&&o.length&&(o=o.reduce((function(e,t){switch(t.type){case"join":case"left":return e;case"tips":t.data.comment=Object(g["e"])({vm:d["default"],authUser:a["auth/authUser"],fromUser:t.data.user,toUser:t.data.toUser,amount:"$".concat(t.data.amount.toFixed(2).replace(".00","")),message:t.data.message}),t.type="comment";break;default:break}return t.time=parseFloat(t.time),e.push(t),e}),[]),r("setStreamEvents",{events:o,postId:i})),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](2),Sentry.captureException(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));function t(t,n){return e.apply(this,arguments)}return t}(),fetchFavoritesList:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,s,i,c,u,d,l,f,p;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,a=t.state,s=n.postId,i=n.offset,c=void 0===i?0:i,u=n.more,d=void 0!==u&&u,e.prev=2,e.next=5,Object(w["j"])({postId:s,offset:c});case 5:l=e.sent,l&&l.list&&(f=Object(o["a"])(l.list,m["y"]),r("set",f,{root:!0}),a.items[s]||(p=Object(o["a"])({id:s},m["m"]),r("set",p,{root:!0})),r("setPostFavorites",{postId:s,list:f.result,more:d})),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](2),r("setError",!0);case 12:return e.abrupt("return",l);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));function t(t,n){return e.apply(this,arguments)}return t}(),fetchTipsList:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,s,i,c,u,d,l,f,p;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,a=t.state,s=n.postId,i=n.offset,c=void 0===i?0:i,u=n.more,d=void 0!==u&&u,e.prev=2,e.next=5,Object(w["r"])({postId:s,offset:c});case 5:l=e.sent,l&&l.list&&(f=Object(o["a"])(l.list,m["y"]),r("set",f,{root:!0}),a.items[s]||(p=Object(o["a"])({id:s},m["m"]),r("set",p,{root:!0})),r("setPostTips",{postId:s,list:f.result,more:d})),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](2),r("setError",!0);case 12:return e.abrupt("return",l);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));function t(t,n){return e.apply(this,arguments)}return t}(),fetchBuyersList:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,s,i,c,u,d,l,f,p;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,a=t.state,s=n.postId,i=n.offset,c=void 0===i?0:i,u=n.more,d=void 0!==u&&u,e.prev=2,e.next=5,Object(w["k"])({postId:s,offset:c});case 5:return l=e.sent,l&&l.list&&(a.items[s]||(f=Object(o["a"])({id:s},m["m"]),r("set",f,{root:!0})),p=Object(o["a"])(l.list,m["y"]),r("set",p,{root:!0}),r("setPostBuyers",{postId:s,list:p.result,more:d})),e.abrupt("return",l);case 10:return e.prev=10,e.t0=e["catch"](2),r("setError",!0),e.abrupt("return",{});case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));function t(t,n){return e.apply(this,arguments)}return t}(),fetchVotersList:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,c,u,d,l,f,p,h,b,g;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,a=t.state,c=n.postId,u=n.offset,d=void 0===u?0:u,l=n.optionId,f=n.more,p=void 0!==f&&f,e.prev=2,p||r("setVotersMarker"),e.next=6,Object(w["p"])({postId:c,optionId:l,offset:d,marker:a.votersMarker});case 6:return h=e.sent,h&&h.list&&(h.marker&&r("setVotersMarker",h.marker),a.items[c]||(b=Object(o["a"])({id:c},m["m"]),r("set",b,{root:!0})),g=Object(o["a"])(h.list,m["y"]),r("set",g,{root:!0}),r("set",{entities:{votersList:Object(i["a"])({},l,p?Object(s["a"])(new Set([].concat(Object(s["a"])(a.votersList[l]||[]),Object(s["a"])(g.result)))):g.result)}},{root:!0})),e.abrupt("return",h);case 11:return e.prev=11,e.t0=e["catch"](2),r("setError",!0),e.abrupt("return",{});case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));function t(t,n){return e.apply(this,arguments)}return t}(),addPostToBookmarks:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,a=n.id,s=n.authorId,e.prev=2,e.next=5,Object(w["b"])(a,s);case 5:i=e.sent,e.next=10;break;case 8:e.prev=8,e.t0=e["catch"](2);case 10:i&&i.success&&r("updatePostInBookmarks",{id:a,isAdded:!0});case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));function t(t,n){return e.apply(this,arguments)}return t}(),removePostFromBookmarks:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.prev=1,e.next=4,Object(w["u"])(n);case 4:a=e.sent,e.next=9;break;case 7:e.prev=7,e.t0=e["catch"](1);case 9:a&&a.success&&r("updatePostInBookmarks",{id:n,isAdded:!1});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));function t(t,n){return e.apply(this,arguments)}return t}(),toggleArchivePost:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,s,i,c,l,f;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=t.commit,a=t.state,s=a.items[n],s){e.next=4;break}return e.abrupt("return");case 4:if(e.prev=4,!s.isArchived){e.next=11;break}return e.next=8,Object(w["x"])(n);case 8:e.t0=e.sent,e.next=14;break;case 11:return e.next=13,Object(w["c"])(n);case 13:e.t0=e.sent;case 14:i=e.t0,i&&i.counters&&(r("users/updateUserCounters",i.counters,{root:!0}),r("setPostsFiltersCounter",i.counters)),i&&i.post&&(s=i.post,c=d["default"].$createElement("span",{domProps:{innerHTML:d["default"].$i18n.t(s.isArchived?"message.post_moved_to_archive_toast":"message.post_moved_from_archive_toast",{POST_URL:"/".concat(s.id,"/").concat(s.author.username),ARCHIVE_URL:"/".concat(s.author.username,"/archived")})},on:{click:b["g"]}}),d["default"].$bvToast.toast([c],{autoHideDelay:5e3,appendToast:!0,toaster:"b-toaster-bottom-left"}),l=Object(o["a"])(s,m["m"]),f=u()(l,"entities.posts[".concat(s.id,"]"))?l.entities.posts[s.id]:s,r("updatePost",f),r("set",l,{root:!0}),r("setFeedItemIds",a.feedItemIds.filter((function(e){return e!==n}))),r("deletePostId",n),r("deletePinnedPostId",n),delete i.post,Object.keys(i).forEach((function(e){r("users/setUserField",{userId:s.author.id,field:e,status:i[e]},{root:!0})}))),e.next=22;break;case 19:e.prev=19,e.t1=e["catch"](4),Object(h["b"])(e.t1);case 22:case"end":return e.stop()}}),e,null,[[4,19]])})));function t(t,n){return e.apply(this,arguments)}return t}(),savePinsOrder:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.prev=1,r("setDisabledPinsOrder",!0),e.next=5,Object(w["v"])(n);case 5:a=e.sent,r("setDisabledPinsOrder",!1),a&&a.length&&r("setPinnedIds",a),e.next=14;break;case 10:e.prev=10,e.t0=e["catch"](1),r("setDisabledPinsOrder",!1),Object(h["b"])(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));function t(t,n){return e.apply(this,arguments)}return t}()}},af89:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n("a481"),n("ac6a"),n("456d"),n("3b2b");var r=n("bba4"),a=n.n(r),s=function(e){var t=new RegExp(/^ondato/gi),n=new RegExp(/ondato/gi);return Object.keys(e).reduce((function(r,s){var i=n.test(s)||t.test(s);if(!i)return r[s]=e[s],r;var o=s.replace(/ondato/gi,"IV");return r[a()(o)]=e[s],r}),{})}},b054:function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return i})),n.d(t,"getters",(function(){return o})),n.d(t,"mutations",(function(){return c})),n.d(t,"actions",(function(){return u}));n("96cf");var r=n("3b8d"),a=n("2612"),s=function(){return{data:null,loading:!1,error:null}},i=s(),o={statsData:function(e){return e.data},loading:function(e){return e.loading},error:function(e){return e.error}},c={setLoading:function(e,t){e.loading=t},setError:function(e,t){e.error=t},setData:function(e,t){e.data=t},reset:function(e){e.data=null,e.loading=!1,e.error=null},logout:function(e){Object.assign(e,s())}},u={fetchStat:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,n("setLoading",!0),e.prev=2,e.next=5,Object(a["H"])();case 5:r=e.sent,n("setData",r),n("setLoading",!1),e.next=14;break;case 10:e.prev=10,e.t0=e["catch"](2),n("setLoading",!1),n("setError",e.t0);case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));function t(t){return e.apply(this,arguments)}return t}(),resetStat:function(e){var t=e.commit;t("reset")}}},b2d7:function(e,t,n){var r={"./ar":["300e","vendor"],"./ar.js":["300e","vendor"],"./az":["c143","vendor"],"./az.js":["c143","vendor"],"./bg":["f5ba","chunk-f1664542"],"./bg.js":["f5ba","chunk-f1664542"],"./ca":["42dc","vendor"],"./ca.js":["42dc","vendor"],"./cs":["8019","vendor"],"./cs.js":["8019","vendor"],"./da":["0b0f","vendor"],"./da.js":["0b0f","vendor"],"./de":["7d74","chunk-a66a5cba"],"./de.js":["7d74","chunk-a66a5cba"],"./el":["24ce","chunk-f1664542"],"./el.js":["24ce","chunk-f1664542"],"./en":["243b","chunk-a66a5cba"],"./en.js":["243b","chunk-a66a5cba"],"./es":["796a","chunk-a66a5cba"],"./es.js":["796a","chunk-a66a5cba"],"./et":["80af","chunk-a66a5cba"],"./et.js":["80af","chunk-a66a5cba"],"./eu":["221e","chunk-a66a5cba"],"./eu.js":["221e","chunk-a66a5cba"],"./fa":["0950","chunk-a66a5cba"],"./fa.js":["0950","chunk-a66a5cba"],"./fi":["8c7c","chunk-410a469c"],"./fi.js":["8c7c","chunk-410a469c"],"./fr":["8f76","chunk-a66a5cba"],"./fr.js":["8f76","chunk-a66a5cba"],"./he":["4702","chunk-a66a5cba"],"./he.js":["4702","chunk-a66a5cba"],"./hi":["e586","chunk-410a469c"],"./hi.js":["e586","chunk-410a469c"],"./hr":["ed81","chunk-410a469c"],"./hr.js":["ed81","chunk-410a469c"],"./hu":["1565","chunk-a66a5cba"],"./hu.js":["1565","chunk-a66a5cba"],"./id":["306c","chunk-410a469c"],"./id.js":["306c","chunk-410a469c"],"./it":["a23b","chunk-a66a5cba"],"./it.js":["a23b","chunk-a66a5cba"],"./ja":["f9b0","chunk-a66a5cba"],"./ja.js":["f9b0","chunk-a66a5cba"],"./ka":["59ea","chunk-f1664542"],"./ka.js":["59ea","chunk-f1664542"],"./ko":["3100","chunk-f1664542"],"./ko.js":["3100","chunk-f1664542"],"./lt":["8bfe","chunk-410a469c"],"./lt.js":["8bfe","chunk-410a469c"],"./lv":["ec0d","chunk-a66a5cba"],"./lv.js":["ec0d","chunk-a66a5cba"],"./mn":["a1ea","chunk-f1664542"],"./mn.js":["a1ea","chunk-f1664542"],"./ms_MY":["fb4d","chunk-a66a5cba"],"./ms_MY.js":["fb4d","chunk-a66a5cba"],"./nb_NO":["8852","chunk-410a469c"],"./nb_NO.js":["8852","chunk-410a469c"],"./ne":["8062","chunk-410a469c"],"./ne.js":["8062","chunk-410a469c"],"./nl":["6d2f","chunk-410a469c"],"./nl.js":["6d2f","chunk-410a469c"],"./nn_NO":["8e9d","chunk-410a469c"],"./nn_NO.js":["8e9d","chunk-410a469c"],"./pl":["beaf","chunk-a66a5cba"],"./pl.js":["beaf","chunk-a66a5cba"],"./pt_BR":["229e","chunk-a66a5cba"],"./pt_BR.js":["229e","chunk-a66a5cba"],"./pt_PT":["3b0e","chunk-a66a5cba"],"./pt_PT.js":["3b0e","chunk-a66a5cba"],"./ro":["a754","chunk-a66a5cba"],"./ro.js":["a754","chunk-a66a5cba"],"./ru":["b451","chunk-410a469c"],"./ru.js":["b451","chunk-410a469c"],"./sk":["bfec","chunk-a66a5cba"],"./sk.js":["bfec","chunk-a66a5cba"],"./sl":["7e84","chunk-a66a5cba"],"./sl.js":["7e84","chunk-a66a5cba"],"./sq":["7b10","chunk-a66a5cba"],"./sq.js":["7b10","chunk-a66a5cba"],"./sr":["ed05","chunk-f1664542"],"./sr.js":["ed05","chunk-f1664542"],"./sr_Latin":["6764","chunk-410a469c"],"./sr_Latin.js":["6764","chunk-410a469c"],"./sv":["4826","chunk-410a469c"],"./sv.js":["4826","chunk-410a469c"],"./th":["c666","chunk-410a469c"],"./th.js":["c666","chunk-410a469c"],"./tr":["4b1e","chunk-410a469c"],"./tr.js":["4b1e","chunk-410a469c"],"./uk":["a038","chunk-f1664542"],"./uk.js":["a038","chunk-f1664542"],"./vi":["bebc","chunk-a66a5cba"],"./vi.js":["bebc","chunk-a66a5cba"],"./zh_CN":["fd7a","chunk-410a469c"],"./zh_CN.js":["fd7a","chunk-410a469c"],"./zh_TW":["427f","chunk-410a469c"],"./zh_TW.js":["427f","chunk-410a469c"]};function a(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],a=t[0];return n.e(t[1]).then((function(){return n.t(a,7)}))}a.keys=function(){return Object.keys(r)},a.id="b2d7",e.exports=a},b48d:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isLink?n("router-link",{staticClass:"g-avatar",class:e.classes,attrs:{to:{name:"Profile",params:{userId:e.userComputed.username}},event:""},nativeOn:{click:function(t){return t.preventDefault(),e.clickOnAvatarHandler(t)}}},[n("image-thumb",{attrs:{user:e.userComputed,size:e.size}}),!e.isShowRestricted||e.shareResponse||e.scheduledStream?e._e():n("span",{staticClass:"g-avatar__mute-label"},[n("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-mute"})]),!e.isShowLive||e.shareResponse||e.scheduledStream?e._e():n("span",{staticClass:"g-avatar__live-label"},[n("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-live"})]),e.scheduledStream&&!e.shareResponse?n("span",{staticClass:"g-avatar__live-label"},[n("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-calendar"})]):e._e(),e.shareResponse&&!e.scheduledStream?n("span",{staticClass:"g-avatar__live-label"},[n("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-compose"})]):e._e(),n("modal-confirm",{attrs:{"modal-show":e.isShowStreamConfirm,title:this.$i18n.t("message.join_stream"),text:e.streamPaymentMessage,"agree-btn":this.$i18n.t("message.confirm_button"),"close-on-agree":"","close-on-cancel":""},on:{"update:modalShow":function(t){e.isShowStreamConfirm=t},"update:modal-show":function(t){e.isShowStreamConfirm=t},"on-agree":function(){return e.payForStream(e.userStream,e.userComputed,!0)}}}),e._t("default")],2):n("span",{staticClass:"g-avatar",class:e.classes},[n("image-thumb",{attrs:{user:e.userComputed,size:e.size}}),!e.isShowRestricted||e.shareResponse||e.scheduledStream?e._e():n("span",{staticClass:"g-avatar__mute-label"},[n("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-mute"})]),!e.isShowLive||e.shareResponse||e.scheduledStream?e._e():n("span",{staticClass:"g-avatar__live-label"},[n("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-live"})]),e.scheduledStream&&!e.shareResponse?n("span",{staticClass:"g-avatar__live-label"},[n("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-calendar"})]):e._e(),e.shareResponse&&!e.scheduledStream?n("span",{staticClass:"g-avatar__plus-label"},[n("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-compose"})]):e._e(),e._t("default")],2)},a=[],s=(n("8e6e"),n("96cf"),n("3b8d")),i=(n("a481"),n("7514"),n("ac6a"),n("456d"),n("bd86")),o=(n("c5f6"),n("d634")),c=n("e66b"),u=n("c785"),d=n("9798"),l=n("7520"),f=n("8b3f"),m=n("9b02"),p=n.n(m);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){Object(i["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g={name:"Avatar",components:{ImageThumb:c["a"],ModalConfirm:f["a"]},mixins:[u["a"],l["a"]],props:{size:{type:[Number,String],default:36},isLink:{type:Boolean,default:!0},link:{type:[String,Object],default:""},userId:{type:Number,default:0},user:{type:Object,default:function(){}},hideOnline:{type:Boolean,default:!1},forceLive:{type:Boolean,default:!1},shareResponse:{type:Boolean,default:!1},runStoryAndStreamOnly:{type:Boolean,default:!1},disableStoryFunctionality:{type:Boolean,default:!1},canRunStream:{type:Boolean,default:!1},scheduledStream:{type:Boolean,default:!1}},data:function(){return{isShowStreamConfirm:!1}},computed:b(b(b(b(b({},Object(o["bc"])(["getUser"])),Object(o["Ab"])(["userStories"])),Object(o["Ib"])(["streams"])),Object(o["b"])(["authUser","isAuth"])),{},{userComputed:function(){return this.user&&Object.keys(this.user).length?this.user:this.getUser(this.userId)},shouldOpenStoryOnThisPage:function(){return!this.disableStoryFunctionality&&-1!==["Feed","Profile","ProfileInner","Chats","Chat","ChatsSend"].indexOf(this.$route.name)},classes:function(){var e;return e={"m-guest":!this.isAuth,online_status_class:this.forceLive||!this.hideOnline,online:!this.forceLive&&!this.hideOnline&&(!this.userComputed.hasStream||this.userComputed.isRestricted)&&this.userComputed.isOnline&&!this.shareResponse&&!this.scheduledStream,"m-muted-by-me":!this.forceLive&&!this.hideOnline&&this.userComputed.isRestricted},Object(i["a"])(e,"m-w".concat(this.size),this.size),Object(i["a"])(e,"has-story m-pointer",this.userComputed.hasStories&&this.shouldOpenStoryOnThisPage),Object(i["a"])(e,"has-new-story",this.userComputed.hasNotViewedStory&&this.shouldOpenStoryOnThisPage),Object(i["a"])(e,"has-started-stream",this.isShowLive),e},isShowRestricted:function(){return!this.hideOnline&&this.userComputed.isRestricted},isShowLive:function(){return this.forceLive||!this.hideOnline&&!this.userComputed.isRestricted&&this.userComputed.hasStream},userStream:function(){var e=this;return(this.streams||[]).find((function(t){return t.user===e.userComputed.id&&!t.isScheduled}))},streamPaymentMessage:function(){var e=this.userComputed.vat&&{vat:this.userComputed.vat},t=this.$i18n.t("message.pay_to_join_stream_text",{AMOUNT:this.userStream?this.userStream.price:0,MODEL_NAME:this.userComputed.name});if(e&&this.userStream){var n,r=this.userComputed,a=this.userStream.price,s=p()(r,"canPayInternal",!1),i=this.authUser.creditBalance>=a&&s;n=i?"United States of America"===this.authUser.vatCountry?"message.confirm_us_vat_wallet_charge":"message.confirm_vat_wallet_charge":"United States of America"===this.authUser.vatCountry?"message.confirm_us_vat_charge":"message.confirm_vat_charge";var o={subscribe:"subscribes",message:"chat_messages",tip:"tips",post:"post",stream:"stream"},c="stream",u=this.$tVat(n,{AMOUNT:"$".concat((Math.ceil(parseFloat(a)*(100+parseFloat(e.vat[o[c]])))/100).toFixed(2).replace(".00","")),VAT_AMOUNT:"$".concat((Math.ceil(parseFloat(a)*parseFloat(e.vat[o[c]]))/100).toFixed(2).replace(".00","")),CLEAR_AMOUNT:"$".concat(parseFloat(a).toFixed(2).replace(".00","")),COUNTRY:this.authUser.vatCountry,STATE:this.authUser.vatState});return"".concat(t,". ").concat(u)}return t}}),methods:b(b({},Object(o["zb"])(["fetchUserStories"])),{},{clickOnAvatarHandler:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.disableStoryFunctionality){e.next=15;break}if(!this.canRunStream||!this.userComputed.hasStream||this.userComputed.isRestricted||!this.userStream){e.next=7;break}if(this.userStream.isOpened||!(this.userStream.price>0)){e.next=5;break}return this.isShowStreamConfirm=!0,e.abrupt("return");case 5:return this.goToStream(this.userComputed),e.abrupt("return");case 7:if(!(this.userComputed&&this.userComputed.canLookStory&&this.userComputed.hasStories&&this.shouldOpenStoryOnThisPage)){e.next=13;break}return e.next=10,this.fetchUserStories(this.userComputed.id);case 10:if(!this.userStories.length){e.next=13;break}return this.runUserStory(this.userComputed),e.abrupt("return");case 13:if(!this.runStoryAndStreamOnly){e.next=15;break}return e.abrupt("return");case 15:this.maybeOpenCard({route:{name:"Profile",params:{userId:this.userComputed.username}},userId:this.userComputed.id});case 16:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),runUserStory:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$root.$emit("component::story::run",{stories:[Object(d["b"])(this.userStories,t,t.id===this.authUser.id)],type:"userStories"});case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()})},v=g,y=n("2877"),w=Object(y["a"])(v,r,a,!1,null,null,null);t["a"]=w.exports},b5ba:function(e,t,n){"use strict";var r=n("9029");t["a"]={computed:{isMobileDevice:function(){return r["isMobile"]||r["isTablet"]}},methods:{addClass:function(){document.body.classList.add("m-black-body")},removeClass:function(){document.body.classList.remove("m-black-body")}},mounted:function(){this.addClass()},beforeDestroy:function(){this.removeClass()}}},b775:function(e,t,n){"use strict";n.d(t,"a",(function(){return T})),n.d(t,"b",(function(){return _})),n.d(t,"k",(function(){return R})),n.d(t,"e",(function(){return A})),n.d(t,"c",(function(){return V})),n.d(t,"g",(function(){return H})),n.d(t,"j",(function(){return $})),n.d(t,"h",(function(){return G})),n.d(t,"f",(function(){return W})),n.d(t,"i",(function(){return Y}));n("8e6e"),n("2fdb"),n("6762"),n("28a5"),n("386d");var r=n("7618"),a=(n("ac6a"),n("456d"),n("c5f6"),n("bd86")),s=(n("96cf"),n("3b8d")),i=n("bc3a"),o=n.n(i),c=n("6199"),u=n.n(c),d=n("04ac"),l=n.n(d),f=n("63ea"),m=n.n(f),p=n("9b02"),h=n.n(p),b=n("4360"),g=n("a18c"),v=n("56d7"),y=n("869c"),w=n("8800"),O=n("709f"),j=n("de4c"),k=function(e,t){if(118===h()(e,"response.data.error.code")){var n=h()(e,"response.data.error.payload.cardAuthState");return n.attempts===n.attemptsLimit?(b["a"].commit("init/setInitAuth",!1),b["a"].commit("auth/setAuthUser",null),b["a"].commit("modals/setOtpCardModal"),g["a"].push({name:"Feed",params:{isLogout:!0},query:{return_to:v["default"].$route.query.return_to||v["default"].$route.fullPath}})):b["a"].commit("modals/setOtpCardModal",{cardAuthState:h()(e,"response.data.error.payload.cardAuthState"),isShow:!0},{root:!0}),!1}return t},S=function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){setTimeout(Object(s["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.t0=e,s.next=4,X[t](n,r);case 4:s.t1=s.sent,(0,s.t0)(s.t1),s.next=11;break;case 8:s.prev=8,s.t2=s["catch"](0),a(s.t2);case 11:case"end":return s.stop()}}),s,null,[[0,8]])}))),1e3)})));case 1:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var I,C="onlyfans.com",R="33d57ade8c02dbc5a333db99ff9ae26a",T="https://".concat(C),_="/api2/v2",A=10,L=3e3,E=o.a.create({baseURL:T,headers:{"Content-Type":"application/json"},params:{},withCredentials:!0,maxRedirects:0}),M={get:function(e,t){return B("get",e,t)},post:function(e,t,n){return B("post",e,t,n)},put:function(e,t,n){return B("put",e,t,n)},patch:function(e,t,n){return B("patch",e,t,n)},delete:function(e,t,n){return B("delete",e,t,n)}},U={},D=function(e,t,n,r,a,s){var i=r.headers["retry-after"]||3;U[s]||(U[s]={accept:a.accept,reject:a.reject,counter:0}),i&&0===U[s].counter?(setTimeout((function(){M[e](t,n)}),1e3*i),U[s].counter+=1):(alert("Please try again later."),U[s].reject(r),delete U[s])},F=function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n,r,a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,i){var o=b["a"].getters["modals/isPreloaderShow"];v["default"].$window.hidePreloader(),v["default"].$once("confirmSecurityCheck",Object(s["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return o&&v["default"].$window.showPreloader(),a.prev=1,a.t0=e,a.next=5,M[t](n,r);case 5:a.t1=a.sent,(0,a.t0)(a.t1),a.next=12;break;case 9:a.prev=9,a.t2=a["catch"](1),i(a.t2);case 12:case"end":return a.stop()}}),a,null,[[1,9]])})))),v["default"].$once("declineSecurityCheck",(function(){i({data:a.data,message:"silent"})})),v["default"].$emit("bv::show::modal","ModalSecurityCheck")})));case 1:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),B=function(e,t,n,r){return new Promise((function(a,i){var o=b["a"].state.init.isFraudRepayment;if(o&&t==="".concat(_,"/issues/login"))a({});else{var c="".concat(e).concat(t);E[e](t,n,r).then((function(e){e&&(U[c]?(U[c].accept(e),delete U[c]):a&&a(e))})).catch(function(){var r=Object(s["a"])(regeneratorRuntime.mark((function r(s){var o,u,d,l;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(429!==s.status){r.next=4;break}D(e,t,n,s,{accept:a,reject:i},c),r.next=40;break;case 4:if(!U[c]){r.next=9;break}U[c].reject(s),delete U[c],r.next=40;break;case 9:if(400!==s.status||105!==h()(s,"data.error.code")){r.next=25;break}return o=h()(s,"data.error.payload.otpState",{email:!1,phone:!1,app:!1}),u=o.appOtp,d=o.email,l=o.phoneOtp,b["a"].commit("modals/setTrustModal",{appOtp:u,email:d,phoneOtp:l},{root:!0}),r.prev=12,r.t0=a,r.next=16,F(e,t,n,s);case 16:r.t1=r.sent,(0,r.t0)(r.t1),r.next=23;break;case 20:r.prev=20,r.t2=r["catch"](12),r.t2&&400===r.t2.status&&105===h()(r.t2,"data.error.code")?i(new Error("silent")):i(r.t2);case 23:r.next=40;break;case 25:if("session_lock"!==h()(s,"data.error.code")){r.next=39;break}return r.prev=26,r.t3=a,r.next=30,S(e,t,n,s);case 30:r.t4=r.sent,(0,r.t3)(r.t4),r.next=37;break;case 34:r.prev=34,r.t5=r["catch"](26),i(r.t5);case 37:r.next=40;break;case 39:i&&i(s);case 40:case"end":return r.stop()}}),r,null,[[12,20],[26,34]])})));return function(e){return r.apply(this,arguments)}}())}}))},N=function(){var e=O["a"].getItem("bcTokenSha");if(e)return e;var t=1e12;return e=u()("".concat(btoa((new Date).getTime()),".").concat(btoa(Math.random()*t),".").concat(btoa(Math.random()*t),".").concat(btoa(window.navigator.appVersion))),O["a"].setItem("bcTokenSha",e),e},q=function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(w["a"])();case 2:t=e.sent,t&&"fraud_repayment"===t.action&&b["a"].commit("init/setFraudRepaymentData",t.data,{root:!0});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();l()(E,{retries:0,retryDelay:function(){return L}}),E.interceptors.request.use((function(e){if(N(),0===e.url.indexOf("".concat(_,"/"))){e.headers=P(P({},e.headers),Object(y["a"])(e)),e.headers.common["app-token"]=R;var t=b["a"].getters["auth/authUserId"];t&&(e.headers.common["user-id"]=t),e.headers.common["x-bc"]=N()}return e})),E.interceptors.response.use((function(e){if(I=void 0,e.headers){var t=e.headers["user-id"],n=b["a"].getters["auth/authUserId"];if(t&&n&&Number(t)!==Number(n)||400===e.status&&301===h()(e,"data.error.code"))return window.showPreloader(),v["default"].$emit("removeAllBeforeUnloadListeners"),v["default"].$nextTick((function(){window.location.reload()})),e;var r=e.headers.date?+new Date(e.headers.date):Date.now();b["a"].commit("init/setCurrentDate",r);var a=b["a"].state.init,s=a.neededReload,i=a.currentRev,o=e.headers["x-of-rev"];!s&&o&&(null===i?b["a"].commit("init/setCurrentRev",o):i!==o&&b["a"].commit("init/setNeededReload",!0))}return e}),function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,s,i,o,c,u,d,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(b["a"].commit("formApiErrors/setErrorCondition",!1),v["default"].$emit("globalRequestErrorListeners",t),n=t.response||t,r=h()(t,"response.headers"),!r){e.next=12;break}if(a=r["user-id"],s=b["a"].getters["auth/authUserId"],!(a&&s&&Number(a)!==Number(s)||400===n.status&&301===h()(n,"data.error.code"))){e.next=12;break}return window.showPreloader(),v["default"].$emit("removeAllBeforeUnloadListeners"),v["default"].$nextTick((function(){window.location.reload()})),e.abrupt("return",Promise.reject(n));case 12:if(i=t.request&&t.request.responseURL?t.request.responseURL:t.config?t.config.url:"",(t instanceof Error&&"Network Error"===t.message||t&&t.request&&t.request.status>=500)&&(I?m()(I,t.config)?(I=void 0,h()(v["default"],"$children[0].$children[0]._isMounted")?alert(v["default"].$i18n.t("message.api_error")):v["default"].$once("mounted",(function(){alert(v["default"].$i18n.t("message.api_error"))})),b["a"].commit("init/setApiError",!0)):I=void 0:I=t.config),!t.request){e.next=40;break}if(o=!0,(t.request.status<500||t instanceof Error&&"Network Error"===t.message)&&(o=!1),401!==h()(t,"response.status")||"SignPage"===v["default"].$route.name){e.next=26;break}return b["a"].commit("init/setInitAuth",!1),b["a"].commit("auth/setAuthUser",null),b["a"].commit("modals/otpModalShow",!1,{root:!0}),c={},u=v["default"].$route.query.return_to||v["default"].$route.fullPath,"/"!==u&&(c.return_to=u),g["a"].push({name:"Feed",params:{isLogout:!0},query:c}),e.abrupt("return",Promise.reject(new Error("silent")));case 26:if(o=k(t,o),"session_lock"===h()(t,"response.data.error.code")&&(o=!1),101===h()(t,"response.data.error.code")&&(o=!1,b["a"].commit("modals/setOtpModalTitle",t.response.data.error.message,{root:!0}),b["a"].commit("modals/setOtpModalStrong",!!h()(t,"response.data.error.payload.strong"),{root:!0}),b["a"].commit("modals/setOtpModalPhone",!!h()(t,"response.data.error.payload.otpState.phoneOtp"),{root:!0}),b["a"].commit("modals/setOtpModalApp",!!h()(t,"response.data.error.payload.otpState.appOtp"),{root:!0}),b["a"].commit("modals/setOtpModalEmail",!!h()(t,"response.data.error.payload.otpState.email"),{root:!0}),b["a"].commit("modals/setOtpModalPhoneCode",h()(t,"response.data.error.payload.otpState.phoneCode"),{root:!0}),b["a"].commit("modals/setOtpModalPhoneLast4",h()(t,"response.data.error.payload.otpState.phoneLast4"),{root:!0}),b["a"].commit("modals/setOtpModalFace",h()(t,"response.data.error.payload.otpState.faceOtp"),{root:!0}),b["a"].commit("modals/otpModalShow",!0,{root:!0})),105===h()(t,"response.data.error.code")&&(o=!1),117!==h()(t,"response.data.error.code")){e.next=37;break}return e.next=33,q();case 33:return b["a"].commit("init/setIsFraudRepayment",!0,{root:!0}),d=b["a"].getters["auth/authUser"],g["a"].push({name:"Profile",params:{userId:d.username}}),e.abrupt("return",Promise.reject(n));case 37:!i||-1===i.indexOf("/payments/pay")&&-1===i.indexOf("/users/login")&&-1===i.indexOf("/users/register")&&-1===i.indexOf("/users/forgot-password")||(o=!1),o&&(l=new Error(i),l.name="API error ".concat(t.request.status),Sentry.withScope((function(e){e.setTag("responseStatus",t.request.status),e.setExtra("response",t.request.response),Sentry.captureException(l)}))),i&&-1!==i.indexOf("/init")&&200!==t.request.status&&Object(j["a"])();case 40:return e.abrupt("return",Promise.reject(n));case 41:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var V=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=Object.keys(t).map((function(a){var s=t[a];if(void 0!==s&&null!==s)return"object"===Object(r["a"])(s)?e(s,a):n?"".concat(n,"[").concat(a,"]=").concat(encodeURIComponent(s)):"".concat(a,"=").concat(encodeURIComponent(s))})).filter((function(e){return!!e})).join("&");return a&&!n&&(a="?".concat(a)),a},$=function(e){var t=e.target;if(t&&"A"!==t.tagName&&(t=t.closest("a")),t&&"A"===t.tagName&&t.href){var n=e.altKey,r=e.ctrlKey,a=e.metaKey,s=e.shiftKey,i=e.button,o=e.defaultPrevented;if(a||n||r||s)return!1;if(o)return;if(void 0!==i&&0!==i)return!1;var c=t.getAttribute("target");if(/\b_blank\b/i.test(c))return!1;var u=new URL(t.href),d=u.search,l=u.pathname,f=["stripe","epayservice","payoneer"],m=[window.location.hostname,"www.".concat(window.location.hostname),"onlyfans.com","www.".concat("onlyfans.com"),"onlyfans.com","www.onlyfans.com","of.com","www.of.com"],p=l.split("/")[1];if(p&&f.includes(p))return!1;if(!m.includes(u.hostname))return!1;var h=g["a"].getMatchedComponents(l);if(Array.isArray(h)&&h.length>1){var b=h[1];if(b&&b.isErrorPage)return!1}return d?l+d:l}return!1},H=function(e){var t=$(e);if(t){e.preventDefault(),v["default"].$emit("bv::hide::modal","ModalAlert"),v["default"].$emit("bv::hide::modal","ModalUserAlert");var n=e.target;n&&"A"!==n.tagName&&(n=n.closest("a"));var r=n.closest(".toast");r&&v["default"].$bvToast.hide(r.id),g["a"].push(t)}},G=function(e,t){var n=$(e);if(n){e.preventDefault(),v["default"].$emit("bv::hide::modal","ModalAlert"),v["default"].$emit("bv::hide::modal","ModalUserAlert");var r=e.target;r&&"A"!==r.tagName&&(r=r.closest("a"));var a=g["a"].resolve(n),s=a.route,i=t.authorId,o=s.name,c=s.params.userId;"Profile"===o&&c!==i&&(s.params.profileStatSource="post_mention");var u=r.closest(".toast");u&&v["default"].$bvToast.hide(u.id),g["a"].push(s)}},z={},W=function(e){var t=!1;z[e]&&z[e].source&&(z[e].source.cancel(),z[e]=null,t=!0);var n=o.a.CancelToken,r=o.a.Cancel;return z[e]||(z[e]={}),z[e].source=n.source(),{cancelToken:z[e].source.token,isCancelled:t,Cancel:r}},Y=function(e){var t=o.a.isCancel;return t(e)},X=t["d"]=M},ba6a:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return s})),n.d(t,"c",(function(){return i})),n.d(t,"g",(function(){return o})),n.d(t,"h",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"i",(function(){return d})),n.d(t,"a",(function(){return l})),n.d(t,"f",(function(){return f}));var r=n("b775"),a=function(e){var t=e.accessToken,n=e.tokenExpiration,a=e.refreshToken,s="".concat(r["b"],"/users/social/spotify");return r["d"].post(s,{accessToken:t,tokenExpiration:n,refreshToken:a}).then((function(e){return e.data}))},s=function(){var e="".concat(r["b"],"/users/social/spotify");return r["d"].delete(e).then((function(e){return e.data}))},i=function(e){var t;return t=e?"".concat(r["b"],"/users/").concat(e,"/social/spotify"):"".concat(r["b"],"/users/social/spotify"),r["d"].get(t).then((function(e){return e.data}))},o=function(){var e="".concat(r["b"],"/users/social/spotify/top");return r["d"].get(e).then((function(e){return e.data}))},c=function(){var e="".concat(r["b"],"/users/social/spotify/top/artists");return r["d"].get(e).then((function(e){return e.data}))},u=function(e){var t="".concat(r["b"],"/users/social/spotify/artists");return r["d"].put(t,{topArtistsIds:e}).then((function(e){return e.data}))},d=function(){var e="".concat(r["b"],"/users/social/spotify/top/tracks");return r["d"].get(e).then((function(e){return e.data}))},l=function(e){var t="".concat(r["b"],"/users/social/spotify/anthem");return r["d"].put(t,{anthemId:e}).then((function(e){return e.data}))},f=function(e){var t=Object(r["c"])({query:e}),n="".concat(r["b"],"/users/social/spotify/search").concat(t);return r["d"].get(n).then((function(e){return e.data}))}},bc9a:function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return a})),n.d(t,"mutations",(function(){return s}));var r=function(){return{currentPlayAudio:null,currentPlayVideo:null}},a=r(),s={setCurrentPlayAudio:function(e,t){e.currentPlayAudio=t},setCurrentPlayVideo:function(e,t){e.currentPlayVideo=t},resetCurrentPlayAudio:function(e){e.currentPlayAudio=null},resetCurrentPlayVideo:function(e){e.currentPlayVideo=null},logout:function(e){Object.assign(e,r())}}},bd0a:function(e,t,n){"use strict";n.d(t,"j",(function(){return l})),n.d(t,"k",(function(){return f})),n.d(t,"l",(function(){return m})),n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return g})),n.d(t,"c",(function(){return v})),n.d(t,"i",(function(){return R})),n.d(t,"e",(function(){return M})),n.d(t,"d",(function(){return U})),n.d(t,"g",(function(){return D})),n.d(t,"h",(function(){return B})),n.d(t,"f",(function(){return N}));n("8e6e"),n("456d"),n("673e"),n("28a5");var r,a=n("768b"),s=(n("ac6a"),n("ffc1"),n("6762"),n("2fdb"),n("bd86")),i=n("75fc"),o=n("39db");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){Object(s["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=function e(t){return Array.isArray(t)&&t.length?t.reduce((function(t,n){var r=n.name,a=n.children;return r?[].concat(Object(i["a"])(t),[r],Object(i["a"])(a?e(a):[])):t}),[]):[]},l=d(o["b"]),f=d(o["c"]),m=d(o["d"]),p=["Subscribers","SubscribersByType","Promotions","Subscribes","SubscribesByType"],h=["order_field","order_dir"],b="FILTERS_SUBSCRIBERS_MODAL",g="FILTERS_SUBSCRIBERS_ALL",v="FILTERS_SUBSCRIBES_ALL",y=["total_spent","tips","duration","inactive","recommenders","signed_up_before","signed_up_after","online","spent_date_start","spent_date_end"],w=[].concat(y,["recommender_id","promoId"]),O=["paid","online"],j=(r={},Object(s["a"])(r,b,y),Object(s["a"])(r,g,w),Object(s["a"])(r,v,O),r),k={"Subscribers::all":{order_field:["last_activity","users.name","expire_date","new_price","subscribe_date","total_duration","expires","unsubscribes_reasons.sort"],order_dir:["asc","desc"]},"SubscribersByType::active":{order_field:["last_activity","users.name","expire_date","new_price","subscribe_date","total_duration","expires","unsubscribes_reasons.sort"],order_dir:["asc","desc"]},"SubscribersByType::expired":{order_field:["last_activity","users.name","expire_date","subscribe_date","total_duration","is_expired","unsubscribes_reasons.sort"],order_dir:["asc","desc"]},"SubscribersByType::restricted":{order_field:["last_activity","users.name","expire_date","new_price","subscribe_date","total_duration","expires","unsubscribes_reasons.sort"],order_dir:["asc","desc"]},"SubscribersByType::blocked":{order_field:["last_activity","users.name","expire_date","new_price","subscribe_date","total_duration","expires","unsubscribes_reasons.sort"],order_dir:["asc","desc"]},"SubscribersByType::activity":{order_field:["last_activity","users.name","summ_subscribes","summ_post","summ_chat_messages","summ_call","summ_stream","summ_tips","summ_total"],order_dir:["asc","desc"]},"Promotions::promo":{order_field:["users.name","create_date","is_finished","subscribe_days","expire_date","finish_date"],order_dir:["asc","desc"]},"Subscribes::all":{order_field:["last_activity","users.name","expire_date","new_price","subscribe_date","total_duration","expires","unsubscribes_reasons.sort"],order_dir:["asc","desc"]},"SubscribesByType::active":{order_field:["last_activity","users.name","expire_date","new_price","subscribe_date","total_duration","expires","unsubscribes_reasons.sort"],order_dir:["asc","desc"]},"SubscribesByType::expired":{order_field:["last_activity","users.name","expire_date","subscribe_date","total_duration","is_expired","unsubscribes_reasons.sort"],order_dir:["asc","desc"]},"SubscribesByType::restricted":{order_field:["last_activity","users.name","expire_date","new_price","subscribe_date","total_duration","expires","unsubscribes_reasons.sort"],order_dir:["asc","desc"]},"SubscribesByType::blocked":{order_field:["last_activity","users.name","expire_date","new_price","subscribe_date","total_duration","expires","unsubscribes_reasons.sort"],order_dir:["asc","desc"]},"RestrictedUsers::all":{order_field:["last_activity","users.name","expire_date","new_price","subscribe_date","total_duration","expires","unsubscribes_reasons.sort"],order_dir:["asc","desc"]},"BlockedUsers::all":{order_field:["last_activity","users.name","expire_date","new_price","subscribe_date","total_duration","expires","unsubscribes_reasons.sort"],order_dir:["asc","desc"]},"UsersLists::all":{order_field:["last_activity","users.name","expire_date","new_price","subscribe_date","total_duration","expires","unsubscribes_reasons.sort"],order_dir:["asc","desc"]}},S=[{name:"last_activity",label:"subscribers_activity_last_title",sub:"all|active|expired|activity|restricted|blocked"},{name:"users.name",label:"subscribers_name_title",sub:"all|active|expired|activity|restricted|blocked|promo"},{name:"summ_subscribes",label:"subscribers_activity_subscribes_summ_title",sub:"activity"},{name:"summ_post",label:"subscribers_activity_posts_title",sub:"activity"},{name:"summ_chat_messages",label:"subscribers_activity_chats_summ_title",sub:"activity"},{name:"summ_stream",label:"subscribers_activity_live_streams_title",sub:"activity"},{name:"summ_tips",label:"subscribers_activity_tips_summ_title",sub:"activity"},{name:"summ_total",label:"subscribers_activity_total_summ_title",sub:"activity"},{name:"expire_date",label:"subscribers_current_subscription_title",sub:"active"},{name:"expire_date",label:"subscribers_previous_subscription_title",sub:"expired"},{name:"expire_date",label:"subscribers_subscription_title",sub:"all|restricted|blocked"},{name:"new_price",label:"subscribers_new_price_title",sub:"all|active|restricted|blocked"},{name:"subscribe_date",label:"subscribers_started_title",sub:"all|active|expired|restricted|blocked"},{name:"total_duration",label:"subscribers_total_duration_title",sub:"all|active|expired|restricted|blocked"},{name:"expires",label:"subscribers_renews_expires_title",sub:"all|active|restricted|blocked"},{name:"is_expired",label:"subscribers_expired_sort_title",sub:"expired"},{name:"unsubscribes_reasons.sort",label:"subscribers_reason_title",sub:"all|active|expired|restricted|blocked"},{name:"create_date",label:"subscribers_offer_sent_title",sub:"promo"},{name:"is_finished",label:"subscribers_offer_current_offer_title",sub:"promo"},{name:"subscribe_days",label:"subscribers_offer_duration_title",sub:"promo"},{name:"expire_date",label:"subscribers_offer_expires_title",sub:"promo"},{name:"finish_date",label:"subscribers_offer_claimed_title",sub:"promo"}],x="",P={},I=function(e){var t=e.name,n=e.params.type,r=void 0===n?"":n;switch(!0){case"Promotions"===t:return"promo";case["Subscribers","Subscribes","RestrictedUsers","BlockedUsers"].includes(t):return"all";case m.includes(t):return"all";default:return"".concat(r)}},C=function(e){var t=e.name,n=I(e);switch(!0){case m.includes(t):return"UsersLists::".concat(n);default:return"".concat(t,"::").concat(n)}},R=function(e){e&&(x=C(e))},T=function(e){return P["".concat(x,"::").concat(e)]},_=function(e){return p.includes(e.name)},A=function(e,t){if(!h.includes(e))return!0;var n=T(e)||[];return!!n&&n.includes(t)},L=function(e){var t=Object.entries(e.query).some((function(e){var t=Object(a["a"])(e,2),n=t[0],r=t[1];return!A(n,r)}));return t},E=function(e){return Object.entries(e.query).reduce((function(e,t){var n=Object(a["a"])(t,2),r=n[0],i=n[1];return A(r,i)?u(u({},e),{},Object(s["a"])({},r,i)):e}),{})},M=function(e){return R(e),T("sortOptions")||[]},U=function(e){return _(e)&&L(e)},D=function(e){var t=E(e);return u(u({},e),{},{query:t})},F=function(e,t){if(t&&j[t])return j[t];var n=e.name;return"Subscribes"===n||"SubscribesByType"===n?j[v]||[]:j[b]||[]},B=function(e,t){var n=F(e,t),r=u({},e.query);return n.reduce((function(e,t){return void 0===r[t]?e:u(u({},e),{},Object(s["a"])({},t,r[t]))}),{})},N=function(e,t){var n=F(e,t),r=u({},e.query);return Object.entries(r).reduce((function(e,t){var r=Object(a["a"])(t,2),i=r[0],o=r[1];return n.includes(i)?e:u(u({},e),{},Object(s["a"])({},i,o))}),{})},q=function(){Object.entries(k).forEach((function(e){var t=Object(a["a"])(e,2),n=t[0],r=t[1],s=r.order_field,i=r.order_dir,o=n.split("::"),c=Object(a["a"])(o,2),u=c[1],d=S.filter((function(e){var t=e.name,n=e.sub;return s.includes(t)&&n.includes(u)}));P["".concat(n,"::sortOptions")]=d,P["".concat(n,"::order_field")]=s,P["".concat(n,"::order_dir")]=i}))};q()},c34b:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"f",(function(){return s})),n.d(t,"c",(function(){return i})),n.d(t,"h",(function(){return o})),n.d(t,"g",(function(){return c})),n.d(t,"e",(function(){return u})),n.d(t,"d",(function(){return d})),n.d(t,"b",(function(){return l}));n("55dd");var r=n("b775"),a=function(e){var t="".concat(r["b"],"/promotions");return r["d"].post(t,e).then((function(e){return e.data}))},s=function(e){var t="".concat(r["b"],"/promotions/").concat(e,"/finish");return r["d"].post(t).then((function(e){return e.data}))},i=function(e){var t="".concat(r["b"],"/promotions/").concat(e);return r["d"].delete(t).then((function(e){return e.data}))},o=function(e){var t="".concat(r["b"],"/promotions/invite");return r["d"].post(t,e).then((function(e){return e.data}))},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.limit,n=void 0===t?r["e"]:t,a=e.offset,s=void 0===a?0:a,i=e.query,o=e.sort,c=e.field,u=e.filter,d=Object(r["c"])({limit:n,offset:s,query:i,sort:o,field:c,filter:u}),l="".concat(r["b"],"/promotions/offers").concat(d);return r["d"].get(l).then((function(e){return e.data}))},u=function(){var e="".concat(r["b"],"/promotions/offers");return r["d"].delete(e).then((function(e){return e.data}))},d=function(e){var t="".concat(r["b"],"/promotions/offer/").concat(e);return r["d"].delete(t).then((function(e){return e.data}))},l=function(){var e="".concat(r["b"],"/promotions/offers/hide");return r["d"].post(e).then((function(e){return e.data}))}},c393:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"stream-new-like",style:{left:e.left+"px",top:e.top}},[n("svg",{staticClass:"g-icon",style:{left:e.iconLeft+"px"},attrs:{"aria-hidden":"true"}},[n("use",{attrs:{"xlink:href":"#icon-like"}})])])},a=[],s=(n("ee1d"),n("c5f6"),{name:"StreamingLike",props:{startLeft:{type:Number,required:!0},startTop:{type:[String,Number],required:!0}},data:function(){return{left:this.startLeft,top:Number.isNaN(this.startTop)?this.startTop:"".concat(this.startTop,"px"),iconLeft:0}},mounted:function(){this.animate()},destroyed:function(){cancelAnimationFrame(this.animationId)},methods:{animate:function(){var e=this;setTimeout((function(){e.animationId=requestAnimationFrame(e.animate)}),1e3/30),this.iconLeft+=this.getRandomInt(-3,4)},getRandomInt:function(e,t){return Math.floor(Math.random()*(t-e))+e}}}),i=s,o=n("2877"),c=Object(o["a"])(i,r,a,!1,null,null,null);t["a"]=c.exports},c483:function(e,t,n){"use strict";function r(e){var t=new window.Hammer(e,{domEvents:!0});return t.get("rotate").set({enable:!0}),t}t["a"]=r},c785:function(e,t,n){"use strict";n("8e6e"),n("ac6a"),n("456d"),n("c5f6"),n("96cf");var r=n("3b8d"),a=n("bd86"),s=n("d634");function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t["a"]={computed:o(o(o({},Object(s["b"])(["authUser"])),Object(s["bc"])(["getUser","findUserByUserName"])),Object(s["Qb"])(["getSubscriber"])),methods:o(o(o({},Object(s["gc"])(["setModalUser"])),Object(s["Pb"])(["fetchSubscriber"])),{},{maybeOpenCard:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,s,i,o=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.route,r=void 0===n?null:n,a=t.userId,!this.authUser||!this.authUser.activeHelperAccess){e.next=3;break}return e.abrupt("return");case 3:if(this.authUser.isPerformer){e.next=6;break}return r&&this.$router.push(r),e.abrupt("return");case 6:if(s=Number(a)!=a?this.findUserByUserName(a):this.getUser(a),!(s&&s.id&&s.isBlocked)){e.next=9;break}return e.abrupt("return");case 9:if(s&&s.id){e.next=21;break}return e.prev=10,window.showPreloader(),e.next=14,this.fetchSubscriber(a);case 14:window.hidePreloader(),e.next=20;break;case 17:e.prev=17,e.t0=e["catch"](10),r&&this.$router.push(r);case 20:s=Number(a)!=a?this.findUserByUserName(a):this.getUser(a);case 21:if(!s||!s.id){e.next=36;break}if(i=this.getSubscriber(s.id),!(i||s.subscribedOn||s.subscribedOnExpiredNow)){e.next=33;break}if(i&&void 0!==s.promoOffers){e.next=29;break}return window.showPreloader(),e.next=28,this.fetchSubscriber(s.id);case 28:window.hidePreloader();case 29:i=this.getSubscriber(s.id),i?(this.setModalUser({userId:s.id}),this.$nextTick((function(){o.$root.$emit("bv::show::modal","ModalSubscribersItem")}))):r&&this.$router.push(r),e.next=34;break;case 33:r&&this.$router.push(r);case 34:e.next=37;break;case 36:r&&this.$router.push(r);case 37:case"end":return e.stop()}}),e,this,[[10,17]])})));function t(t){return e.apply(this,arguments)}return t}()})}},c7d4:function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return y})),n.d(t,"getters",(function(){return w})),n.d(t,"mutations",(function(){return O})),n.d(t,"actions",(function(){return j}));n("8e6e"),n("ac6a"),n("456d");var r=n("7618"),a=(n("96cf"),n("3b8d")),s=n("bd86"),i=n("5e23"),o=n("559d"),c=n("9b02"),u=n.n(c),d=n("3786"),l=n("2612"),f=n("09e4"),m=n("8800"),p=n("56d7");function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){Object(s["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g=function(){return{user:null,logoutInProgress:!1,subscriptionInitiated:!1,isLogin:!0,QRCode:"",QRCodeSize:{width:246,height:246}}},v=function(){try{var e=p["default"].$cookie.get("ref",{domain:".".concat("onlyfans.com")});e&&p["default"].$cookie.delete("ref",{domain:".".concat("onlyfans.com")});var t=p["default"].$cookie.get("ref_src",{domain:".".concat("onlyfans.com")});t&&p["default"].$cookie.delete("ref_src",{domain:".".concat("onlyfans.com")})}catch(n){}},y=g(),w={authUser:function(e,t,n){var r=u()(e,"user",!1),a={};return r&&(a=u()(n,"users.items[".concat(r,"]"),{})),a},authUserNotificationsCount:function(e,t,n){var r=e.user;return r?n.users.items[r].notificationsCount:0},authUserId:function(e){return e.user},isAuth:function(e){return!!e.user}},O={setAuthUser:function(e,t){e.user=t},setLogoutInProgress:function(e,t){e.logoutInProgress=t},setSubscriptionInitiated:function(e,t){e.subscriptionInitiated=t},setIsLogin:function(e,t){e.isLogin=t},setQRCode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";e.QRCode=t},setQRCodeSize:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.QRCodeSize=b(b({},e.QRCodeSize),t)},logout:function(e){Object.assign(e,g())}},j={login:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.dispatch,e.next=3,Object(d["b"])(n);case 3:return r=e.sent,v(),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),loginAsReferral:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.dispatch,e.next=3,Object(d["c"])(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),logoutFromReferral:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(d["d"])();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),reqLogout:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,n("setLogoutInProgress",!0),e.next=4,Object(d["f"])();case 4:return r=e.sent,p["default"].$store.dispatch("logout"),e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),register:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.dispatch,e.next=3,Object(d["e"])(n);case 3:return r=e.sent,v(),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),fetchUserMe:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,a,s,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.prev=1,e.next=4,Object(l["v"])();case 4:if(a=e.sent,!a||"object"!==Object(r["a"])(a)){e.next=19;break}if(!a.hasScenario){e.next=13;break}return e.next=9,Object(m["a"])();case 9:s=e.sent,n("init/setIsFraudRepayment",!0,{root:!0}),s&&"fraud_repayment"===s.action&&n("init/setFraudRepaymentData",s.data,{root:!0}),p["default"].$route.meta.allowFraudRepayment||p["default"].$router.push({name:"Profile",params:{userId:a.username}});case 13:c=Object(i["a"])(a,o["z"]),n("set",c,{root:!0}),n("setAuthUser",a.id),"Profile"!==p["default"].$route.name&&"Post"!==p["default"].$route.name||p["default"].$route.params.userId!==a.username||n("users/setCurrentUser",a.id,{root:!0}),e.next=20;break;case 19:Object(f["c"])({error:new Error("typeof response is incorrect"),extra:{response:a}});case 20:n("init/mainRequestsLoaded",!0,{root:!0}),e.next=27;break;case 23:e.prev=23,e.t0=e["catch"](1),n("init/mainRequestsLoaded",!0,{root:!0}),e.t0&&(401===e.t0.status||e.t0.data&&e.t0.data.error&&101===e.t0.data.error.code)||Object(f["c"])({error:e.t0});case 27:case"end":return e.stop()}}),e,null,[[1,23]])})));function t(t){return e.apply(this,arguments)}return t}()}},ca15:function(e,t,n){},caa2:function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return m})),n.d(t,"getters",(function(){return p})),n.d(t,"mutations",(function(){return h})),n.d(t,"actions",(function(){return b}));n("8e6e"),n("456d"),n("55dd"),n("96cf");var r=n("3b8d"),a=n("bd86"),s=(n("ac6a"),n("5df3"),n("4f7f"),n("75fc")),i=n("5e23"),o=n("559d"),c=n("1cf1"),u=n("09e4");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=function(){return{items:{},itemIds:[],loading:!1,count:null}},m=f(),p={subscribes:function(e){return e.itemIds.map((function(t){return e.items[t]})).filter((function(e){return void 0!==e}))},subscribesCount:function(e){return e.count},getSubscribe:function(e){return function(t){return e.items[t]}},isLoading:function(e){return e.loading}},h={setLoading:function(e,t){e.loading=t},setSubscribes:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.itemIds,r=void 0===n?[]:n,a=t.more,i=void 0!==a&&a;e.itemIds=i?Object(s["a"])(new Set([].concat(Object(s["a"])(e.itemIds),Object(s["a"])(r)))):Object(s["a"])(r)},setSubscribesCount:function(e,t){e.count=t},setSubscribeField:function(e,t){var n=t.id,r=t.field,a=t.status,s={};s[r]=a,e.items[n]=l(l({},e.items[n]),s)},removeSubscribe:function(e,t){e.itemIds=e.itemIds.filter((function(e){return e!==t}))},logout:function(e){Object.assign(e,f())}},b={fetchSubscribes:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,s,d,l,f,m,p,h,b,g=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,r=t.rootGetters,a=g.length>1&&void 0!==g[1]?g[1]:{},n("setLoading",!0),s=a.more,delete a.more,s||n("setSubscribes"),e.prev=6,e.next=9,Object(c["j"])(a);case 9:if(d=e.sent,l=a.type,f=a.sort,m=a.field,"expired"===l&&"desc"===f&&"expire_date"===m&&(p=r["auth/authUserId"],n("users/setUserField",{userId:p,field:"hasRecentlyExpired",status:!1},{root:!0})),!d||!Array.isArray(d)){e.next=21;break}if(!d.length){e.next=19;break}return h=Object(i["a"])(d,o["y"]),b=h.result,n("set",h,{root:!0}),n("setSubscribes",{itemIds:b,more:s}),e.abrupt("return",b);case 19:e.next=23;break;case 21:return Object(u["c"])({error:new Error("typeof response is incorrect"),extra:{response:d}}),e.abrupt("return",[]);case 23:return n("setLoading",!1),e.abrupt("return",[]);case 27:return e.prev=27,e.t0=e["catch"](6),n("setLoading",!1),e.abrupt("return",[]);case 31:case"end":return e.stop()}}),e,null,[[6,27]])})));function t(t){return e.apply(this,arguments)}return t}(),fetchSubscribesCount:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,s=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,r=s.length>1&&void 0!==s[1]?s[1]:{},n("setSubscribesCount",null),e.prev=3,e.next=6,Object(c["k"])(r);case 6:a=e.sent,a&&void 0!==a.count&&n("setSubscribesCount",a.count),e.next=12;break;case 10:e.prev=10,e.t0=e["catch"](3);case 12:case"end":return e.stop()}}),e,null,[[3,10]])})));function t(t){return e.apply(this,arguments)}return t}(),autoprolongToggle:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,s,d,l,f,m,p,h,b;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,a=t.state,s=n.id,d=n.force,l=void 0!==d&&d,f=n.place,e.prev=2,p=a.items[s]||{},h="on"===l||(!p.renewedAt&&p.subscribePrice>0||p.subscribePrice>Math.max(p.newPrice,p.price)||!p.renewedAt&&p.price>0&&0===p.subscribePrice)&&"off"!==l,e.next=7,Object(c["a"])({id:s,on:h,place:f});case 7:m=e.sent,m&&m.id&&(b=Object(i["a"])(m,o["z"]),r("set",b,{root:!0})),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](2),Object(u["b"])(e.t0);case 14:return e.abrupt("return",m);case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));function t(t,n){return e.apply(this,arguments)}return t}(),updateSubscribe:function(e,t){var n=e.commit,r=e.rootGetters,a=t.id,s=r["users/getUser"](a),c=l({},t);if(s){var u=s.promotions,d=t.promotions;u&&!d&&(c.promotions=[])}var f=Object(i["a"])(c,o["z"]);n("set",f,{root:!0})}}},cc4e:function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return x})),n.d(t,"getters",(function(){return P})),n.d(t,"mutations",(function(){return I})),n.d(t,"actions",(function(){return C}));n("8e6e"),n("a481"),n("c5f6"),n("5df3"),n("96cf");var r=n("3b8d"),a=(n("7514"),n("bd86")),s=n("75fc"),i=(n("6762"),n("2fdb"),n("456d"),n("ac6a"),n("8615"),n("5e23")),o=n("559d"),c=n("09e4"),u=n("9b02"),d=n.n(u),l=n("13ea"),f=n.n(l),m=n("a125"),p=n.n(m),h=n("9029"),b=n("1a1d"),g=n("56d7"),v=n("d931"),y=n("8975");function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var j=function(){return Promise.all([n.e("vendor-streaming"),n.e("chunk-vendors")]).then(n.t.bind(null,"29ef",7))},k=function(){return{type:"",stream:{id:0,thumbUrl:"",startedAt:"",description:"",rawDescription:"",isOpened:!0,canJoin:!1,isShowTips:!1,tipsSumm:0,showCoStreamingRequest:!1,commentsCount:0,canComment:!1,canLike:!1,canReport:!1,roomName:""},user:{id:0,name:"",username:"",displayName:null,isVerified:!1,tipsEnabled:!1,subscribedBy:!1,canEarn:!1,isPerformer:!1,avatar:null,avatarThumbs:null},streamState:"beforeStart",videoPlaying:!1,tcpVideoOnPause:!1,volume:1,muted:!1,stretchVideo:!1,videoElementRenderKey:+new Date,tipGoal:{isShowTipGoal:!1,sum:0,progress:0,description:"",showTipGoalProgress:!1},showTapToPlay:!1,showUnmuteBtn:!1,videoLoaded:!1,lookApproved:!1,endReason:"",sentryLog:{getApiUrlRequest:{},getApiUrlResponse:{},roomName:null,streamId:null,user:null}}},S=function(){return{mode:"",maxStreams:2,streams:{},streamsOrder:[],primaryInstance:null,timer:"0:00",comments:[],hasMoreComments:!1,loadedCommentsCount:0,likes:[],likesCount:0,viewers:{},totalViewers:0,privateCommentUser:null,switchToDualStreaming:!1,primaryMovedToPartner:!1,streamTypes:{},streamType:"",UI:{showStreamDescription:!1,showStreamingActions:!1,showStreamingComments:!1,showJoinStreamBtn:!0,hideRemoteCanvas:!0,disabledJoinStreamBtn:!0,showCommentForm:!1,showEndScreen:!1,endReason:"",greetingVisible:!0,commentsViewMode:"compact",hasUnreadComments:!1,showStreamingViewers:!1,showVolumeControlsModal:!1,showViewControlsModal:!1,viewMode:"grid",commentInputFocused:!1,streamHasFatalError:!1}}},x=S(),P={mode:function(e){return e.mode},streams:function(e){return e.streams},streamsOrder:function(e){return e.streamsOrder},primary:function(e){return e.streams[e.primaryInstance]},primaryInstance:function(e){return e.primaryInstance},partners:function(e){return Object.values(e.streams).filter((function(t){return t.user.id!=e.primaryInstance}))},partner:function(e,t){return t.partners[0]},partner2:function(e,t){return t.partners[1]},partner3:function(e,t){return t.partners[2]},canJoinCoStream:function(e){return Object.keys(e.streams).length<e.maxStreams},comments:function(e){return e.comments},hasMoreComments:function(e){return e.hasMoreComments},loadedCommentsCount:function(e){return e.loadedCommentsCount},commentsCount:function(e,t){var n=t.primary.stream?t.primary.stream.commentsCount:0;return e.comments.length-e.loadedCommentsCount+n},likes:function(e){return e.likes},likesCount:function(e){return e.likesCount},streamDescription:function(e,t){return t.primary?t.primary.stream.description:""},rawStreamDescription:function(e,t){return t.primary?t.primary.stream.rawDescription:""},viewers:function(e){return e.viewers},totalViewers:function(e){return e.totalViewers},switchToDualStreaming:function(e){return e.switchToDualStreaming},primaryMovedToPartner:function(e){return e.primaryMovedToPartner},streamTypes:function(e){return e.streamTypes},streamType:function(e){return e.streamType},UI:function(e){return e.UI},timer:function(e){return e.timer},privateCommentUser:function(e){return e.privateCommentUser},canComment:function(e){return!e.streamsOrder.map((function(t){return e.streams[t]})).some((function(e){return!1===e.stream.canComment}))},canLike:function(e){return!e.streamsOrder.map((function(t){return e.streams[t]})).some((function(e){return!1===e.stream.canLike}))},mustStartMuted:function(e){return(h["isMobile"]||h["isSafari"])&&["hls","nano","llhls","wowza"].includes(e.streamType)},isOwnStream:function(e,t,n,r){return t.primary.user.id==r["auth/authUserId"]}},I={setMode:function(e,t){e.mode=t},setPrimaryInstance:function(e,t){e.primaryInstance=t},setStream:function(e,t){var n=t.stream,r=t.instance;r=r||e.primaryInstance,e.streams[r]||(g["default"].$set(e.streams,r,k()),e.streamsOrder=[].concat(Object(s["a"])(e.streamsOrder),[r])),e.streams[r]=O(O({},e.streams[r]),n)},setStreamStream:function(e,t){var n=t.stream,r=t.instance;r=r||e.primaryInstance,e.streams[r]||(g["default"].$set(e.streams,r,k()),e.streamsOrder=[].concat(Object(s["a"])(e.streamsOrder),[r])),e.streams[r].stream=O(O({},e.streams[r].stream),n)},setStreamUser:function(e,t){var n=t.user,r=t.instance;r=r||e.primaryInstance,e.streams[r]||(g["default"].$set(e.streams,r,k()),e.streamsOrder=[].concat(Object(s["a"])(e.streamsOrder),[r])),e.streams[r].user=O(O({},e.streams[r].user),n)},removeStream:function(e,t){e.streams[t]&&(e.streams[t]=null,delete e.streams[t],e.streams=O({},e.streams),e.streamsOrder=e.streamsOrder.filter((function(e){return e!=t})))},setStreamsOrder:function(e,t){e.streamsOrder=Object(s["a"])(t)},addComments:function(e,t){e.comments=[].concat(Object(s["a"])(t),Object(s["a"])(e.comments))},addComment:function(e,t){e.comments=[].concat(Object(s["a"])(e.comments),[t])},removeComment:function(e,t){t>0&&(e.comments=e.comments.filter((function(e){return e.id!=t})))},setHasMoreComments:function(e,t){e.hasMoreComments=t},setLoadedCommentsCount:function(e,t){e.loadedCommentsCount=t},addLike:function(e,t){t.id=e.likesCount;var n=Object(s["a"])(Object.keys(e.streams));n.find((function(e){return e==t.streamUserId}))&&(e.likes=[].concat(Object(s["a"])(e.likes),[t]),e.likesCount+=1)},removeLike:function(e,t){e.likes=e.likes.filter((function(e){return e.id!=t.id}))},setTimer:function(e,t){e.timer=t},addViewer:function(e,t){e.viewers[t.id]=t},removeViewer:function(e,t){delete e.viewers[t.id],e.viewers=O({},e.viewers)},setTotalViewers:function(e,t){e.totalViewers=t||0},setStreamState:function(e,t){var n=t.value,r=t.instance;r=r||e.primaryInstance,e.streams[r]&&(e.streams[r].streamState=n)},setStreamDescription:function(e,t){var n=t.value,r=t.instance;r=r||e.primaryInstance,e.streams[r].stream.description=n},setStreamVideoPlaying:function(e,t){var n=t.value,r=t.instance;r=r||e.primaryInstance,e.streams[r]&&(e.streams[r].videoPlaying=n)},setStreamTCPVideoPause:function(e,t){var n=t.value,r=t.instance;r=r||e.primaryInstance,e.streams[r]&&(e.streams[r].tcpVideoOnPause=n)},setStreamVolume:function(e,t){var n=t.volume,r=t.instance;r=r||e.primaryInstance,e.streams[r].volume=n},setStreamMuted:function(e,t){var n=t.muted,r=t.instance;r=r||e.primaryInstance,e.streams[r]&&(e.streams[r].muted=n)},setStreamStretchVideo:function(e,t){var n=t.stretchVideo,r=t.instance;r=r||e.primaryInstance,e.streams[r].stretchVideo=n},setTipGoal:function(e,t){var n=t.data,r=t.instance;r=r||e.primaryInstance,e.streams[r].tipGoal=O(O({},e.streams[r].tipGoal),n)},setStreamShowTapToPlay:function(e,t){var n=t.show,r=t.instance;r=r||e.primaryInstance,e.streams[r].showTapToPlay=n},setShowUnmuteBtn:function(e,t){var n=t.show,r=t.instance;r=r||e.primaryInstance,e.streams[r].showUnmuteBtn=n},setPrivateCommentUser:function(e,t){e.privateCommentUser=t?O({},t):null},setStreamType:function(e,t){e.streamType=t},setStreamTypes:function(e,t){e.streamTypes=t.reduce((function(e,t){var n=t.toLowerCase(),r=t.toUpperCase();return O(O({},e),{},"nano"===n?Object(a["a"])({},n,"Low latency"):"wowza"===t?Object(a["a"])({},n,"Service 2"):Object(a["a"])({},n,r))}),{})},setUI:function(e,t){e.UI=O(O({},e.UI),t)},setStreamUI:function(e,t){var n=t.UI,r=t.instance;r=r||e.primaryInstance,e.streams[r].UI=O(O({},e.streams[r].UI),n)},setSwitchToDualStreaming:function(e,t){e.switchToDualStreaming=t},setPrimaryMovedToPartner:function(e,t){e.primaryMovedToPartner=t},setDefaultState:function(e){Object.assign(e,S())},logout:function(e){Object.assign(e,S())},setStreamSentryLog:function(e,t){var n=t.key,r=t.value,a=t.instance;n&&e.streams[a]&&(e.streams[a].sentryLog[n]=r)}},C={createViewModules:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.state,r=t.dispatch,e.next=3,Promise.all(Object.keys(n.streams).map((function(e){return r("createViewModule",e)})));case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),createViewModule:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.state,n=n||r.primaryInstance,e.next=4,Object(v["b"])(n,r.streamType);case 4:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),destroy:function(e){var t=e.state,n=e.commit;t.switchToDualStreaming||(Object.keys(t.streams).forEach((function(e){Object(v["d"])({instance:e}),n("removeStream",e)})),delete window.viewModule),n("setDefaultState")},stopAll:function(e){var t=e.getters;t.partners.forEach((function(e){Object(v["g"])(e.user.id)})),x.switchToDualStreaming||Object(v["g"])(x.primaryInstance)},getUserStreamDataAndInit:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,s,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.getters,a=t.dispatch,s=t.commit,e.next=3,Object(b["m"])(n);case 3:if(i=e.sent,i&&0!==+i.id){e.next=6;break}throw Error("Stream not found");case 6:return e.next=8,j();case 8:return o=e.sent,window.speedTest=o.speedTest,e.next=12,o.speedTest.viewer(i.serverList);case 12:i.serverList=e.sent,a("setStreamData",i),r.primary.stream.commentsCount&&s("setHasMoreComments",!0);case 15:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),setUserStreamData:function(e,t){var n=e.state,r=e.commit,a=t.user.id,s=d()(t,"viewerAvailableStreamTypes",[]);!s.length&&f()(n.streamTypes)&&(Object(c["d"])({error:"invalid available viewer streamTypes",tags:{streamingMode:"live"},extra:t}),s=[t.streamType||"webrtc"]),f()(n.streamTypes)&&(!h["isMobileSafari"]&&s.includes("llhls")&&(s=s.filter((function(e){return"llhls"!==e}))),r("setStreamTypes",s)),n.streamType||r("setStreamType",s[0]),r("setStreamStream",{stream:{id:t.id,thumbUrl:t.thumbUrl,description:t.description,rawDescription:t.rawDescription,startedAt:t.startedAt,isOpened:t.isOpened,canJoin:t.canJoin,tipsSumm:+parseFloat(t.tipsSumm).toFixed(2),isShowTips:t.isShowTips,showCoStreamingRequest:t.showCoStreamingRequest,commentsCount:Number(t.commentsCount),canComment:t.canComment,canLike:t.canLike,canReport:t.canReport,serverList:t.serverList,roomName:t.room},instance:a});var u=Object(i["a"])(t.user,o["z"]);r("set",u,{root:!0}),r("setStreamUser",{user:{id:t.user.id,name:Object(y["b"])(t.user.name),username:t.user.username,displayName:t.user.displayName,isVerified:t.user.isVerified,tipsEnabled:t.user.tipsEnabled,subscribedBy:t.user.subscribedBy,canEarn:t.user.canEarn,isPerformer:t.user.isPerformer,avatar:t.user.avatar,avatarThumbs:t.user.avatarThumbs},instance:a});var l={isShowTipGoal:!!t.isShowTipsGoal,sum:+t.tipsGoalSum,progress:+t.tipsGoalProgress,description:t.tipsGoal};l.isShowTipGoal?n.streams[a].tipGoal.isShowTipGoal&&l.sum===n.streams[a].tipGoal.sum&&l.description===n.streams[a].tipGoal.description||(l.showTipGoalProgress=!0):l.showTipGoalProgress=!1,r("setTipGoal",{data:l,instance:a})},setStreamData:function(e){var t=e.state,n=e.getters,r=e.commit,a=e.dispatch,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o="";n.primary&&(o=n.primary.stream.rawDescription),a("setUserStreamData",i);var c=p()(t.streamsOrder,[i.user.id].concat(Object(s["a"])(i.partners.map((function(e){return e.user.id})))),Number);c.forEach((function(e){Object(v["d"])({instance:e}),r("removeStream",e)})),i.partners&&i.partners.length?(i.partners.forEach((function(e){a("setUserStreamData",e)})),i.primaryPartnerUserId?(i.primaryPartnerUserId=Number(i.primaryPartnerUserId),t.primaryInstance&&t.primaryInstance!=i.primaryPartnerUserId&&r("setPrimaryMovedToPartner",!0),r("setPrimaryInstance",i.primaryPartnerUserId)):r("setPrimaryInstance",i.user.id),r("setMode","dual-live")):(r("setPrimaryInstance",i.user.id),r("setMode","live")),n.primary.stream.rawDescription?o!==n.primary.stream.rawDescription&&r("setUI",{showStreamDescription:!0}):r("setUI",{showStreamDescription:!1})},loadMoreComments:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.getters,r=t.commit,e.next=3,Object(b["i"])(n.primary.stream.id,{id:x.comments.length?x.comments[0].id:void 0,limit:20});case 3:a=e.sent,s=a.list.reverse().map((function(e){return{id:e.comment_id,text:e.comment,user:e.user,isPrivate:!1}})),r("addComments",s),r("setLoadedCommentsCount",n.loadedCommentsCount+s.length),r("setHasMoreComments",a.hasMore);case 8:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),addComment:function(e,t){var n=e.commit;n("addComment",t)},addTipsComment:function(e,t){var n=e.state,r=e.commit,a=e.rootGetters,s=Object.values(n.streams).find((function(e){return e.user.id==t.stream_user_id}));if(s){var i=Object(v["e"])({vm:g["default"],authUser:a["auth/authUser"],fromUser:t.from_user,toUser:s.user,amount:t.amount_human,message:t.message});i&&r("addComment",{id:t.id,text:i,user:t.from_user})}},addLike:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=t.commit,r("addLike",n);case 2:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),switchToDualStreaming:function(e){var t=e.state,n=e.getters,r=e.commit,a=e.dispatch;r("setSwitchToDualStreaming",!0),a("streaming/doSwitchFromLive",{livePrimary:n.primary,partners:n.partners,comments:t.comments,UI:{showCommentForm:t.UI.showCommentForm,commentsViewMode:t.UI.commentsViewMode,showStreamDescription:t.UI.showStreamDescription}},{root:!0}),g["default"].$router.replace({name:"Streaming",params:{switchFromLive:!0}})},toggleCommentsViewMode:function(e){var t=e.state,n=e.commit,r="full"===t.UI.commentsViewMode?"compact":"full";n("setUI",{commentsViewMode:r})},setTipGoal:function(e,t){var n=e.commit,r=t.data,a=t.instance;n("setTipGoal",{data:r,instance:a})},updateLiveUser:function(e,t){var n=e.state,r=e.commit,a=Object.keys(n.streams).find((function(e){return e==t.id}));a&&r("setStreamUser",{user:{tipsEnabled:t.tipsEnabled,subscribedBy:t.subscribedBy},instance:a})},joinUser:function(e,t){var n=e.commit;n("addViewer",t)},leaveUser:function(e,t){var n=e.commit;n("removeViewer",t)},showStreamingViewersModal:function(e){var t=e.commit;t("setUI",{showStreamingViewers:!0})},setAllShowTipGoalProgress:function(e,t){var n=e.state,r=e.commit;n.streamsOrder.forEach((function(e){r("setTipGoal",{data:{showTipGoalProgress:t},instance:e})}))}}},ce23:function(e,t,n){"use strict";n("8e6e"),n("456d"),n("4917"),n("ac6a"),n("a481"),n("96cf");var r=n("3b8d"),a=n("bd86"),s=n("9b02"),i=n.n(s),o=n("56d7"),c=n("f05e"),u=n("d634"),d=n("1e36"),l=n("09e4");function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return o["default"].$emit("payment::end",{success:!0}),t?e.call(this):e};t["a"]={mixins:[d["a"]],data:function(){return{intentId:void 0,token:"",vat:null,retryCount:0,is3DRequested:!1,isAsyncPaymentResult:!1,asyncPaymentResult:null}},computed:m(m(m({},Object(u["b"])(["authUser"])),Object(u["bc"])(["getUser"])),Object(u["ob"])(["unavailablePaymentGates"])),beforeDestroy:function(){o["default"].$off("card::verify::success"),o["default"].$off("card::verify::hide",this.resetPaymentData)},methods:m(m(m({},Object(u["S"])(["setCardNeedVerify"])),Object(u["p"])(["fetchAllTransactions"])),{},{makePayments:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,s,u,d,f,h,b,g,v,y,w,O,j,k,S,x,P,I,C,R,T,_,A,L=this,E=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=E.length>1&&void 0!==E[1]?E[1]:null,o["default"].$emit("payment::start"),this.setCardNeedVerify({}),r=t.paymentType,a=t.amount,s=t.hideVatPopup,u=t.vatData,d=t.userId,!n){e.next=22;break}if(s||this.vat||!a||!u||"credit"===r){e.next=16;break}if(f={subscribe:"subscribes",message:"chat_messages",tip:"tips",post:"post",stream:"stream"},!f[r]||!u.vat[f[r]]){e.next=16;break}return this.vat=!0,o["default"].$once("alert:was:closed",this.resetPaymentData),h=this.getUser(d),b=i()(h,"canPayInternal",!1),g=this.authUser.creditBalance>=a&&b,v=g?"United States of America"===this.authUser.vatCountry?"message.confirm_us_vat_wallet_charge":"message.confirm_vat_wallet_charge":"United States of America"===this.authUser.vatCountry?"message.confirm_us_vat_charge":"message.confirm_vat_charge",alert({message:o["default"].$tVat(v,{AMOUNT:"$".concat((Math.ceil(parseFloat(a)*(100+parseFloat(u.vat[f[r]])))/100).toFixed(2).replace(".00","")),VAT_AMOUNT:"$".concat((Math.ceil(parseFloat(a)*parseFloat(u.vat[f[r]]))/100).toFixed(2).replace(".00","")),CLEAR_AMOUNT:"$".concat(parseFloat(a).toFixed(2).replace(".00","")),COUNTRY:this.authUser.vatCountry,STATE:this.authUser.vatState}),buttons:[{title:o["default"].$i18n.t("message.button_pay"),onclick:function(){o["default"].$off("alert:was:closed",L.resetPaymentData),n.call()},closeOnClick:!0}]}),e.abrupt("return",{success:!1});case 16:o["default"].$off("card::verify::success",n),o["default"].$off("card::verify::hide",this.resetPaymentData),window.showPreloader(),t.token=this.token,this.intentId&&(t.intentId=this.intentId),this.vat&&(t.vat=this.vat);case 22:if(e.prev=22,"complete"===this.paymentsLoaded){e.next=33;break}return e.prev=24,e.next=27,this.getPaymentsJs();case 27:e.next=33;break;case 29:return e.prev=29,e.t0=e["catch"](24),window.hidePreloader(),e.abrupt("return");case 33:if(["vat","vatData"].forEach((function(e){t[e]&&delete t[e]})),!this.isAsyncPaymentResult){e.next=38;break}y=this.asyncPaymentResult,e.next=41;break;case 38:return e.next=40,Object(c["l"])(m(m({},t),{},{unavailablePaymentGates:this.unavailablePaymentGates}));case 40:y=e.sent;case 41:return n&&(this.$window.hidePreloader(),this.resetPaymentData(),"PaymentsCreditsTransactions"===this.$route.name&&this.fetchAllTransactions()),o["default"].$emit("payment::end"),e.abrupt("return",y);case 46:if(e.prev=46,e.t1=e["catch"](22),!n){e.next=92;break}if(window.hidePreloader(),w=function(){switch(r){case"subscribe":return"doSubscribe";case"message":case"templates":return"doPayChat";case"credit":return"doPayCredits";case"post":return"doPayPost";case"stream":return"doPayStream";case"tip":return"doTips";case"fraud":return"doPayFraud";default:return null}}(),w){e.next=53;break}throw e.t1;case 53:if(201!==i()(e.t1,"data.error.code")){e.next=68;break}return O={subscribe:["userId","bundleId"],message:["messageId"],templates:!1,credit:!1,post:["postId"],stream:!1,tip:!1},this.is3DRequested=!0,this.intentId=i()(e.t1,"data.error.payload.intentId"),this.isAsyncPaymentResult=!!i()(e.t1,"data.error.payload.isAsyncPaymentResult"),window[w]="doTips"===w?function(e,t,r,a){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";L.isAsyncPaymentResult?L.asyncPaymentResult=s:L.token=s,p.call(L,n)}:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";L.isAsyncPaymentResult?L.asyncPaymentResult=t:L.token=t,p.call(L,n)},j=e.t1.data.error.message.match("checkout3DSecure"),k=!1,S=(new Date).getTime(),j&&(O[r]&&(O[r].push("amount"),k=btoa(O[r].reduce((function(e,n){return e.push(t[n]||"undefined"),e}),[r]).join("."))),k&&(x=function(e){e!==S&&(alert(C.$t("message.3d_secure_another_tab")),document.dispatchEvent(new Event(I)))},P=function e(){o["default"].$off(I,x),document.removeEventListener(I,e),C.$nextTick((function(){C.resetPaymentData()}))},o["default"].$socket.sendObj({act:"me",paymentLocalUniqueId:k,timestamp:S}),e.t1.data.error.message=e.t1.data.error.message.replace("checkout3DSecure(",'checkout3DSecure.call({ id: "'.concat(k,'" }, ')),I="msg::paymentLocalUniqueId::".concat(k),C=this,o["default"].$on(I,x),document.addEventListener(I,P))),R=document.getElementsByTagName("head")[0],T=document.createElement("script"),T.innerText=e.t1.data.error.message,R.appendChild(T),e.abrupt("return");case 68:if(107!==i()(e.t1,"data.error.code")){e.next=75;break}return _=e.t1.data.error.payload.card,this.setCardNeedVerify(_),o["default"].$once("card::verify::hide",this.resetPaymentData),o["default"].$once("card::verify::success",p.call(this,n,!1)),this.$nextTick((function(){o["default"].$emit("bv::show::modal","ModalCardVerifyZip")})),e.abrupt("return");case 75:if(this.token="",this.intentId=void 0,this.asyncPaymentResult=null,this.isAsyncPaymentResult=!1,"PaymentsCreditsTransactions"===o["default"].$route.name&&this.fetchAllTransactions(),A={},!i()(e.t1,"data.error.payload.canRetry")){e.next=87;break}if(this.retryCount+=1,"US"!==i()(e.t1,"data.error.payload.countryCode")||1!==this.retryCount||this.is3DRequested){e.next=86;break}return setTimeout((function(){p.call(L,n)}),100),e.abrupt("return");case 86:A.buttons=[{title:this.$i18n.t("message.retry"),onclick:function(){o["default"].$off("alert:was:closed",L.resetPaymentData),p.call(L,n)},closeOnClick:!0}];case 87:o["default"].$once("alert:was:closed",this.resetPaymentData),o["default"].$emit("payment::end",{success:!1}),Object(l["b"])(e.t1,A),e.next=94;break;case 92:throw o["default"].$emit("payment::end",{success:!1}),e.t1;case 94:case"end":return e.stop()}}),e,this,[[22,46],[24,29]])})));function t(t){return e.apply(this,arguments)}return t}(),resetPaymentData:function(){this.vat=null,this.token="",this.intentId=void 0,this.retryCount=0,this.is3DRequested=!1,this.asyncPaymentResult=null,this.isAsyncPaymentResult=!1}})}},cfee:function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"f",(function(){return c})),n.d(t,"b",(function(){return u}));var r=n("b775"),a=function(){var e="".concat(r["b"],"/shopify/stores");return r["d"].get(e).then((function(e){return e.data}))},s=function(e){var t="".concat(r["b"],"/shopify/stores/").concat(e);return r["d"].delete(t).then((function(e){return e.data}))},i=function(e){var t="".concat(r["b"],"/users/").concat(e,"/shopify/products");return r["d"].get(t).then((function(e){return e.data}))},o=function(e){var t="".concat(r["b"],"/users/me/shopify/products");return r["d"].post(t,{url:e}).then((function(e){return e.data}))},c=function(e){var t="".concat(r["b"],"/users/me/shopify/products/sort");return r["d"].post(t,{order:e}).then((function(e){return e.data}))},u=function(e){var t="".concat(r["b"],"/users/me/shopify/products/").concat(e);return r["d"].delete(t).then((function(e){return e.data}))}},d3e9:function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return d})),n.d(t,"getters",(function(){return l})),n.d(t,"mutations",(function(){return f}));n("8e6e"),n("ac6a"),n("456d");var r=n("75fc"),a=n("bd86"),s=n("7618");function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c=5,u=function(){return{route:{from:{name:"",path:"",fullPath:"",params:{},query:{},meta:{}},to:{name:"",path:"",fullPath:"",params:{},query:{},meta:{}}},history:[]}},d=u(),l={route:function(e){return e.route}},f={setRoute:function(e,t){var n="object"===Object(s["a"])(t)&&"object"===Object(s["a"])(t.to)?t.to:{},a=e.history&&e.history.length?e.history:[];e.route=o({},t),e.history=[n].concat(Object(r["a"])(a)).slice(0,c)},logout:function(){}}},d634:function(e,t,n){"use strict";n.d(t,"hc",(function(){return c})),n.d(t,"bc",(function(){return u})),n.d(t,"gc",(function(){return d})),n.d(t,"ac",(function(){return l})),n.d(t,"cb",(function(){return f})),n.d(t,"ab",(function(){return m})),n.d(t,"bb",(function(){return p})),n.d(t,"Z",(function(){return h})),n.d(t,"o",(function(){return b})),n.d(t,"n",(function(){return g})),n.d(t,"L",(function(){return v})),n.d(t,"M",(function(){return y})),n.d(t,"d",(function(){return w})),n.d(t,"b",(function(){return O})),n.d(t,"c",(function(){return j})),n.d(t,"a",(function(){return k})),n.d(t,"rb",(function(){return S})),n.d(t,"sb",(function(){return x})),n.d(t,"m",(function(){return P})),n.d(t,"k",(function(){return I})),n.d(t,"l",(function(){return C})),n.d(t,"j",(function(){return R})),n.d(t,"Ib",(function(){return T})),n.d(t,"Hb",(function(){return _})),n.d(t,"Kb",(function(){return A})),n.d(t,"Lb",(function(){return L})),n.d(t,"Jb",(function(){return E})),n.d(t,"Nb",(function(){return M})),n.d(t,"Ob",(function(){return U})),n.d(t,"Mb",(function(){return D})),n.d(t,"qb",(function(){return F})),n.d(t,"pb",(function(){return B})),n.d(t,"ob",(function(){return N})),n.d(t,"mb",(function(){return q})),n.d(t,"nb",(function(){return V})),n.d(t,"lb",(function(){return $})),n.d(t,"A",(function(){return H})),n.d(t,"y",(function(){return G})),n.d(t,"z",(function(){return z})),n.d(t,"x",(function(){return W})),n.d(t,"Vb",(function(){return Y})),n.d(t,"Wb",(function(){return X})),n.d(t,"Ub",(function(){return Q})),n.d(t,"Qb",(function(){return K})),n.d(t,"Rb",(function(){return J})),n.d(t,"Pb",(function(){return Z})),n.d(t,"O",(function(){return ee})),n.d(t,"P",(function(){return te})),n.d(t,"N",(function(){return ne})),n.d(t,"xb",(function(){return re})),n.d(t,"yb",(function(){return ae})),n.d(t,"wb",(function(){return se})),n.d(t,"Y",(function(){return ie})),n.d(t,"gb",(function(){return oe})),n.d(t,"fb",(function(){return ce})),n.d(t,"q",(function(){return ue})),n.d(t,"p",(function(){return de})),n.d(t,"R",(function(){return le})),n.d(t,"S",(function(){return fe})),n.d(t,"Q",(function(){return me})),n.d(t,"ub",(function(){return pe})),n.d(t,"vb",(function(){return he})),n.d(t,"tb",(function(){return be})),n.d(t,"f",(function(){return ge})),n.d(t,"g",(function(){return ve})),n.d(t,"e",(function(){return ye})),n.d(t,"Cb",(function(){return we})),n.d(t,"Ab",(function(){return Oe})),n.d(t,"zb",(function(){return je})),n.d(t,"Bb",(function(){return ke})),n.d(t,"i",(function(){return Se})),n.d(t,"h",(function(){return xe})),n.d(t,"Tb",(function(){return Pe})),n.d(t,"Sb",(function(){return Ie})),n.d(t,"Gb",(function(){return Ce})),n.d(t,"Eb",(function(){return Re})),n.d(t,"Fb",(function(){return Te})),n.d(t,"Db",(function(){return _e})),n.d(t,"C",(function(){return Ae})),n.d(t,"D",(function(){return Le})),n.d(t,"B",(function(){return Ee})),n.d(t,"F",(function(){return Me})),n.d(t,"G",(function(){return Ue})),n.d(t,"E",(function(){return De})),n.d(t,"hb",(function(){return Fe})),n.d(t,"fc",(function(){return Be})),n.d(t,"dc",(function(){return Ne})),n.d(t,"ec",(function(){return qe})),n.d(t,"cc",(function(){return Ve})),n.d(t,"Zb",(function(){return $e})),n.d(t,"Yb",(function(){return He})),n.d(t,"X",(function(){return Ge})),n.d(t,"W",(function(){return ze})),n.d(t,"eb",(function(){return We})),n.d(t,"db",(function(){return Ye})),n.d(t,"U",(function(){return Xe})),n.d(t,"V",(function(){return Qe})),n.d(t,"T",(function(){return Ke})),n.d(t,"K",(function(){return Je})),n.d(t,"I",(function(){return Ze})),n.d(t,"J",(function(){return et})),n.d(t,"H",(function(){return tt})),n.d(t,"Xb",(function(){return nt})),n.d(t,"s",(function(){return rt})),n.d(t,"r",(function(){return at})),n.d(t,"w",(function(){return st})),n.d(t,"v",(function(){return it})),n.d(t,"t",(function(){return ot})),n.d(t,"u",(function(){return ct})),n.d(t,"jb",(function(){return ut})),n.d(t,"kb",(function(){return dt})),n.d(t,"ib",(function(){return lt}));n("8e6e"),n("ac6a"),n("456d");var r=n("75fc"),a=n("bd86"),s=n("2f62");function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c=function(e){return o({},Object(s["e"])("users",Object(r["a"])(e)))},u=function(e){return o({},Object(s["c"])("users",Object(r["a"])(e)))},d=function(e){return o({},Object(s["d"])("users",Object(r["a"])(e)))},l=function(e){return o({},Object(s["b"])("users",Object(r["a"])(e)))},f=function(e){return o({},Object(s["e"])("posts",Object(r["a"])(e)))},m=function(e){return o({},Object(s["c"])("posts",Object(r["a"])(e)))},p=function(e){return o({},Object(s["d"])("posts",Object(r["a"])(e)))},h=function(e){return o({},Object(s["b"])("posts",Object(r["a"])(e)))},b=function(e){return o({},Object(s["c"])("comments",Object(r["a"])(e)))},g=function(e){return o({},Object(s["b"])("comments",Object(r["a"])(e)))},v=function(e){return o({},Object(s["c"])("modals",Object(r["a"])(e)))},y=function(e){return o({},Object(s["d"])("modals",Object(r["a"])(e)))},w=function(e){return o({},Object(s["e"])("auth",Object(r["a"])(e)))},O=function(e){return o({},Object(s["c"])("auth",Object(r["a"])(e)))},j=function(e){return o({},Object(s["d"])("auth",Object(r["a"])(e)))},k=function(e){return o({},Object(s["b"])("auth",Object(r["a"])(e)))},S=function(e){return o({},Object(s["c"])("socket",Object(r["a"])(e)))},x=function(e){return o({},Object(s["d"])("socket",Object(r["a"])(e)))},P=function(e){return o({},Object(s["e"])("chats",Object(r["a"])(e)))},I=function(e){return o({},Object(s["c"])("chats",Object(r["a"])(e)))},C=function(e){return o({},Object(s["d"])("chats",Object(r["a"])(e)))},R=function(e){return o({},Object(s["b"])("chats",Object(r["a"])(e)))},T=function(e){return o({},Object(s["c"])("streams",Object(r["a"])(e)))},_=function(e){return o({},Object(s["b"])("streams",Object(r["a"])(e)))},A=function(e){return o({},Object(s["c"])("streamsPast",Object(r["a"])(e)))},L=function(e){return o({},Object(s["d"])("streamsPast",Object(r["a"])(e)))},E=function(e){return o({},Object(s["b"])("streamsPast",Object(r["a"])(e)))},M=function(e){return o({},Object(s["c"])("streamsScheduled",Object(r["a"])(e)))},U=function(e){return o({},Object(s["d"])("streamsScheduled",Object(r["a"])(e)))},D=function(e){return o({},Object(s["b"])("streamsScheduled",Object(r["a"])(e)))},F=function(e){return o({},Object(s["c"])("shopify",Object(r["a"])(e)))},B=function(e){return o({},Object(s["b"])("shopify",Object(r["a"])(e)))},N=function(e){return o({},Object(s["e"])("settings",Object(r["a"])(e)))},q=function(e){return o({},Object(s["c"])("settings",Object(r["a"])(e)))},V=function(e){return o({},Object(s["d"])("settings",Object(r["a"])(e)))},$=function(e){return o({},Object(s["b"])("settings",Object(r["a"])(e)))},H=function(e){return o({},Object(s["e"])("init",Object(r["a"])(e)))},G=function(e){return o({},Object(s["c"])("init",Object(r["a"])(e)))},z=function(e){return o({},Object(s["d"])("init",Object(r["a"])(e)))},W=function(e){return o({},Object(s["b"])("init",Object(r["a"])(e)))},Y=function(e){return o({},Object(s["c"])("subscribes",Object(r["a"])(e)))},X=function(e){return o({},Object(s["d"])("subscribes",Object(r["a"])(e)))},Q=function(e){return o({},Object(s["b"])("subscribes",Object(r["a"])(e)))},K=function(e){return o({},Object(s["c"])("subscribers",Object(r["a"])(e)))},J=function(e){return o({},Object(s["d"])("subscribers",Object(r["a"])(e)))},Z=function(e){return o({},Object(s["b"])("subscribers",Object(r["a"])(e)))},ee=function(e){return o({},Object(s["c"])("offers",Object(r["a"])(e)))},te=function(e){return o({},Object(s["d"])("offers",Object(r["a"])(e)))},ne=function(e){return o({},Object(s["b"])("offers",Object(r["a"])(e)))},re=function(e){return o({},Object(s["c"])("static",Object(r["a"])(e)))},ae=function(e){return o({},Object(s["d"])("static",Object(r["a"])(e)))},se=function(e){return o({},Object(s["b"])("static",Object(r["a"])(e)))},ie=function(e){return o({},Object(s["b"])("postStatCollector",Object(r["a"])(e)))},oe=function(e){return o({},Object(s["e"])("referrals",Object(r["a"])(e)))},ce=function(e){return o({},Object(s["b"])("referrals",Object(r["a"])(e)))},ue=function(e){return o({},Object(s["e"])("creditTransactions",Object(r["a"])(e)))},de=function(e){return o({},Object(s["b"])("creditTransactions",Object(r["a"])(e)))},le=function(e){return o({},Object(s["c"])("payments",Object(r["a"])(e)))},fe=function(e){return o({},Object(s["d"])("payments",Object(r["a"])(e)))},me=function(e){return o({},Object(s["b"])("payments",Object(r["a"])(e)))},pe=function(e){return o({},Object(s["c"])("statements",Object(r["a"])(e)))},he=function(e){return o({},Object(s["d"])("statements",Object(r["a"])(e)))},be=function(e){return o({},Object(s["b"])("statements",Object(r["a"])(e)))},ge=function(e){return o({},Object(s["c"])("banking",Object(r["a"])(e)))},ve=function(e){return o({},Object(s["d"])("banking",Object(r["a"])(e)))},ye=function(e){return o({},Object(s["b"])("banking",Object(r["a"])(e)))},we=function(e){return o({},Object(s["e"])("stories",Object(r["a"])(e)))},Oe=function(e){return o({},Object(s["c"])("stories",Object(r["a"])(e)))},je=function(e){return o({},Object(s["b"])("stories",Object(r["a"])(e)))},ke=function(e){return o({},Object(s["d"])("stories",Object(r["a"])(e)))},Se=function(e){return o({},Object(s["c"])("bundles",Object(r["a"])(e)))},xe=function(e){return o({},Object(s["b"])("bundles",Object(r["a"])(e)))},Pe=function(e){return o({},Object(s["c"])("subscribersStat",Object(r["a"])(e)))},Ie=function(e){return o({},Object(s["b"])("subscribersStat",Object(r["a"])(e)))},Ce=function(e){return o({},Object(s["e"])("streaming",Object(r["a"])(e)))},Re=function(e){return o({},Object(s["c"])("streaming",Object(r["a"])(e)))},Te=function(e){return o({},Object(s["d"])("streaming",Object(r["a"])(e)))},_e=function(e){return o({},Object(s["b"])("streaming",Object(r["a"])(e)))},Ae=function(e){return o({},Object(s["c"])("live",Object(r["a"])(e)))},Le=function(e){return o({},Object(s["d"])("live",Object(r["a"])(e)))},Ee=function(e){return o({},Object(s["b"])("live",Object(r["a"])(e)))},Me=function(e){return o({},Object(s["c"])("massMessagesStat",Object(r["a"])(e)))},Ue=function(e){return o({},Object(s["d"])("massMessagesStat",Object(r["a"])(e)))},De=function(e){return o({},Object(s["b"])("massMessagesStat",Object(r["a"])(e)))},Fe=function(e){return o({},Object(s["c"])("router",Object(r["a"])(e)))},Be=function(e){return o({},Object(s["e"])("usersLists",Object(r["a"])(e)))},Ne=function(e){return o({},Object(s["c"])("usersLists",Object(r["a"])(e)))},qe=function(e){return o({},Object(s["d"])("usersLists",Object(r["a"])(e)))},Ve=function(e){return o({},Object(s["b"])("usersLists",Object(r["a"])(e)))},$e=function(e){return o({},Object(s["c"])("lastPosts",Object(r["a"])(e)))},He=function(e){return o({},Object(s["b"])("lastPosts",Object(r["a"])(e)))},Ge=function(e){return o({},Object(s["e"])("photoSwipe",e))},ze=function(e){return o({},Object(s["d"])("photoSwipe",e))},We=function(e){return o({},Object(s["c"])("profileStats",Object(r["a"])(e)))},Ye=function(e){return o({},Object(s["b"])("profileStats",Object(r["a"])(e)))},Xe=function(e){return o({},Object(s["c"])("performerHelpers",Object(r["a"])(e)))},Qe=function(e){return o({},Object(s["d"])("performerHelpers",Object(r["a"])(e)))},Ke=function(e){return o({},Object(s["b"])("performerHelpers",Object(r["a"])(e)))},Je=function(e){return o({},Object(s["e"])("mediaVault",Object(r["a"])(e)))},Ze=function(e){return o({},Object(s["c"])("mediaVault",Object(r["a"])(e)))},et=function(e){return o({},Object(s["d"])("mediaVault",Object(r["a"])(e)))},tt=function(e){return o({},Object(s["b"])("mediaVault",Object(r["a"])(e)))},nt=function(e){return o({},Object(s["c"])("translations",Object(r["a"])(e)))},rt=function(e){return o({},Object(s["e"])("currentPlayMedia",Object(r["a"])(e)))},at=function(e){return o({},Object(s["d"])("currentPlayMedia",Object(r["a"])(e)))},st=function(e){return o({},Object(s["d"])("formApiErrors",Object(r["a"])(e)))},it=function(e){return o({},Object(s["e"])("draft",Object(r["a"])(e)))},ot=function(e){return o({},Object(s["c"])("draft",Object(r["a"])(e)))},ct=function(e){return o({},Object(s["d"])("draft",Object(r["a"])(e)))},ut=function(e){return o({},Object(s["c"])("schedule",Object(r["a"])(e)))},dt=function(e){return o({},Object(s["d"])("schedule",Object(r["a"])(e)))},lt=function(e){return o({},Object(s["b"])("schedule",Object(r["a"])(e)))}},d7bc:function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return o})),n.d(t,"getters",(function(){return c})),n.d(t,"mutations",(function(){return d}));n("8e6e"),n("ac6a"),n("456d");var r=n("bd86");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var i=function(){return{sidebar:{isShow:!1},otpModal:{isShow:!1,title:"",strong:!1,app:!1,phone:!1,phoneLast4:"",face:!1},otpCardModal:{isShow:!1,cardAuthState:{}},reportPostId:null,reportType:"",alert:{title:"",text:"",html:!1,onclose:null,buttons:[],hideCloseBtn:!1,headerIcon:null},preloader:{isShow:!1},trustModal:{email:!1,phoneOtp:!1,appOtp:!1}}},o=i(),c={isSidebarShow:function(e){return e.sidebar.isShow},isOtpModalShow:function(e){return e.otpModal.isShow},otpModalTitle:function(e){return e.otpModal.title},otpModalStrong:function(e){return e.otpModal.strong},otpModalApp:function(e){return e.otpModal.app},otpModalPhone:function(e){return e.otpModal.phone},otpModalPhoneCode:function(e){return e.otpModal.phoneCode},otpModalPhoneLast4:function(e){return e.otpModal.phoneLast4},otpModalFace:function(e){return e.otpModal.face},otpModalEmail:function(e){return e.otpModal.email},otpPhoneCode:function(e){return e.otpModal.phoneCode},reportType:function(e){return{type:e.reportType,postId:e.reportPostId}},alert:function(e){return e.alert},isPreloaderShow:function(e){return e.preloader.isShow},trustModal:function(e){return e.trustModal},otpCardModal:function(e){return e.otpCardModal}},u=function(e){e?(document.documentElement.classList.add("m-sidebar-visible"),window.disableBodyScroll(!0)):(document.documentElement.classList.remove("m-sidebar-visible"),window.enableBodyScroll(!0))},d={sidebarShow:function(e,t){e.sidebar.isShow=t,u(t)},sidebarToggle:function(e){e.sidebar.isShow=!e.sidebar.isShow;var t=e.sidebar.isShow;u(t)},otpModalShow:function(e,t){e.otpModal.isShow=t,t?document.body.classList.add("m-prevent-scrolling","modal-open"):document.body.classList.remove("m-prevent-scrolling","modal-open")},setOtpModalTitle:function(e,t){e.otpModal.title=t},setOtpModalStrong:function(e,t){e.otpModal.strong=t},setOtpModalPhone:function(e,t){e.otpModal.phone=t},setOtpModalPhoneLast4:function(e,t){e.otpModal.phoneLast4=t},setOtpModalFace:function(e,t){e.otpModal.face=t},setOtpModalEmail:function(e,t){e.otpModal.email=t},setOtpModalPhoneCode:function(e,t){e.otpModal.phoneCode=t},setOtpModalApp:function(e,t){e.otpModal.app=t},setReportType:function(e,t){var n=t.type,r=t.postId;e.reportType=n,r&&(e.reportPostId=r)},setAlert:function(e,t){var n=t.title,r=t.text,a=t.html,s=void 0!==a&&a,i=t.onclose,o=void 0===i?null:i,c=t.buttons,u=void 0===c?[]:c,d=t.hideCloseBtn,l=void 0!==d&&d,f=t.headerIcon,m=void 0===f?null:f;e.alert={title:n,text:r,html:s,onclose:o,buttons:u,hideCloseBtn:l,headerIcon:m}},preloaderShow:function(e,t){e.preloader.isShow=t},setTrustModal:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.trustModal=s(s({},{email:!1,phoneOtp:!1,appOtp:!1}),t)},setOtpCardModal:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.otpCardModal=s(s({},i().otpCardModal),t)},logout:function(e){Object.assign(e,i())}}},d931:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return m})),n.d(t,"g",(function(){return f})),n.d(t,"e",(function(){return p})),n.d(t,"f",(function(){return h})),n.d(t,"h",(function(){return b}));n("96cf");var r=n("3b8d"),a=n("c393"),s=n("2b0e"),i=function(){return Promise.all([n.e("vendor-streaming"),n.e("chunk-vendors")]).then(n.t.bind(null,"29ef",7))},o=s["default"].extend(a["a"]),c=!0,u=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(window.streamModule){e.next=5;break}return e.next=3,i();case 3:n=e.sent,window.streamModule=new n.StreamModule(t);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,a=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=a.length>1&&void 0!==a[1]?a[1]:"webrtc",window.viewModule||(window.viewModule={}),window.viewModule[t]){e.next=7;break}return e.next=5,i();case 5:r=e.sent,window.viewModule[t]=new r.ViewModule(n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){window.streamModule&&window.streamModule.stopStream(!1,"StreamStoppedBeforeModuleDestroy"),delete window.streamModule},f=function(e,t){if(window.viewModule){var n=window.viewModule[e];n&&n.isStreamStarted&&n.stopStream(!1,!0,t)}},m=function(e){var t=e.instance,n=e.leave,r=void 0===n||n,a=e.reason;window.viewModule&&window.viewModule[t]&&(r&&f(t,a),delete window.viewModule[t])},p=function(e){var t,n=e.vm,r=e.authUser,a=(e.fromUser,e.toUser),s=e.amount,i=e.message;return t=r.id==a.id?n.$root.$i18n.t("message.stream_tip_comment",{SUMM:"<strong>".concat(s,"</strong> ")}):n.$i18n.t("message.stream_tip_comment_customer",{SUMM:"<strong>".concat(s,"</strong> "),MODEL:a.name}),i&&(t+="<br>".concat(i.trim())),t},h=function(e,t){var n=t||document.getElementById("video_".concat(e.streamUserId)),r=document.getElementById("video_container_".concat(e.streamUserId));if(n&&r){var a=0,s="100%",i=n,c=i.videoWidth,u=i.videoHeight,d=u/c,l=i.offsetWidth,f=i.offsetHeight,m=f/l;d>m?(u=f,c=u/d):(c=l,u=c*d);var p=e.x*c,h=e.y*u;p&&(a=p-25+(l-c)/2,s=h+40+(f-u)/2);var b=new o({propsData:{startLeft:a,startTop:s}});b.$mount(),r.appendChild(b.$el),setTimeout((function(){r&&r.removeChild(b.$el),b.$destroy()}),1500)}},b={streamTypes:c?{webrtc:"WebRTC",nano:"Low latency",tcp:"TCP"}:{webrtc:"WebRTC",nano:"Low latency",wowza:"Service 2",tcp:"TCP"},canCostreamingStreamTypes:["webrtc","tcp","hls"]}},d954:function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return x})),n.d(t,"getters",(function(){return P})),n.d(t,"mutations",(function(){return I})),n.d(t,"actions",(function(){return C}));n("8e6e"),n("456d");var r=n("7618"),a=(n("55dd"),n("96cf"),n("3b8d")),s=(n("6762"),n("2fdb"),n("20d6"),n("c5f6"),n("ac6a"),n("bd86")),i=n("75fc"),o=(n("7514"),n("9b02")),c=n.n(o),u=n("b775"),d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.limit,n=void 0===t?u["e"]:t,r=e.offset,a=void 0===r?0:r,s=e.query,i=e.field,o=e.sort,c=e.list,d=e.cancelToken,l=Object(u["c"])({limit:n,offset:a,query:s,field:i,sort:o,list:c}),f="".concat(u["b"],"/vault/media").concat(l);return u["d"].get(f,{cancelToken:d}).then((function(e){return e.data}))},l=function(e){var t=e.ids,n="".concat(u["b"],"/vault/media/hidden");return u["d"].put(n,{mediaIds:t}).then((function(e){return e.data}))},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.view,n=void 0===t?"list":t,r=Object(u["c"])({view:n}),a="".concat(u["b"],"/vault/lists").concat(r);return u["d"].get(a).then((function(e){return e.data}))},m=function(e){var t="".concat(u["b"],"/vault/lists");return u["d"].post(t,{name:e}).then((function(e){return e.data}))},p=function(e){var t=e.id,n=e.name,r="".concat(u["b"],"/vault/lists/").concat(t);return u["d"].patch(r,{name:n}).then((function(e){return e.data}))},h=function(e){var t="".concat(u["b"],"/vault/lists/").concat(e);return u["d"].delete(t).then((function(e){return e.data}))},b=function(e,t){var n="".concat(u["b"],"/vault/lists/").concat(e,"/media/").concat(t);return u["d"].post(n).then((function(e){return e.data}))},g=function(e){var t="".concat(u["b"],"/vault/lists/media");return u["d"].post(t,e).then((function(e){return e.data}))},v=function(e,t){var n="".concat(u["b"],"/vault/lists/").concat(t,"/media");return u["d"].delete(n,{data:{data:e}}).then((function(e){return e.data}))},y=function(e,t){var n="".concat(u["b"],"/vault/lists/").concat(e,"/media/").concat(t);return u["d"].delete(n).then((function(e){return e.data}))},w=function(e){var t="".concat(u["b"],"/vault/lists/sort");return u["d"].post(t,e).then((function(e){return e.data}))},O=n("09e4");function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){Object(s["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var S=function(){return{items:[],isLoadingMedia:!1,fieldVault:"default",sortVault:"asc",vaultFilter:"recent",vaultOrder:"desc",isLoadingMediaLists:!1,vaultLists:[],vaultListsMain:[],hasMoreList:!1,hasMoreListMain:!1,modalCustomVaultListId:"",customOrderEnabledVault:!1}},x=S(),P={posts:function(e){return e.items.filter((function(e){return!e.hidden}))},totalPosts:function(e){return e.items.length},hasPosts:function(e){return!!e.items.length},getMediaId:function(e){return function(t){return e.items.find((function(e){return e.id===t}))}}},I={setLoadingMedia:function(e,t){e.isLoadingMedia=t},setItems:function(e,t){e.items=t},addItems:function(e,t){e.items=[].concat(Object(i["a"])(e.items),Object(i["a"])(t))},hideMediaVaultByIds:function(e,t){e.items=e.items.map((function(e){return-1!==t.indexOf(e.id)?k(k({},e),{},{hidden:!0}):e}))},setSortVault:function(e,t){e.sortVault=t},setFieldVault:function(e,t){e.fieldVault=t},setVaultLists:function(e,t){e.vaultLists=t},setVaultListsMain:function(e,t){e.vaultListsMain=t},setLoadingMediaLists:function(e,t){e.isLoadingMediaLists=t},setHasMoreList:function(e,t){e.hasMoreList=t},setNewList:function(e,t){e.vaultListsMain=[t].concat(Object(i["a"])(e.vaultListsMain))},deleteVaultList:function(e,t){e.vaultListsMain=e.vaultListsMain.filter((function(e){return e.id!==t}))},setModalCustomVaultListId:function(e,t){e.modalCustomVaultListId=t},setUpdateVaultListName:function(e,t){e.vaultListsMain.forEach((function(e){Number(e.id)===Number(t.id)&&(e.name=t.name)}))},setUpdateVaultMedia:function(e,t){var n=e.items.findIndex((function(e){return Number(e.id)===t.mediaId})),r=e.items[n].listStates.findIndex((function(e){return Number(e.id)===t.listId}));-1!==r&&(e.items[n].listStates[r].hasMedia=t.hasMedia),-1===r&&e.items[n].listStates.push({hasMedia:t.hasMedia,id:t.listId})},setUpdateSomeVaultMedia:function(e,t){var n=t.mediaIdList,r=t.listId,a=t.hasMedia;n.forEach((function(t){var n=e.items.findIndex((function(e){return Number(e.id)===t})),s=e.items[n].listStates.findIndex((function(e){return Number(e.id)===r}));-1!==s&&(e.items[n].listStates[s].hasMedia=!a),-1===s&&e.items[n].listStates.push({hasMedia:!a,id:r})}))},setCustomOrderEnabledVault:function(e,t){e.customOrderEnabledVault=t},setHasMoreListMain:function(e,t){e.hasMoreListMain=t},setVaultFilter:function(e,t){e.vaultFilter=t},setVaultOrder:function(e,t){e.vaultOrder=t},logout:function(e){Object.assign(e,S())},toggleMediaVisibility:function(e,t){var n=t.mediaIds,r=t.hidden;e.items=e.items.map((function(e){return n.includes(e.id)?k(k({},e),{},{hidden:r}):e}))}},C={fetchMediaVaultByType:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,a,s,i,o,l,f,m,p,h,b,g,v,y,w,O,j=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,a=j.length>1&&void 0!==j[1]?j[1]:{},s=a.limit,i=void 0===s?24:s,o=a.offset,l=void 0===o?0:o,f=a.more,m=void 0!==f&&f,p=a.query,h=a.field,b=a.sort,g=a.list,n("setLoadingMedia",!0),m||n("setItems",[]),v=Object(u["f"])("fetchMediaVaultByType"),y=v.cancelToken,w=v.Cancel,e.prev=5,e.next=8,d({limit:i,offset:l,query:p,field:h,sort:b,list:g,cancelToken:y});case 8:O=e.sent,e.next=15;break;case 11:return e.prev=11,e.t0=e["catch"](5),e.t0 instanceof w||n("setLoadingMedia",!1),e.abrupt("return",{list:[],hasMore:!1});case 15:if(O&&"object"===Object(r["a"])(O)&&O.list.length){e.next=18;break}return n("setLoadingMedia",!1),e.abrupt("return",{list:[],hasMore:c()(O,"hasMore",!1)});case 18:return n(m?"addItems":"setItems",O.list),n("setLoadingMedia",!1),e.abrupt("return",O);case 21:case"end":return e.stop()}}),e,null,[[5,11]])})));function t(t){return e.apply(this,arguments)}return t}(),hideMediaVaultByIds:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.prev=1,e.next=4,l({ids:n});case 4:e.next=8;break;case 6:e.prev=6,e.t0=e["catch"](1);case 8:r("hideMediaVaultByIds",n);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));function t(t,n){return e.apply(this,arguments)}return t}(),resetMediaVault:function(e){var t=e.commit;t("logout")},fetchVaultList:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,s,i,o,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,r("setLoadingMediaLists",!0),e.prev=2,e.next=5,f(n);case 5:if(a=e.sent,!a){e.next=12;break}return s=a.list,i=void 0===s?[]:s,o=a.hasMore,c=void 0!==o&&o,"list"===n.view&&(r("setVaultLists",i),r("setHasMoreList",c)),"main"===n.view&&(r("setVaultListsMain",i),r("setHasMoreListMain",c)),r("setLoadingMediaLists",!1),e.abrupt("return",!0);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](2),Sentry.captureException(e.t0);case 17:return r("setLoadingMediaLists",!1),e.abrupt("return",!1);case 19:case"end":return e.stop()}}),e,null,[[2,14]])})));function t(t,n){return e.apply(this,arguments)}return t}(),addVaultList:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.prev=1,e.next=4,m(n);case 4:a=e.sent,a&&r("setNewList",a),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),Sentry.captureException(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));function t(t,n){return e.apply(this,arguments)}return t}(),deleteVaultList:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.prev=1,e.next=4,h(n);case 4:if(a=e.sent,!a||!a.success){e.next=8;break}return r("deleteVaultList",n),e.abrupt("return",!0);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](1),Object(O["b"])(e.t0);case 13:return e.abrupt("return",!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));function t(t,n){return e.apply(this,arguments)}return t}(),updateVaultList:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,a=n.id,s=n.name,e.prev=2,e.next=5,p({id:a,name:s});case 5:i=e.sent,i&&i.id&&r("setUpdateVaultListName",i),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](2),Object(O["b"])(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));function t(t,n){return e.apply(this,arguments)}return t}(),toggleMediaInList:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,s,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=t.commit,a=n.listId,s=n.mediaId,i=n.hasMedia,e.prev=2,!i){e.next=9;break}return e.next=6,y(a,s);case 6:e.t0=e.sent,e.next=12;break;case 9:return e.next=11,b(a,s);case 11:e.t0=e.sent;case 12:if(o=e.t0,!o){e.next=16;break}return r("setUpdateVaultMedia",{hasMedia:o.mediaState.hasMedia,listId:a,mediaId:s}),e.abrupt("return",!0);case 16:e.next=21;break;case 18:e.prev=18,e.t1=e["catch"](2),Object(O["b"])(e.t1);case 21:return e.abrupt("return",!1);case 22:case"end":return e.stop()}}),e,null,[[2,18]])})));function t(t,n){return e.apply(this,arguments)}return t}(),toggleSomeMediaInList:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,i,o,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=t.commit,a=n.mediaIdList,i=n.listId,o=n.hasMedia,e.prev=2,!o){e.next=9;break}return e.next=6,v(Object(s["a"])({},i,a),i);case 6:e.t0=e.sent,e.next=12;break;case 9:return e.next=11,g(Object(s["a"])({},i,a));case 11:e.t0=e.sent;case 12:if(c=e.t0,!c){e.next=16;break}return r("setUpdateSomeVaultMedia",n),e.abrupt("return",!0);case 16:e.next=21;break;case 18:e.prev=18,e.t1=e["catch"](2),Object(O["b"])(e.t1);case 21:return e.abrupt("return",!1);case 22:case"end":return e.stop()}}),e,null,[[2,18]])})));function t(t,n){return e.apply(this,arguments)}return t}(),saveVaultListsOrder:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,a=t.dispatch,r("setLoadingMediaLists",!0),e.prev=2,e.next=5,w(n);case 5:s=e.sent,s&&s.success&&a("fetchVaultList",{view:"main"}),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](2),Object(O["b"])(e.t0);case 12:r("setLoadingMediaLists",!1);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));function t(t,n){return e.apply(this,arguments)}return t}()}},dd6f:function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return d})),n.d(t,"getters",(function(){return l})),n.d(t,"mutations",(function(){return f})),n.d(t,"actions",(function(){return m}));n("96cf");var r=n("3b8d"),a=(n("ac6a"),n("5df3"),n("4f7f"),n("75fc")),s=n("5e23"),i=n("559d"),o=n("1960"),c=n("09e4"),u=function(){return{items:{},helperAccess:[],heplersIds:[],permissions:{}}},d=u(),l={helpersIds:function(e){return e.heplersIds},permissions:function(e){return e.permissions},getHelper:function(e){return function(t){return e.items[t]}},helperAccess:function(e){return function(t){return e.helperAccess[t]}}},f={setHelpers:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.itemIds,r=void 0===n?[]:n,s=t.more,i=void 0!==s&&s;e.heplersIds=i?Object(a["a"])(new Set([].concat(Object(a["a"])(e.heplersIds),Object(a["a"])(r)))):r},setPermissions:function(e,t){e.permissions=t},removeHelper:function(e,t){e.heplersIds=e.heplersIds.filter((function(e){return e!==t})),delete e.items[t]},logout:function(e){Object.assign(e,u())}},m={getPerformerHelpers:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,c,u,d,l=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,r=l.length>1&&void 0!==l[1]?l[1]:{},a=r.more,c=void 0!==a&&a,e.prev=2,c||n("setHelpers"),e.next=6,Object(o["b"])();case 6:u=e.sent,u&&u.length&&(d=Object(s["a"])(u,i["k"]),n("set",d,{root:!0}),n("setHelpers",{itemIds:d.result,more:c})),e.next=12;break;case 10:e.prev=10,e.t0=e["catch"](2);case 12:case"end":return e.stop()}}),e,null,[[2,10]])})));function t(t){return e.apply(this,arguments)}return t}(),getPerformerHelper:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.prev=1,e.next=4,Object(o["a"])(n);case 4:a=e.sent,a&&a.isValid&&(c=Object(s["a"])(a,i["j"]),r("set",c,{root:!0})),e.next=10;break;case 8:e.prev=8,e.t0=e["catch"](1);case 10:case"end":return e.stop()}}),e,null,[[1,8]])})));function t(t,n){return e.apply(this,arguments)}return t}(),getPerformerHelpersPermissions:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.prev=1,e.next=4,Object(o["c"])();case 4:r=e.sent,r&&n("setPermissions",r),e.next=10;break;case 8:e.prev=8,e.t0=e["catch"](1);case 10:case"end":return e.stop()}}),e,null,[[1,8]])})));function t(t){return e.apply(this,arguments)}return t}(),setPerformerHelper:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,u,d,l,f;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,a=n.userId,u=n.permissions,d=void 0===u?[]:u,e.prev=2,e.next=5,Object(o["f"])(a,d);case 5:l=e.sent,l&&l.isValid?(f=Object(s["a"])(l,i["j"]),r("set",f,{root:!0})):r("removeHelper",a),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](2),Object(c["b"])(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));function t(t,n){return e.apply(this,arguments)}return t}()}},de4c:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){document.querySelector("#recovery_mode").style.display="block",document.querySelector("#recovery_mode_progress").style.animation="recovery_progress 15s linear",window.isRecoveryMode=!0,setTimeout((function(){window.location.reload()}),15e3)}},e2c7:function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return d})),n.d(t,"getters",(function(){return l})),n.d(t,"mutations",(function(){return f})),n.d(t,"actions",(function(){return m}));var r=n("7618"),a=(n("96cf"),n("3b8d")),s=(n("ac6a"),n("5df3"),n("4f7f"),n("75fc")),i=n("5e23"),o=n("559d"),c=n("2612"),u=function(){return{itemIds:[],loading:!1,error:!1}},d=u(),l={posts:function(e,t,n){var r=n.posts.items;return e.itemIds.map((function(e){return r[e]}))},totalPosts:function(e){return e.itemIds.length},hasPosts:function(e){return!!e.itemIds.length},isLastPostsLoading:function(e){return e.loading},isPostsError:function(e){return e.error}},f={setLoading:function(e,t){e.loading=t},setError:function(e,t){e.error=t},setItemIds:function(e,t){e.itemIds=Object(s["a"])(new Set(Object(s["a"])(t)))},logout:function(e){Object.assign(e,u())}},m={resetLastPosts:function(e){var t=e.commit;t("setLoading",!1),t("setError",!1),t("setItemIds",[])},fetchLastPosts:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var a,s,u,d,l,f,m,p;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.commit,s=t.rootGetters,u=n.id,a("setLoading",!0),a("setItemIds",[]),d=s["users/usersToSkip"],e.prev=5,e.next=8,Object(c["F"])({id:u,limit:4,type:"photos",skip_users:d,only_can_view:1,pinned_sort:0});case 8:f=e.sent,f&&f.list&&(l=f.list),e.next=16;break;case 12:return e.prev=12,e.t0=e["catch"](5),a("setLoading",!1),e.abrupt("return",[]);case 16:if(l&&"object"===Object(r["a"])(l)&&l.length){e.next=19;break}return a("setLoading",!1),e.abrupt("return",[]);case 19:return m=Object(i["a"])(l,o["l"]),a("set",m,{root:!0}),p=m.result,a("setItemIds",p),a("setLoading",!1),e.abrupt("return",l);case 25:case"end":return e.stop()}}),e,null,[[5,12]])})));function t(t,n){return e.apply(this,arguments)}return t}()}},e4b3:function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return I})),n.d(t,"getters",(function(){return C})),n.d(t,"mutations",(function(){return R})),n.d(t,"actions",(function(){return T}));n("8e6e"),n("456d"),n("5df3"),n("ac6a");var r=n("7618"),a=(n("96cf"),n("3b8d")),s=n("bd86"),i=(n("6762"),n("2fdb"),n("75fc")),o=(n("7514"),n("b775"));function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){Object(s["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=function(e){var t=e.params,n=void 0===t?{}:t,r=e.cancelToken,a=Object(o["c"])(n),s="".concat(o["b"],"/schedules/").concat(a);return o["d"].get(s,{cancelToken:r}).then((function(e){return e.data}))},l=function(e){var t=e.params,n=void 0===t?{}:t,r=e.cancelToken,a=Object(o["c"])(n),s="".concat(o["b"],"/schedules/counters").concat(a);return o["d"].get(s,{cancelToken:r}).then((function(e){return e.data}))},f=function(e){var t=e.params,n=void 0===t?{}:t,r=Object(o["c"])(u(u({},n),{},{limit:30})),a="".concat(o["b"],"/schedules/later").concat(r);return o["d"].get(a).then((function(e){return e.data}))},m=function(e){var t="".concat(o["b"],"/schedules/").concat(e,"/publish");return o["d"].put(t).then((function(e){return e.data}))},p=n("5892"),h=n("2612"),b=(n("8615"),n("55dd"),n("5a0c")),g=n.n(b),v=(n("9b02"),n("8975"),void 0),y=function(e){var t=[];return Object.keys(e).forEach((function(n){Object.keys(e[n]).forEach((function(r){var a={type:r,name:String(e[n][r]),start:new Date(n),date:g()(n).format("YYYY-MM-DD")};t.push(a)}))})),t},w=function(e){var t={};if(e.forEach((function(e){var n=g()(e.publishDateTime).format("YYYY-MM-DD");t[n]?t[n].push(e):t[n]=[e]})),Object.keys(t).length){var n={},r=Object.keys(t).sort((function(e,t){return g()(e).isAfter(g()(t))?1:-1}));return r.forEach((function(e){n[e]=t[e]})),n}return t},O=function(e){if(Object.keys(e).length){var t={};return Object.keys(e).forEach((function(n){var r=n.substr(0,7);t[r]||(t[r]={}),t[r][n]=Object.values(e[n]).reduce((function(e,t){return e+t}))})),t}return{}},j=function(e){if(!e)return v.$route;var t=e.author;return t.subscribedBy?{name:"Post",params:{postId:e.id,userId:t.id}}:{name:"Profile",params:{userId:t.id}}},k=n("09e4");function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){Object(s["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P=function(){return{items:[],dayItems:[],itemsByDate:null,calendarItems:[],itemsCountByDate:{},userNamesMap:{},userTimeZone:void 0,scheduledItemsLoading:!1,scheduledDayItemsLoading:!1,scheduledItemsCounterLoading:!1,savedForLaterLoading:!1,savedForLaterItems:[],hasMoreDayDetailedEvents:!1,linkedPostsMap:{}}},I=P(),C={items:function(e){return e.items},dayItems:function(e){return e.dayItems},savedForLaterItems:function(e){return e.savedForLaterItems},itemsByDate:function(e){return e.itemsByDate},calendarItems:function(e){return e.calendarItems},itemsCountByDate:function(e){return e.itemsCountByDate},getSchedulePostById:function(e){return function(t){var n=e.dayItems.find((function(e){return e.entity.id===t}));return n?n.entity:null}},getScheduleForLaterPostById:function(e){return function(t){var n=e.savedForLaterItems.find((function(e){return e.entity.id===t}));return n?n.entity:null}},userNamesMap:function(e){return e.userNamesMap},userTimeZone:function(e){return e.userTimeZone},scheduledDayItemsLoading:function(e){return e.scheduledDayItemsLoading},scheduledItemsLoading:function(e){return e.scheduledItemsLoading},scheduledItemsCounterLoading:function(e){return e.scheduledItemsCounterLoading},savedForLaterLoading:function(e){return e.savedForLaterLoading},hasMoreDayDetailedEvents:function(e){return e.hasMoreDayDetailedEvents},linkedPostsMap:function(e){return e.linkedPostsMap}},R={setSavedForLaterItems:function(e,t){var n=t.addMore,r=t.list;e.savedForLaterItems=n?[].concat(Object(i["a"])(e.savedForLaterItems||[]),Object(i["a"])(r||[])):r},setItems:function(e,t){var n=e.items.map((function(e){return e.id})),r=t.filter((function(e){return!n.includes(e.id)}));e.items=e.items.concat(r)},setDayItems:function(e,t){var n=e.dayItems.map((function(e){return e.id})),r=t.filter((function(e){return!n.includes(e.id)}));e.dayItems=e.dayItems.concat(r)},deleteItem:function(e,t){e.items=e.items.filter((function(e){return e.id!==t})),e.dayItems=e.dayItems.filter((function(e){return e.id!==t}))},setItemsByDate:function(e){e.itemsByDate=w(e.items)},setCalendarItems:function(e,t){e.calendarItems=t},setItemsCountByDate:function(e,t){e.itemsCountByDate=t},setDefaultState:function(e){return Object.assign(e,P())},setUserTimeZone:function(e,t){e.userTimeZone=t},clearCalendarItems:function(e){e.calendarItems=[]},clearAgendaItems:function(e){e.items=[],e.itemsByDate={}},clearDayItems:function(e){e.dayItems=[],e.hasMoreDayDetailedEvents=!1,e.scheduledDayItemsLoading=!1},clearItems:function(e){e.items=[],e.itemsByDate={},e.dayItems=[],e.calendarItems=[]},setScheduledItemsLoading:function(e,t){e.scheduledItemsLoading=t},setScheduledDayItemsLoading:function(e,t){e.scheduledDayItemsLoading=t},setScheduledItemsCounterLoading:function(e,t){e.scheduledItemsCounterLoading=t},setSavedForLaterLoading:function(e,t){e.savedForLaterLoading=t},deleteSavedForLaterPost:function(e,t){e.savedForLaterItems=e.savedForLaterItems.filter((function(e){return e.id!==t}))},resetSavedForLaterPosts:function(e){e.savedForLaterLoading=!1,e.savedForLaterItems=[]},updateScheduledEvent:function(e,t){e.items=e.items.map((function(e){return e.entity.id===t.id?x(x({},e),{},{entity:t}):e}))},updateDayItemScheduledEvent:function(e,t){e.dayItems=e.dayItems.map((function(e){return e.entity.id===t.id?x(x({},e),{},{entity:t}):e}))},updateSavedForLaterPost:function(e,t){var n=t.id,r=t.post;e.savedForLaterItems=e.savedForLaterItems.map((function(e){return e.entity.id===n?x(x({},e),{},{entity:r}):e}))},setHasMoreDayDetailedEvents:function(e,t){e.hasMoreDayDetailedEvents=t},postPublished:function(e,t){e.items=e.items.filter((function(e){var n=e.type,r=e.entity;return"post"!==n||r.id!==t})),e.dayItems=e.dayItems.filter((function(e){var n=e.type,r=e.entity;return"post"!==n||r.id!==t})),e.savedForLaterItems=e.savedForLaterItems.filter((function(e){var n=e.entity;return n.id!==t}))},messagePublished:function(e,t){e.items=e.items.filter((function(e){var n=e.type,r=e.entity;return"chat"!==n||r.id!==t})),e.dayItems=e.dayItems.filter((function(e){var n=e.type,r=e.entity;return"chat"!==n||r.id!==t}))},setLinkedPostsMap:function(e,t){e.linkedPostsMap=x(x({},e.linkedPostsMap),t)},logout:function(e){Object.assign(e,P())}},T={fetchEventsCounters:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,s,i,c,u,d,f,m=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,r=m.length>1&&void 0!==m[1]?m[1]:{},a=r.params,i=Object(o["f"])("fetchEventsCounters"),c=i.cancelToken,n("setScheduledItemsCounterLoading",!0),u=Object.assign({},a,{"filter[timeZone]":I.userTimeZone}),e.prev=5,e.next=8,l({params:u,cancelToken:c});case 8:s=e.sent,e.next=15;break;case 11:return e.prev=11,e.t0=e["catch"](5),e.t0.__CANCEL__||n("setScheduledItemsCounterLoading",!1),e.abrupt("return",{});case 15:return n("setScheduledItemsCounterLoading",!1),s&&(d=y(s),n("setCalendarItems",d),f=O(s),n("setItemsCountByDate",f)),e.abrupt("return",s);case 18:case"end":return e.stop()}}),e,null,[[5,11]])})));function t(t){return e.apply(this,arguments)}return t}(),fetchEventsDetailed:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,s,i,c,u,l=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,r=l.length>1&&void 0!==l[1]?l[1]:{},a=r.params,n("setScheduledItemsLoading",!0),i=Object(o["f"])("fetchEventsDetailed"),c=i.cancelToken,u=Object.assign({},a,{"filter[timeZone]":I.userTimeZone}),e.prev=5,e.next=8,d({params:u,cancelToken:c});case 8:s=e.sent,e.next=15;break;case 11:return e.prev=11,e.t0=e["catch"](5),e.t0.__CANCEL__||n("setScheduledItemsLoading",!1),e.abrupt("return",{});case 15:return s&&s.list&&s.list.length&&(n("setItems",s.list),n("setItemsByDate")),n("setScheduledItemsLoading",!1),e.abrupt("return",s);case 18:case"end":return e.stop()}}),e,null,[[5,11]])})));function t(t){return e.apply(this,arguments)}return t}(),fetchDayEventsDetailed:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,s,i,c,u,l,f=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,r=t.dispatch,a=f.length>1&&void 0!==f[1]?f[1]:{},s=a.params,n("setScheduledDayItemsLoading",!0),c=Object(o["f"])("fetchDayEventsDetailed"),u=c.cancelToken,l=Object.assign({},s,{"filter[timeZone]":I.userTimeZone}),e.prev=5,e.next=8,d({params:l,cancelToken:u});case 8:i=e.sent,e.next=15;break;case 11:return e.prev=11,e.t0=e["catch"](5),e.t0.__CANCEL__||n("setScheduledDayItemsLoading",!1),e.abrupt("return",{});case 15:return i&&i.list&&(n("setDayItems",i.list),n("setHasMoreDayDetailedEvents",i.hasMore),r("linkedPostsUsersCheck",i.list)),n("setScheduledDayItemsLoading",!1),e.abrupt("return",i);case 18:case"end":return e.stop()}}),e,null,[[5,11]])})));function t(t){return e.apply(this,arguments)}return t}(),fetchPostsSavedForLater:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,s,i,o,c=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,r=t.dispatch,a=c.length>1&&void 0!==c[1]?c[1]:{},s=a.params,i=a.addMore,n("setSavedForLaterLoading",!0),e.prev=3,e.next=6,f({params:s});case 6:o=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e["catch"](3),e.t0.__CANCEL__||n("setSavedForLaterLoading",!1),e.abrupt("return",void 0);case 13:if(!(o&&o.list&&o.list.length)){e.next=18;break}return n("setSavedForLaterItems",{list:o.list,addMore:i}),r("linkedPostsUsersCheck",o.list),n("setSavedForLaterLoading",!1),e.abrupt("return",o);case 18:return n("setSavedForLaterLoading",!1),e.abrupt("return",void 0);case 20:case"end":return e.stop()}}),e,null,[[3,9]])})));function t(t){return e.apply(this,arguments)}return t}(),publishScheduleEventRightNow:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,a=n.id,s=n.commitName,e.prev=2,e.next=5,m(a);case 5:i=e.sent,e.next=10;break;case 8:e.prev=8,e.t0=e["catch"](2);case 10:return s&&i&&i.success&&r(s,a),e.abrupt("return",i);case 12:case"end":return e.stop()}}),e,null,[[2,8]])})));function t(t,n){return e.apply(this,arguments)}return t}(),updatePost:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,a,s,i,o,c,u,d,l=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.commit,a=t.state,s=l.length>1&&void 0!==l[1]?l[1]:{},i=s.id,o=a.items.some((function(e){var t=e.entity;return t.id===i})),c=a.dayItems.some((function(e){var t=e.entity;return t.id===i})),u=a.savedForLaterItems.some((function(e){var t=e.entity;return t.id===i})),o||u||c){e.next=7;break}return e.abrupt("return");case 7:return e.prev=7,e.next=10,Object(p["l"])(i,[]);case 10:d=e.sent,e.next=15;break;case 13:e.prev=13,e.t0=e["catch"](7);case 15:d&&"object"===Object(r["a"])(d)||Object(k["c"])({error:new Error("typeof response is incorrect"),extra:{post:d}}),o&&(n("updateScheduledEvent",d),n("setItemsByDate")),u&&n("updateSavedForLaterPost",{id:i,post:d}),c&&n("updateDayItemScheduledEvent",d);case 19:case"end":return e.stop()}}),e,null,[[7,13]])})));function t(t){return e.apply(this,arguments)}return t}(),pinSchedulePost:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,s,i,o,c,u,d,l,f,m,h,b,g=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,r=g.length>1&&void 0!==g[1]?g[1]:{},a=r.id,s=r.type,e.prev=2,e.next=5,Object(p["t"])(a);case 5:i=e.sent,e.next=10;break;case 8:e.prev=8,e.t0=e["catch"](2);case 10:i&&i.success&&("schedule"===s?(o=I.items.find((function(e){return e.entity.id===a})),o&&(c=!o.entity.isPinned,u=x(x({},o.entity),{},{isPinned:c}),n("updateScheduledEvent",u),n("setItemsByDate")),d=I.dayItems.find((function(e){return e.entity.id===a})),d&&(l=!d.entity.isPinned,f=x(x({},d.entity),{},{isPinned:l}),n("updateDayItemScheduledEvent",f))):(m=I.savedForLaterItems.find((function(e){return e.entity.id===a})),m&&(h=!m.entity.isPinned,b=x(x({},m.entity),{},{isPinned:h}),n("updateSavedForLaterPost",{id:a,post:b}))));case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));function t(t){return e.apply(this,arguments)}return t}(),linkedPostsUsersCheck:function(e,t){var n=e.dispatch,r=t.filter((function(e){return"post"===e.type&&e.entity.linkedUsers&&e.entity.linkedUsers.length}));if(r.length){var a=[];r.forEach((function(e){e.entity.linkedUsers.forEach((function(e){return a.push(e.id)}))})),n("users/getUsersByIds",{r:a},{root:!0})}var s=t.filter((function(e){return"post"===e.type&&e.entity.linkedPosts.length}));s.length&&n("makeLinkedPostsMap",s)},makeLinkedPostsMap:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,s,i,o,c,u,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,a={},s=[],i=[],n.forEach((function(e){return e.entity.linkedPosts.forEach((function(e){s.includes(e.id)||s.push(e.id),i.includes(e.author.id)||i.push(e.author.id)}))})),o=s.map((function(e){return Object(p["l"])(e)})),c=i.map((function(e){return Object(h["T"])(e)})),e.next=9,Promise.all(o);case 9:return u=e.sent,e.next=12,Promise.all(c);case 12:d=e.sent,u&&(n.forEach((function(e){a[e.entity.id]=e.entity.linkedPosts.map((function(e){var t=u.find((function(t){return t.id===e.id})),n=d.find((function(t){return t.id===e.author.id}));return{post:x(x({},e),{},{author:n||e.author}),link:j(t)}}))})),r("setLinkedPostsMap",a));case 14:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()}},e66b:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.showTextAvatar?n("div",{staticClass:"g-avatar__placeholder",class:{"m-text-avatar":e.showTextAvatar}},[e._v(" "+e._s(e.textAvatar)+" ")]):e.src?n("img",{attrs:{src:e.thumbSrc,alt:e._f("encodeHtml")(e.alt)},on:{error:e.error}}):n("div",{staticClass:"g-avatar__placeholder"},[n("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-profile",attrs:{"extra-class":"b-default-avatar"}})])},a=[],s=(n("8e6e"),n("a481"),n("6b54"),n("75fc")),i=(n("28a5"),n("ac6a"),n("456d"),n("bd86")),o=(n("c5f6"),n("9b02")),c=n.n(o),u=n("d634"),d=n("925c");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){Object(i["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m={mixins:[d["a"]],props:{type:{type:String,default:"avatar"},size:{type:[String,Number],required:!0},user:{type:Object,required:!0}},data:function(){return{isError:!1}},computed:f(f({},Object(u["mb"])(["userLoginPrefix"])),{},{src:function(){return this.isError?"":this.user.avatar},avatarThumbs:function(){return this.user.avatarThumbs},alt:function(){return this.user.name||this.user.username},showTextAvatar:function(){return!(!Object.keys(this.user)||!this.user.displayName&&!this.user.name)&&((!this.src||this.src.indexOf("/default_avatar.png")>-1)&&(this.user.name!==this.userLoginPrefix+c()(this.user,"id","")||this.user.displayName)&&this.textAvatar.length)},textAvatar:function(){var e=2,t=/(\u00a9|\u00ae|[\u2000-\u3300]|\ud83c[\ud000-\udfff]|\ud83d[\ud000-\udfff]|\ud83e[\ud000-\udfff])/,n=(this.user.displayName||this.user.name).trim(),r=[];if(n){var a=n.split(/\s+/);if(!(a.length>1))return n=n.replace(t,""),n.substr(0,Math.min(n.length,e)).split("").map((function(e,t){return t?e:e.toUpperCase()})).join("");for(var i=0;i<Math.min(a.length,e);i+=1){var o=Object(s["a"])(a[i].toString().trim())[0];(r.length<1||!t.exec(r[0])&&!t.exec(o))&&r.push(o)}}return r.join("").toUpperCase()}}),methods:f(f({},Object(u["gc"])(["setUserField"])),{},{error:function(){this.thumbSrc===this.user.avatar?this.setUserField({userId:this.user.id,field:"avatar",status:null}):this.setUserField({userId:this.user.id,field:"avatarThumbs",status:null}),this.isError=!0}})},p=m,h=n("2877"),b=Object(h["a"])(p,r,a,!1,null,null,null);t["a"]=b.exports},ebf6:function(e,t,n){"use strict";n.d(t,"b",(function(){return s}));var r=n("b775"),a=n("c785");t["a"]={methods:{innerLinkToRouter:r["g"],innerLinkToRouterForStat:r["h"]}};var s={mixins:[a["a"]],methods:{innerLinkToCard:function(e){var t=Object(r["j"])(e);if(t){e.preventDefault(),this.$root.$emit("bv::hide::modal","ModalAlert");var n=e.target;n&&"A"!==n.tagName&&(n=n.closest("a"));var a=n.closest(".toast");a&&this.$root.$bvToast.hide(a.id);var s=this.$router.resolve(t),i=s.route;if("Profile"===i.name){var o=i.params.userId;this.maybeOpenCard({route:{name:"Profile",params:{userId:o}},userId:o})}else this.$router.push(t)}}}}},ef64:function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return u})),n.d(t,"getters",(function(){return d})),n.d(t,"mutations",(function(){return l}));n("c5f6");var r=n("2b0e"),a=n("9b02"),s=n.n(a),i=n("0644"),o=n.n(i),c=function(){return{chatDraft:{},postDraft:{}}},u=c(),d={userPostDraft:function(e,t,n,r){return s()(e.postDraft,r["auth/authUserId"],{})}},l={setChatDraft:function(e,t){r["default"].set(e.chatDraft,t.chatId,t)},removeChatDraft:function(e,t){delete e.chatDraft[Number(t)]},setPostDraft:function(e,t){var n=t.draft,r=t.userId,a=o()(e.postDraft);a[r]=n,e.postDraft=a},removePostDraft:function(e,t){r["default"].delete(e.postDraft,t)},logout:function(e){Object.assign(e,c())}}},f05e:function(e,t,n){"use strict";n.d(t,"i",(function(){return o})),n.d(t,"l",(function(){return c})),n.d(t,"a",(function(){return u})),n.d(t,"g",(function(){return d})),n.d(t,"h",(function(){return l})),n.d(t,"f",(function(){return f})),n.d(t,"r",(function(){return m})),n.d(t,"s",(function(){return p})),n.d(t,"p",(function(){return h})),n.d(t,"o",(function(){return b})),n.d(t,"q",(function(){return g})),n.d(t,"d",(function(){return v})),n.d(t,"b",(function(){return y})),n.d(t,"c",(function(){return w})),n.d(t,"j",(function(){return O})),n.d(t,"k",(function(){return j})),n.d(t,"m",(function(){return k})),n.d(t,"n",(function(){return S})),n.d(t,"e",(function(){return x})),n.d(t,"t",(function(){return P}));var r=n("b775"),a=n("9b02"),s=n.n(a),i=n("4360"),o=function(){var e="".concat(r["b"],"/payments/3ds-js?isExtendedVendorFormat=1");return r["d"].get(e).then((function(e){return e.data}))},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="".concat(r["b"],"/payments/pay");return r["d"].post(t,e).then((function(e){return e.data}))},u=function(e){var t="".concat(r["b"],"/payments/cards");return r["d"].post(t,e).then((function(e){return e.data}))},d=function(){var e="".concat(r["b"],"/payments/cards");return r["d"].get(e).then((function(e){return e.data}))},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.limit,n=e.offset,a=Object(r["c"])({limit:t,offset:n}),s="".concat(r["b"],"/payments/transactions").concat(a);return r["d"].get(s).then((function(e){return e.data}))},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.limit,n=e.offset,a=Object(r["c"])({limit:t,offset:n}),s="".concat(r["b"],"/payments/all/transactions").concat(a);return r["d"].get(s).then((function(e){return e.data}))},m=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t="".concat(r["b"],"/payments/token/ccbill");return e&&(t+="?isForce=1"),r["d"].get(t).then((function(e){return e.data}))},p=function(){var e="".concat(r["b"],"/payments/token/optile");return r["d"].get(e).then((function(e){return e.data}))},h=function(e){var t=i["a"].getters["init/getInit"],n=s()(t,"cards.inovio.proxyHost"),a="".concat(n?"https://".concat(n):"").concat(r["b"],"/payments/proxy/inovio");return r["d"].post(a,e).then((function(e){return e.data}))},b=function(e,t){return r["d"].post(e,t)},g=function(e){var t="".concat(r["b"],"/payments/cards/").concat(e,"/default");return r["d"].put(t).then((function(e){return e.data}))},v=function(e){var t="".concat(r["b"],"/payments/cards/").concat(e);return r["d"].delete(t).then((function(e){return e.data}))},y=function(e,t,n,a){var s="".concat(e,"payments/scan-card"),i=new FormData;return a?i.append("fileBase64",a):n&&i.append("files[]",n,n.name),r["d"].post(s,i,{headers:{post:{Authorization:"Bearer ".concat(t)}}}).then((function(e){return e.data}))},w=function(e,t){var n="".concat(r["b"],"/payments/cards/").concat(e,"/verification");return r["d"].post(n,{zip:t}).then((function(e){return e.data}))},O=function(){var e="".concat(r["b"],"/alternative-payment-methods");return r["d"].get(e).then((function(e){return e.data}))},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(r["c"])(e),n="".concat(r["b"],"/alternative-payment-methods/form").concat(t);return r["d"].get(n).then((function(e){return e.data}))},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="".concat(r["b"],"/alternative-payment-methods/form");return r["d"].post(t,e).then((function(e){return e.data}))},S=function(e){var t=e.id,n=e.amount,a="".concat(r["b"],"/alternative-payment-methods/pay");return r["d"].post(a,{id:t,amount:n}).then((function(e){return e.data}))},x=function(e){var t="".concat(r["b"],"/alternative-payment-methods");return r["d"].delete(t,{data:{id:e}}).then((function(e){return e.data}))},P=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="".concat(r["b"],"/payments/cards/").concat(e,"/verify");return r["d"].post(n,t).then((function(e){return e.data}))}},f096:function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return u})),n.d(t,"getters",(function(){return d})),n.d(t,"mutations",(function(){return l})),n.d(t,"actions",(function(){return f}));n("8e6e");var r=n("bd86"),a=(n("ac6a"),n("456d"),n("0f5c")),s=n.n(a);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c=function(){return{data:{}}},u=c(),d={getAllCodesByRouteName:function(e){return function(t){return Object.keys(e.data[t||"unknown"])}}},l={set:function(e,t){var n=t.routeName,r=t.code,a=t.value,i=o({},e.data);s()(i,[n||"unknown",r],a),e.data=i},logout:function(e){Object.assign(e,c())}},f={set:function(e,t){var n=e.commit;n("set",t)}}},f1f7:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));n("6b54"),n("a481");var r=function(e){return e>=1e6?"".concat((e/1e6).toFixed(2),"M"):e>=1e3?"".concat((e/1e3).toFixed(1),"K"):e},a=function(e){var t=e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");return"$".concat(t)}},f406:function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return z})),n.d(t,"getters",(function(){return W})),n.d(t,"mutations",(function(){return Y})),n.d(t,"actions",(function(){return X}));n("8e6e"),n("456d"),n("ac6a"),n("7514"),n("6762"),n("2fdb"),n("c5f6");var r=n("bd86"),a=(n("96cf"),n("3b8d")),s=n("5e23"),i=n("56d7"),o=n("2612"),c=n("559d"),u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"b-toast-body",on:{click:e.innerLinkToRouter}},[e.relatedUser?n("avatar",{staticClass:"m-border-line",attrs:{"user-id":e.relatedUser.id,"hide-online":!0}}):e._e(),n("div",{staticClass:"text-wrap"},[e.relatedUser?n("div",{staticClass:"b-toast-username"},[n("router-link",{attrs:{to:{name:"Profile",params:{userId:e.relatedUser.username}}}},[n("span",{staticClass:"g-user-name"},[e._v(e._s(e._f("encodeHtml")(e.relatedUser.name)))]),n("span",{staticClass:"g-user-username"},[e._v("@"+e._s(e.relatedUser.username))])])],1):e._e(),n(e.toastTemplate,{tag:"component",attrs:{data:e.toast.data,text:e.toastText}})],1)],1)},d=[],l=(n("3b2b"),n("a481"),n("b48d")),f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"b-toast-text"},[n("span",{staticClass:"toast-text",domProps:{innerHTML:e._s(e.text)}})])},m=[],p={name:"DefaultToastTemplate",props:{text:{type:String,required:!0}}},h=p,b=n("2877"),g=Object(b["a"])(h,f,m,!1,null,null,null),v=g.exports,y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"b-toast-text"},[n("span",{staticClass:"toast-text",domProps:{innerHTML:e._s(e.text)}}),n("span",{staticClass:"toast-message-text",domProps:{innerHTML:e._s(e.data.replacements["{MESSAGE}"])}})])},w=[],O={name:"NewTrialToastTemplate",props:{data:{type:Object,required:!0},text:{type:String,required:!0}}},j=O,k=Object(b["a"])(j,y,w,!1,null,null,null),S=k.exports,x=n("ebf6"),P={name:"SocketToast",components:{Avatar:l["a"],DefaultToastTemplate:v,NewTrialToastTemplate:S},mixins:[x["a"]],props:{toast:{type:Object,default:function(){return{}}}},computed:{relatedUser:function(){return this.toast.data.relatedUser},toastText:function(){return this.getToastText(this.toast.data.template,this.toast.data.replacements)},toastTemplate:function(){var e=null;switch(this.toast.data.code){case"new_trial":e=S;break;default:e=v}return e}},methods:{getToastText:function(e,t){var n,r=0,a=[];e=e.trim();while((n=e.indexOf("{",r))>-1){var s=e.indexOf("}",n+1);if(s>-1){var i=e.substr(n,s-n+1);i.length>0&&(a.includes(i)||a.push(i)),r=s+1}else r=n+1}var o=e;return a.forEach((function(e){"undefined"!==typeof t[e]&&(o=o.replace(new RegExp(e,"gim"),t[e]))})),o}}},I=P,C=Object(b["a"])(I,u,d,!1,null,null,null),R=C.exports,T=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"b-toast-body"},[n("div",{staticClass:"b-toast-body__img"},[n("img",{attrs:{src:e.imgSrc}})]),n("div",{staticClass:"b-toast-body__content"},[n("p",{staticClass:"b-toast-body__content-head"},[e._v(" "+e._s(e.toastHead)+" ")]),n("p",{staticClass:"b-toast-body__content-body"},[e._v(" "+e._s(e.$tc("message.going_to_watch_count",e.fansCount,{COUNT:e.fansCount}))+" ")])])])},_=[],A=n("5a0c"),L=n.n(A),E=n("4208"),M=n.n(E);L.a.extend(M.a);var U={name:"ScheduledStreamNotification",props:{imgSrc:{type:String,default:"http://placehold.it/50x50"},notificationDate:{type:String,default:"2021-06-22"},fansCount:{type:Number,default:22}},computed:{relatedUser:function(){return this.toast.data.relatedUser},toastHead:function(){return L()().to(L()(this.notificationDate))}}},D=U,F=Object(b["a"])(D,T,_,!1,null,null,null),B=F.exports,N=n("af89");function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $,H,G=function(){return{isOpened:!1,isConnected:!1,reconnectError:!1,countOnlineRequests:0,toastsThrottle:0}},z=G(),W={socketOpened:function(e){return e.isOpened},socketConnected:function(e){return e.isConnected},countOnlineRequests:function(e){return e.countOnlineRequests}},Y={SOCKET_ONOPEN:function(e){e.isOpened=!0},SOCKET_ONCLOSE:function(e){e.isOpened=!1,e.isConnected=!1},SOCKET_ONERROR:function(){},SOCKET_RECONNECT:function(){},SOCKET_RECONNECT_ERROR:function(e){e.reconnectError=!0},incCountOnlineRequests:function(e){e.countOnlineRequests+=1},decrCountOnlineRequests:function(e){e.countOnlineRequests-=1},socketSetConnected:function(e){e.countOnlineRequests=0,e.isConnected=!0},setToastsThrottle:function(e,t){e.toastsThrottle=t},logout:function(e){Object.assign(e,G())}},X={SOCKET_ONMESSAGE:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,u,d,l,f,m,p,h,b,g,v,y,w,O,j,k,S,x,P,I,C,T,_,A,E,M,U,D,F,q,G,z,W,Y,X,Q,K,J,Z,ee,te,ne,re,ae,se,ie,oe,ce,ue,de,le,fe,me,pe,he,be,ge,ve,ye,we,Oe,je,ke,Se,xe,Pe,Ie,Ce,Re,Te,_e,Ae,Le,Ee,Me,Ue,De,Fe,Be,Ne,qe,Ve,$e,He,Ge,ze,We,Ye,Xe,Qe,Ke,Je,Ze,et,tt,nt,rt,at,st,it,ot,ct;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=t.commit,a=t.dispatch,u=t.rootState,d=t.rootGetters,l=t.state,!n||!n.data){e.next=219;break}f=n.data,m=i["default"].$route.name;try{p=JSON.parse(f)}catch(ut){Sentry.captureException(ut)}if(h=document.activeElement&&document.activeElement.tagName&&("INPUT"===document.activeElement.tagName&&"text"===document.activeElement.type||"TEXTAREA"===document.activeElement.tagName),!p){e.next=219;break}if("function"===typeof doPong&&doPong(p),b=d["auth/authUserId"],"undefined"!==typeof p.connected&&p.connected&&r("socketSetConnected"),"undefined"!==typeof p.online&&(r("users/setOnline",p.online,{root:!0}),r("decrCountOnlineRequests")),p.account_connect&&a("users/addConnectedAccount",{userData:{connectedUser:p.account_connect.user,canConnectOfAccount:p.account_connect.canConnect}},{root:!0}),p.account_disconnect&&r("users/removeConnectedAccount",{userId:b,accountId:p.account_disconnect.userId,userData:{canConnectOfAccount:p.account_disconnect.canConnect,success:!0}},{root:!0}),!p.account_switch){e.next=24;break}return e.prev=14,e.next=17,Object(o["V"])();case 17:g=e.sent,v=g.id,null!==v&&v===p.account_switch.user_id||(window.showPreloader(),i["default"].$emit("removeAllBeforeUnloadListeners"),i["default"].$nextTick((function(){window.location.reload()}))),e.next=24;break;case 22:e.prev=22,e.t0=e["catch"](14);case 24:if("undefined"!==typeof p.api2_chat_message&&(y=V(V({},p.api2_chat_message),{},{id:Number(p.api2_chat_message.id)}),w=y.fromUser||y.toUser,w&&(y.chatId=w.id),w.id=Number(w.id),O=!!y.toUser,delete y.toUser,y.fromUser||(y.fromUser={id:b}),"Chat"===m&&i["default"].$route.params&&Number(i["default"].$route.params.chatId)===Number(w.id)&&(y.needMarkChatAsRead=!0),j=Object(s["a"])(y,c["c"]),r("set",j,{root:!0}),k=j.result,u.chats.chats.includes(w.id)||r("chats/addChats",{ids:[w.id]},{root:!0}),(!y.isFromQueue||y.isFromQueue&&Number(i["default"].$route.params.chatId)===Number(y.fromUser.id))&&a("chats/newMessageFromSocket",{id:w.id,messageIds:k,add:!0,before:!1,ownMsg:O,isTip:y.isTip,isPerformer:u.users.items[u.auth.user].isPerformer,isSocket:!0,listsStates:w.listsStates||[]},{root:!0}),r("chats/setChatTyping",{chatId:w.id,status:!1},{root:!0}),r("chats/setLastMessage",{chatId:w.id,messageId:k,ownMsg:O,isNew:y.isNew},{root:!0}),S=u.schedule.items.find((function(e){var t=e.entity;return t.id===p.api2_chat_message.id})),x=u.schedule.dayItems.find((function(e){var t=e.entity;return t.id===p.api2_chat_message.id})),P=(S&&!S.entity.isMediaReady||x&&!x.entity.isMediaReady)&&p.api2_chat_message.isMediaReady,"MyQueue"!==m&&"Feed"!==m||!P||(I=p.api2_chat_message,r("schedule/updateScheduledEvent",I,{root:!0}),r("schedule/setItemsByDate",{},{root:!0}),r("schedule/updateDayItemScheduledEvent",I,{root:!0}))),p.chat_queue_finish&&(C=Number(p.chat_queue_finish.id),p.chat_queue_finish.isCanceled?a("chats/delMessagesQueue",{id:C},{root:!0}):p.chat_queue_finish.isDone&&a("chats/fetchMessagesQueue",{},{root:!0}),a("schedule/fetchEventsCounters",{params:{"filter[publishDate]":L()().format("YYYY-MM-DD")}},{root:!0}),r("schedule/messagePublished",C,{root:!0}),r("schedule/setItemsByDate",{},{root:!0}),i["default"].$root.$emit("updateChatsList")),"undefined"!==typeof p.chat_messages&&r("users/setChatMessagesCount",{userId:u.auth.user,chatMessagesCount:p.chat_messages},{root:!0}),"undefined"!==typeof p.count_priority_chat&&r("users/setChatPriorityCount",{userId:u.auth.user,countPriorityChat:p.count_priority_chat},{root:!0}),p.chat_queue_update&&i["default"].$root.$emit("update_queue"),"undefined"!==typeof p.chat_messages&&r("users/setChatMessagesCount",{userId:u.auth.user,chatMessagesCount:p.chat_messages},{root:!0}),"undefined"!==typeof p.chat_message_delete&&r("chats/deleteMessageById",p.chat_message_delete,{root:!0}),"undefined"!==typeof p.addShopifyStore&&r("shopify/addShopifyStore",p.addShopifyStore,{root:!0}),"undefined"!==typeof p.dropShopifyStore&&r("shopify/removeShopifyStore",p.dropShopifyStore.id,{root:!0}),"undefined"!==typeof p.messages&&r("users/setNotificationsCount",{userId:u.auth.user,notificationsCount:p.messages},{root:!0}),"undefined"!==typeof p.new_message&&(u.users.notificationsType&&(r("users/setNotifications",{notifications:[p.new_message],more:!1,unread:!0},{root:!0}),r("users/setNotificationsCountsByType",p.new_message.type,{root:!0})),p.new_message.type!==u.users.notificationsType&&"all"!==u.users.notificationsType||(r("users/setNotificationsCount",{userId:u.auth.user,notificationsCount:u.users.notificationsCounts.all},{root:!0}),H||a("users/setNotificationsAsRead",{},{root:!0}),H=setTimeout((function(){H&&(clearTimeout(H),H=null)}),3e3))),"undefined"!==typeof p.typing&&($&&clearInterval($),r("chats/setChatTyping",{chatId:p.typing.id,status:!0},{root:!0}),$=setTimeout((function(){r("chats/setChatTyping",{chatId:p.typing.id,status:!1},{root:!0})}),5e3)),"undefined"===typeof p.stream_start){e.next=52;break}if(T=p.stream_start.userId,("Profile"!==m&&"ProfileInner"!==m||d["users/userId"]!=T)&&"Feed"!==m&&"Purchased"!==m&&"Blurred"!==m&&("StreamingChat"!==m||T!=b)){e.next=51;break}return e.next=41,a("streams/fetchUserStream",T,{root:!0});case 41:if("StreamingChat"!==m){e.next=51;break}if(_=d["streaming/local"],A=d["streaming/streamingChatEnabled"],_.stream.id||A){e.next=51;break}if(E=d["streams/streamsByUserId"],M=E[T],!M||!M.isActive){e.next=51;break}return M.user=d["users/getUser"](M.user),e.next=51,a("streaming/enableStreamingChat",M,{root:!0});case 51:return e.abrupt("return");case 52:if("undefined"===typeof p.stream_update){e.next=61;break}return U=p,D=U.stream_update,d["streaming/mode"],F=d["live/streams"],"Live"===m&&F[D.user.id]&&(D.primaryStreamUserId==D.user.Id?a("live/setStreamData",D,{root:!0}):a("live/setUserStreamData",D,{root:!0})),q=d["streaming/local"],G=d["streaming/partners"],D.id==q.stream.id?a("streaming/setStreamData",D,{root:!0}):G[D.user.id]&&(z=D.primaryPartnerUserId==D.user.id?"primary":"partner",a("streaming/setPartnerUserStreamData",{instance:D.user.id,streamData:D,partnerType:z,applyTips:!0},{root:!0})),e.abrupt("return");case 61:if("undefined"===typeof p.stream_stop){e.next=71;break}return W=p.stream_stop,Y=Number(W.stream_user_id),a("streams/removeStreamFromFeed",{userId:Y},{root:!0}),r("users/setUserField",{userId:Y,field:"hasStream",status:!1},{root:!0}),X=d["live/streams"],X[Y]&&"beforeStart"===X[Y].streamState&&r("live/setStreamState",{value:"stopped",instance:Y},{root:!0}),Q=d["streaming/streamingChatEnabled"],Q&&Y==b&&a("streaming/disableStreamingChat",{},{root:!0}),e.abrupt("return");case 71:if("undefined"===typeof p.stream_comment){e.next=87;break}K=p.stream_comment,J=d["streaming/local"],Z=d["live/primary"],ee=d["streaming/primary"],te=d["streaming/mode"]||d["live/mode"],ne={id:K.comment_id,text:K.comment,user:K.user,isPrivate:!!K.isPrivate},e.t1=te,e.next="live"===e.t1||"dual-live"===e.t1?81:"streaming"===e.t1||"dual-streaming"===e.t1?83:85;break;case 81:return K.stream_user_id==Z.user.id&&a("live/addComment",ne,{root:!0}),e.abrupt("break",86);case 83:return J.stream.id&&K.stream_user_id==ee.user.id&&a("streaming/addComment",ne,{root:!0}),e.abrupt("break",86);case 85:return e.abrupt("break",86);case 86:return e.abrupt("return");case 87:if("undefined"===typeof p.stream_comment_error){e.next=98;break}re=p.stream_comment_error,e.t2=re.errorType,e.next="bad_words"===e.t2?92:"empty_comment"===e.t2?94:96;break;case 92:return i["default"].$bvToast.toast(i["default"].$root.$i18n.t("message.stream_comment_error_restricted_message",{WORDS:re.badWords.join(", ")}),{autoHideDelay:5e3,appendToast:!0,toaster:"b-toaster-bottom-right"}),e.abrupt("break",97);case 94:return i["default"].$bvToast.toast(i["default"].$root.$i18n.t("message.stream_comment_error_empty_message"),{autoHideDelay:5e3,appendToast:!0,toaster:"b-toaster-bottom-right"}),e.abrupt("break",97);case 96:return e.abrupt("break",97);case 97:return e.abrupt("return");case 98:if("undefined"===typeof p.stream_tips){e.next=122;break}if(ae=p,se=ae.stream_tips,se.stream_user_id=Number(se.stream_user_id),se.stream_id=Number(se.stream_id),["Streaming","Live","StreamingChat"].includes(m)){e.next=105;break}return e.abrupt("return");case 105:if(se.amount){e.next=107;break}return e.abrupt("return");case 107:ie=d["streaming/local"],oe=d["streaming/mode"]||d["live/mode"],e.t3=oe,e.next="live"===e.t3||"dual-live"===e.t3?112:"streaming"===e.t3?115:"dual-streaming"===e.t3?117:120;break;case 112:return ce=d["live/streams"],ce[se.stream_user_id]&&(ae.is_show_tips&&r("live/setStreamStream",{stream:{tipsSumm:+parseFloat(ae.tips_summ).toFixed(2)},instance:se.stream_user_id},{root:!0}),a("live/addTipsComment",se,{root:!0}),+ae.is_show_tips_goal&&a("live/setTipGoal",{data:{isShowTipGoal:!!+ae.is_show_tips_goal,description:ae.tips_goal,progress:+ae.tips_goal_progress,sum:+ae.tips_goal_sum},instance:se.stream_user_id},{root:!0})),e.abrupt("break",121);case 115:return ie.stream.id==se.stream_id&&ie.user.id==b&&(a("streaming/addTips",se,{root:!0}),ie.stream.id==se.stream_id&&r("streaming/setLocalStream",{tipsSumm:+parseFloat(ae.tips_summ).toFixed(2)},{root:!0}),r("streaming/setTipGoal",{sum:+ae.tips_goal_sum,progress:+ae.tips_goal_progress,description:ae.tips_goal},{root:!0})),e.abrupt("break",121);case 117:return ce=d["streaming/streams"],ce[se.stream_user_id]&&(a("streaming/addTips",se,{root:!0}),ie.stream.id==se.stream_id?(r("streaming/setLocalStream",{tipsSumm:+parseFloat(ae.tips_summ).toFixed(2)},{root:!0}),r("streaming/setTipGoal",{sum:+ae.tips_goal_sum,progress:+ae.tips_goal_progress,description:ae.tips_goal},{root:!0})):(r("streaming/setPartnerStream",{stream:{tipsSumm:+parseFloat(+ae.tips_summ||+ae.tips_goal_progress).toFixed(2)},instance:se.stream_user_id},{root:!0}),+ae.tips_goal_sum>0&&r("streaming/setPartnerTipGoal",{data:{isShowTipGoal:!!+ae.is_show_tips_goal,sum:+ae.tips_goal_sum,progress:+ae.tips_goal_progress,description:ae.tips_goal},instance:se.stream_user_id},{root:!0}))),e.abrupt("break",121);case 120:return e.abrupt("break",121);case 121:return e.abrupt("return");case 122:if("undefined"===typeof p.stream_look){e.next=140;break}ue=p,de=ue.stream_look,le=d["streaming/mode"]||d["live/mode"],e.t4=le,e.next="live"===e.t4||"dual-live"===e.t4?128:"streaming"===e.t4||"dual-streaming"===e.t4?134:139;break;case 128:if(fe=d["live/primary"],fe&&fe.user.id==de.stream_user_id){e.next=131;break}return e.abrupt("return");case 131:return a("live/joinUser",de.user,{root:!0}),r("live/setTotalViewers",de.total,{root:!0}),e.abrupt("break",139);case 134:if(me=d["streaming/local"],de.stream_user_id==me.user.id){e.next=137;break}return e.abrupt("return");case 137:return de.user.id!=me.user.id&&a("streaming/joinUser",de.user,{root:!0}),e.abrupt("break",139);case 139:return e.abrupt("return");case 140:if("undefined"===typeof p.stream_unlook){e.next=158;break}pe=p,he=pe.stream_unlook,be=d["streaming/mode"]||d["live/mode"],e.t5=be,e.next="live"===e.t5||"dual-live"===e.t5?146:"streaming"===e.t5||"dual-streaming"===e.t5?152:157;break;case 146:if(ge=d["live/primary"],ge&&ge.id==he.stream_user_id){e.next=149;break}return e.abrupt("return");case 149:return a("live/leaveUser",stream_look.user,{root:!0}),ge.user.id==he.stream_user_id&&r("live/setTotalViewers",he.total),e.abrupt("break",157);case 152:if(ve=d["streaming/local"],he.stream_user_id==ve.user.id){e.next=155;break}return e.abrupt("return");case 155:return he.user.id!=ve.user.id&&a("streaming/leaveUser",he.user,{root:!0}),e.abrupt("break",157);case 157:return e.abrupt("return");case 158:if("undefined"!==typeof p.stream_like&&(ye=p,we=ye.stream_like,Oe=d["streaming/local"],je=d["live/primary"],Oe.stream.id&&a("streaming/addLike",{x:we.x,y:we.y,streamUserId:Number(we.stream_user_id)},{root:!0}),je&&a("live/addLike",{x:we.x,y:we.y,streamUserId:Number(we.stream_user_id)},{root:!0})),"undefined"!==typeof p.co_stream&&(ke=p.co_stream,"request"===ke.status&&(Se=d["streaming/local"],xe=d["streaming/viewers"],Pe=xe[ke.userId],Pe&&ke.streamId==Se.stream.id&&i["default"].$root.$emit("show:co-stream:request",{user:Pe,streamId:Se.stream.id})),"accept"===ke.status&&(Ie=d["live/primary"],Ie.stream.id===Number(ke.streamId)&&Ie.user.id===Number(ke.userId)&&a("live/switchToDualStreaming",{},{root:!0})),"decline"===ke.status&&(Ce=ke.streamId,Re=ke.userId,i["default"].$root.$emit("show:co-stream:decline",{userId:Re,streamId:Ce}))),"undefined"!==typeof p.muted&&(Te=p.muted.user_id,_e=p.muted.state,Ae=Number(_e),r("chats/setMuted",{id:Te,status:Ae},{root:!0}),r("users/setUserField",{userId:Te,field:"canReceiveChatMessage",status:!_e},{root:!0})),"undefined"!==typeof p.post_expire&&r("posts/deletePost",p.post_expire,{root:!0}),"undefined"!==typeof p.post_published&&(Le=Number(p.post_published.id),Ee=Number(p.post_published.user_id),p.post_published.show_posts_in_feed&&a("posts/postPublished",{id:Le,userId:Ee},{root:!0}),Me=u.schedule.items.some((function(e){var t=e.entity;return t.id===Le})),Ue=u.schedule.dayItems.some((function(e){var t=e.entity;return t.id===Le})),De=u.schedule.savedForLaterItems.some((function(e){var t=e.entity;return t.id===Le})),Ee===b&&("Feed"===m&&Me&&(r("schedule/clearAgendaItems",{},{root:!0}),a("schedule/fetchEventsDetailed",{params:{limit:4,"filter[publishDate]":L()().format("YYYY-MM-DD")}},{root:!0})),"MyQueue"===m&&(Me||Ue)&&(a("schedule/fetchEventsCounters",{params:{"filter[publishDate]":L()().format("YYYY-MM-DD")}},{root:!0}),r("schedule/postPublished",Le,{root:!0}),r("schedule/setItemsByDate",{},{root:!0})),"SavedForLater"===m&&De&&r("schedule/postPublished",Le,{root:!0}))),"undefined"!==typeof p.post_updated&&(["Feed","Post","Profile","ProfileInner"].includes(m)&&a("posts/fetchPost",{id:Number(p.post_updated),onlyExisted:!0},{root:!0}),a("schedule/updatePost",{id:Number(p.post_updated)},{root:!0})),"undefined"!==typeof p.post_fundraising_updated&&r("posts/updatePost",p.post_fundraising_updated,{root:!0}),!p.toasts||h||document.hidden){e.next=170;break}if(Fe=p,Be=Fe.toasts,!["Streaming","Live","StreamingChat"].includes(m)){e.next=169;break}return e.abrupt("return");case 169:Be.forEach((function(e){var t=+new Date;if(!(l.toastsThrottle&&l.toastsThrottle+5e3>t)){r("setToastsThrottle",t);var n=i["default"].$createElement,a=n(R,{props:{toast:e}});i["default"].$bvToast.toast([a],{autoHideDelay:5e3,appendToast:!0,toaster:"b-toaster-bottom-left"})}}));case 170:if(!p.logout||!b||u.auth.logoutInProgress){e.next=181;break}return e.prev=171,e.next=174,Object(o["V"])();case 174:Ne=e.sent,qe=Ne.id,null!==qe&&qe===p.user_id||(r("auth/setLogoutInProgress",!0,{root:!0}),i["default"].$router.push({name:"Feed",params:{isLogout:!0}}),a("logout",{},{root:!0})),e.next=181;break;case 179:e.prev=179,e.t6=e["catch"](171);case 181:if(p.has_new_alerts&&a("users/fetchAlert",{},{root:!0}),p.has_new_hints&&a("users/fetchHints",{},{root:!0}),Ve=b,"undefined"!==typeof p.creditBalance&&r("users/setUserField",{userId:Ve,field:"creditBalance",status:p.creditBalance},{root:!0}),"undefined"!==typeof p.isRealCardConnected&&r("users/setUserField",{userId:Ve,field:"isRealCardConnected",status:p.isRealCardConnected},{root:!0}),"undefined"!==typeof p.payoutLegalApproveState&&(r("users/setUserField",{userId:Ve,field:"payoutLegalApproveState",status:p.payoutLegalApproveState},{root:!0}),r("users/setUserField",{userId:Ve,field:"payoutLegalApproveRejectReason",status:p.payoutLegalApproveRejectReason},{root:!0}),r("users/setUserField",{userId:Ve,field:"isPayoutLegalApproved",status:"approved"===p.payoutLegalApproveState},{root:!0}),r("users/setUserField",{userId:Ve,field:"payoutType",status:p.payoutType},{root:!0}),r("users/setUserField",{userId:Ve,field:"hasStripe",status:p.hasStripe},{root:!0}),r("users/setUserField",{userId:Ve,field:"canEarn",status:p.canEarn},{root:!0})),"undefined"!==typeof p.canReceiveManualPayout&&r("users/setUserField",{userId:Ve,field:"canReceiveManualPayout",status:p.canReceiveManualPayout},{root:!0}),"undefined"!==typeof p.canReceiveStripePayout&&r("users/setUserField",{userId:Ve,field:"canReceiveStripePayout",status:p.canReceiveStripePayout},{root:!0}),p=Object(N["a"])(p),"undefined"!==typeof p.needIVApprove&&r("users/setUserField",{userId:Ve,field:"needIVApprove",status:p.needIVApprove},{root:!0}),"undefined"!==typeof p.canCheckDocsByIV&&i["default"].$root.$emit("msg",{canCheckDocsByIV:p.canCheckDocsByIV}),"undefined"!==typeof p.canCheckDocsBySecondaryIV&&i["default"].$root.$emit("msg",{canCheckDocsBySecondaryIV:p.canCheckDocsBySecondaryIV}),"undefined"!==typeof p.paymentLocalUniqueId&&i["default"].$root.$emit("msg::paymentLocalUniqueId::".concat(p.paymentLocalUniqueId),p.timestamp),"undefined"!==typeof p.faceIdOtp&&i["default"].$root.$emit("msg::faceIdOtp",p.faceIdOtp),"undefined"!==typeof p.confirmed_email&&($e=d["auth/authUser"],r("users/setUserField",{userId:Ve,field:"isEmailChecked",status:p.confirmed_email===$e.email},{root:!0})),"undefined"!==typeof p.signature&&i["default"].$root.$emit("msg",{signature:p.signature}),"undefined"!==typeof p.ivStatus&&(i["default"].$root.$emit("msg",{ivStatus:p.ivStatus}),r("users/setUserField",{userId:Ve,field:"ivStatus",status:p.ivStatus},{root:!0})),"undefined"!==typeof p.isAgeVerified&&(i["default"].$root.$emit("msg",{isAgeVerified:p.isAgeVerified}),r("users/setUserField",{userId:Ve,field:"isAgeVerified",status:p.isAgeVerified},{root:!0})),"undefined"!==typeof p.ageVerificationRequired&&(i["default"].$root.$emit("msg",{ageVerificationRequired:p.ageVerificationRequired}),r("users/setUserField",{userId:Ve,field:"ageVerificationRequired",status:p.ageVerificationRequired},{root:!0})),"undefined"!==typeof p.ivFlow&&(i["default"].$root.$emit("msg",{ivFlow:p.ivFlow}),r("users/setUserField",{userId:Ve,field:"ivFlow",status:p.ivFlow},{root:!0})),"undefined"!==typeof p.ivCountry&&(i["default"].$root.$emit("msg",{ivCountry:p.ivCountry}),r("users/setUserField",{userId:Ve,field:"ivCountry",status:p.ivCountry},{root:!0})),"undefined"!==typeof p.ivFailReason&&(i["default"].$root.$emit("msg",{ivFailReason:p.ivFailReason}),r("users/setUserField",{userId:Ve,field:"ivFailReason",status:p.ivFailReason},{root:!0})),"undefined"===typeof p.stories){e.next=208;break}if(He=p.stories.length?p.stories[0]:{},He.isReady){e.next=207;break}return e.abrupt("return");case 207:He.userId===b?a("stories/updateMyStories",{story:He},{root:!0}):a("stories/fetchStories",void 0,{root:!0});case 208:"undefined"!==typeof p.template&&(Ge=V({},p.template),r("settings/setAutoMessage",Ge,{root:!0})),"undefined"!==typeof p["changelog.update"]&&r("settings/addChangelogUpdates",void 0,{root:!0}),p.price_changed&&Number(p.price_changed.user_id)!==b&&a("subscribes/fetchSubscribes",{limit:0,type:"changed",more:!0},{root:!0}),"undefined"!==typeof p.subscribed&&(ze=p,We=ze.subscribed,["Streaming","StreamingChat"].includes(m)&&(Ye=d["streaming/local"],Xe=d["streaming/viewers"],Ye.stream.id&&"undefined"!==typeof Xe[We.user.id]&&a("streaming/addSubscribedComment",We.user,{root:!0}))),p.vat&&(Qe=p.vat,Ke=Qe.vatCountry,Je=Qe.vatName,Ze=Qe.vatState,r("users/setUserField",{userId:Ve,field:"vatCountry",status:Ke},{root:!0}),r("users/setUserField",{userId:Ve,field:"vatName",status:Je},{root:!0}),r("users/setUserField",{userId:Ve,field:"vatState",status:Ze},{root:!0}),r("users/clearAnotherUsersItems",Ve,{root:!0})),p.tickets_comment_count&&(et=p.tickets_comment_count,tt=et.id,nt=et.count,r("static/setTicket",{id:tt,ticket:{hasNewReplies:!!nt,commentCount:nt}},{root:!0})),void 0!==p.hasNewTicketReplies&&r("users/setUserField",{userId:Ve,field:"hasNewTicketReplies",status:p.hasNewTicketReplies},{root:!0}),p.queueStats&&(rt=p.queueStats,at=rt.id,st=rt.viewedCount,it=rt.sentCount,r("massMessagesStat/setMessage",{id:at,viewedCount:st,sentCount:it},{root:!0})),p.block_user,p.unblock_user,void 0!==p.scheduled_stream&&(ot=i["default"].$createElement,ct=ot(B,{props:{toast:1}}),i["default"].$bvToast.toast([ct],{autoHideDelay:3e3,appendToast:!0,toaster:"b-toaster-bottom-left"}));case 219:case"end":return e.stop()}}),e,null,[[14,22],[171,179]])})));function t(t,n){return e.apply(this,arguments)}return t}()}},f47e:function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return w})),n.d(t,"getters",(function(){return O})),n.d(t,"mutations",(function(){return j})),n.d(t,"actions",(function(){return k}));n("8e6e"),n("7514"),n("8615"),n("55dd"),n("a481");var r=n("7618"),a=(n("96cf"),n("3b8d")),s=(n("6762"),n("2fdb"),n("c5f6"),n("bd86")),i=(n("456d"),n("ac6a"),n("5df3"),n("4f7f"),n("75fc")),o=n("2b0e"),c=n("5e23"),u=n("9b02"),d=n.n(u),l=n("56d7"),f=n("559d"),m=n("a836"),p=n("09e4"),h=n("b775"),b=n("709f");function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){Object(s["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y=function(){return{chats:[],items:{},currentChat:null,messages:{},chatsLoading:!1,chatsListLoading:!1,sendMessageLoading:!1,searchIds:[],currentSearchIndex:null,searchQuery:"",chatsSort:null,mobileVersion:!1,chatsListHasMore:!1,emptyMessagesList:!1,firstLoadingChatsList:!1,firstLoadingMessagesList:!1,usersTotal:0,selectedUsersIds:0,queueIds:[],queueItems:{},media:[],queueMessagesLoading:!1,queueBuyersOffset:0,queueBuyersMarker:0,queueBuyersIds:[],queueBuyersError:!1,selectedUsers:[],galleryListHasMore:!1,showViewAllInclude:!1,selectViewAllInclude:[],showViewAllExclude:!1,selectViewAllExclude:[],nextOffset:null,chatsSortPriority:null,hasMoreUsers:!1}},w=y(),O={chatsByType:function(e){return e.chats.map((function(t){return e.items[t]}))},getChat:function(e){return function(t){return e.items[t]}},getMessages:function(e){return function(t){return t.map((function(t){return e.messages[t]}))}},getMessage:function(e){return function(t){return e.messages[t]}},chatMessages:function(e){return function(t){return e.items[t].messages}},getLikePrevent:function(e){return function(t){return e.messages[t].likePrevent}},getIsMediaPlayed:function(e){return function(t){return e.messages[t].isMediaPlayed}},getQueueItem:function(e){return function(t){return e.queueItems[t]}},getChatHasMore:function(e){return function(t){return!!e.items[t]&&e.items[t].hasMore}}},j={setLoading:function(e,t){e.chatsLoading=t},setChatsListLoading:function(e,t){e.chatsListLoading=t},setSendMessageLoading:function(e,t){e.sendMessageLoading=t},setHasMoreUsers:function(e,t){e.hasMoreUsers=t},setMobileVersion:function(e,t){e.mobileVersion=t},setChats:function(e,t){var n=t.ids,r=void 0===n?[]:n;e.chats=r},resetChats:function(e){e.chats=[]},addChats:function(e,t){var n=t.ids;e.chats=Object(i["a"])(new Set([].concat(Object(i["a"])(e.chats),Object(i["a"])(n))))},setChatMessages:function(e,t){var n=t.id,r=t.messageIds,a=t.add,s=void 0!==a&&a,c=t.before,u=void 0===c||c,d=t.ownMsg,l=t.isTip,f=void 0!==l&&l,m=t.isPerformer,p=void 0!==m&&m,h=t.isSocket,b=void 0!==h&&h,g=Array.isArray(r)?r:[r];!1!==d||e.items[n]||o["default"].set(e.items,t.id,{withUser:t.id,unreadMessagesCount:1,messages:[],hasUnreadTips:!1});var v=null;!f&&p&&b&&"unread"===e.chatsSort&&e.chats.some((function(t){return(!e.items[t]||!e.items[t].hasUnreadTips)&&(v=t,!0)})),s?u&&e.items[n]&&Object.keys(e.items[n].messages).length?e.items[n].messages=Object(i["a"])(new Set([].concat(Object(i["a"])(g),Object(i["a"])(e.items[n].messages)))):(e.items[n]&&(e.items[n].messages=Object(i["a"])(new Set([].concat(Object(i["a"])(e.items[n].messages),Object(i["a"])(g))))),b&&("recent"===e.chatsSort||!d&&"unread_tips"===e.chatsSort)&&(e.chats=null!==v?e.chats.reduce((function(e,t){return[].concat(Object(i["a"])(e),t!==v?[t]:[n,t])}),[]):e.chats.reduce((function(e,t){return t!==n?[].concat(Object(i["a"])(e),[t]):e}),[n]))):e.items[n]&&(e.items[n].messages=g)},setLastMessage:function(e,t){var n=t.chatId,r=t.messageId,a=t.ownMsg,s=void 0!==a&&a,i=t.isNew;e.items[n]&&(e.items[n].prevMessage=e.items[n].lastMessage,e.items[n].lastMessage=r,!s&&void 0!==e.items[n].unreadMessagesCount&&null!==e.items[n].unreadMessagesCount&&i&&(e.items[n].unreadMessagesCount+=1))},deleteChat:function(e,t){e.chats=e.chats.filter((function(e){return e!==t}));var n=v({},e.items);delete n[t],e.items=n},deleteSomeChat:function(e,t){t.forEach((function(t){e.chats=e.chats.filter((function(e){return e!==t}))}))},setSearchIds:function(e,t){e.searchIds=t},setCurrentSearchIndex:function(e,t){e.currentSearchIndex=t},setSearchQuery:function(e,t){e.searchQuery=t},deleteMessage:function(e,t){var n=t.chatId,r=t.messageId;if(e.items[n]){e.items[n].messages=e.items[n].messages.filter((function(e){return e!==r}));var a=e.items[n].messages.length,s=a?e.items[n].messages[a-1]:null;e.items[n].prevMessage=s,e.items[n].lastMessage=s}},deleteMessageById:function(e,t){var n=e.messages[t];if(n&&n.chatId&&e.items[n.chatId]){var r=e.items[n.chatId].messages.filter((function(e){return e!==Number(t)})),a=r[r.length-1];e.items[n.chatId].messages=r,e.items[n.chatId].lastMessage=a}},decrMessageCancelSeconds:function(e,t){e.messages[t].cancelSeconds<=0?e.messages[t].cancelSeconds=0:e.messages[t].cancelSeconds-=1},setChatTyping:function(e,t){var n=t.chatId,r=t.status;e.items[n]&&(e.items[n].typing=r)},setMessageIsNew:function(e,t){var n=t.messageId,r=t.status;e.messages[n]&&(e.messages[n].isNew=r)},setMuted:function(e,t){var n=t.id,r=t.status;e.items[n]&&(e.items[n].isMuted=r)},setChatsSort:function(e,t){var n;if(t&&(t.value||"undefined"!==t.isPerformer)){var r=t;n=r.isPerformer,t=r.value}if(void 0===t){var a=!1;try{null!==b["a"].getItem("sort_chats")&&(a=b["a"].getItem("sort_chats"))}catch(s){}t=a}"recent"!==t&&"unread"!==t&&"activity"!==t&&"name"!==t&&"available"!==t&&"unread_tips"!==t&&"old_unread"!==t&&(t=n?"unread_tips":"recent"),e.chatsSort=t;try{b["a"].setItem("sort_chats",t)}catch(s){}},setAddedNewItemChats:function(e,t){var n=t.id;e.chats.unshift(n)},setNewUserChats:function(e,t){e.chats.includes(t)||(e.chats.unshift(t),e.chats.splice(-1,1))},setChatAsRead:function(e,t){e.items[t]&&(e.items[t].unreadMessagesCount=!1)},setLastReadMessageId:function(e,t){e.items[t]&&(e.items[t].lastReadMessageId=e.items[t].lastMessage)},setChatAsUnRead:function(e,t){e.items[t]&&(e.items[t].unreadMessagesCount=1)},setAllChatAsRead:function(e,t){Object.keys(e.items).forEach((function(n){t.includes(Number(n))&&(e.items[n].unreadMessagesCount=!1)}))},setMessageIsLiked:function(e,t){var n=t.messageId,r=t.value;e.messages[n]&&(e.messages[n].isLiked=r)},setLikePrevent:function(e,t){var n=t.messageId,r=t.value;e.messages[n]&&(e.messages[n].likePrevent=r)},setIsMediaPlayed:function(e,t){var n=t.messageId,r=t.value;e.messages[n]&&(e.messages[n].isMediaPlayed=r)},setChatsHasMore:function(e,t){var n=t.userId,r=t.hasMore;e.items[n]&&(e.items[n].hasMore=r)},setChatsListHasMore:function(e,t){e.chatsListHasMore=t},setEmptyMessagesList:function(e,t){e.emptyMessagesList=t},setHideChats:function(e,t){e.chats.includes(t)&&(e.chats=e.chats.filter((function(e){return e!==t})))},setMuteNotifications:function(e,t){e.items[t]&&(e.items[t].isMutedNotifications=!e.items[t].isMutedNotifications)},setFirstLoadingChatsList:function(e,t){e.firstLoadingChatsList=t},setFirstLoadingMessagesList:function(e,t){!e.firstLoadingMessagesList&&t&&(e.firstLoadingMessagesList=!0),t||(e.firstLoadingMessagesList=!1)},setUsersTotal:function(e,t){e.usersTotal=t>0?t:0},setSelectedUsersIds:function(e,t){e.selectedUsersIds=t},setChatUserMedia:function(e,t){e.media=Object(i["a"])(new Set(t))},addChatUserMedia:function(e,t){e.media=Object(i["a"])(new Set([].concat(Object(i["a"])(e.media),Object(i["a"])(t))))},setQueueMessagesLoading:function(e,t){e.queueMessagesLoading=t},setQueueBuyersOffset:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e.queueBuyersOffset=t},setQueueBuyersMarker:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e.queueBuyersMarker=t},setQueueBuyersIds:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.more,r=void 0!==n&&n,a=t.ids,s=void 0===a?[]:a;e.queueBuyersIds=r?Object(i["a"])(new Set([].concat(Object(i["a"])(e.queueBuyersIds),Object(i["a"])(s)))):s},setQueueBuyersError:function(e,t){e.queueBuyersError=t},setSelectedUsers:function(e,t){e.selectedUsers.includes(t)?e.selectedUsers=e.selectedUsers.filter((function(e){return e!==t})):e.selectedUsers.push(t)},setAllSelectedUsers:function(e){e.selectedUsers=e.chats},resetSelectedUsers:function(e){e.selectedUsers=[]},setGalleryListHasMore:function(e,t){e.galleryListHasMore=t},setShowViewAllInclude:function(e,t){e.showViewAllInclude=t},setSelectViewAllInclude:function(e,t){e.selectViewAllInclude=t},setShowViewAllExclude:function(e,t){e.showViewAllExclude=t},setSelectViewAllExclude:function(e,t){e.selectViewAllExclude=t},setNextOffset:function(e,t){e.nextOffset=t},setMessagesQueue:function(e,t){var n=t.items,r=Object(c["a"])(n,f["n"]);e.queueItems=r.entities.queues||{},e.queueIds=r.result},setChatsSortPriority:function(e,t){e.chatsSortPriority=t||b["a"].getItem("chats_sort_priority","recent"),b["a"].setItem("chats_sort_priority",e.chatsSortPriority)},setMessageIsReportedByMeTemp:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e.messages[t]&&(e.messages[t]=v(v({},e.messages[t]),{},{isReportedByMeTemp:!0}))},logout:function(e){Object.assign(e,y())}},k={fetchChats:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,s,i,o,u,d,l,p,b,g,v,y,w,O,j,k,S,x,P,I,C=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,r=t.rootGetters,a=t.dispatch,s=C.length>1&&void 0!==C[1]?C[1]:{},i=s.limit,o=void 0===i?h["e"]:i,u=s.offset,d=void 0===u?0:u,l=s.filter,p=s.order,b=s.query,g=s.field,v=s.list_id,y=s.recent,w=s.muted,O=Object(h["f"])("fetchChats"),j=O.cancelToken,k=O.Cancel,n("setLoading",!0),n("setChatsListLoading",!0),d||(n("setChatsListHasMore",!1),n("setNextOffset",null),n("resetChats")),S=r["users/needSkipUsersOnChats"]?"all":void 0,e.prev=7,e.next=10,Object(m["f"])({limit:o,offset:d,filter:l,order:p,query:b,field:g,list_id:v,skip_users:S,recent:y,muted:w},j);case 10:if(x=e.sent,!(x&&x.list&&Array.isArray(x.list))){e.next=23;break}if(!x.list.length){e.next=22;break}if(P=Object(c["a"])(x.list,f["a"]),I=P.result,!S){e.next=18;break}return e.next=18,a("users/getUsersIfNeeded",P,{root:!0});case 18:n("set",P,{root:!0}),n(d?"addChats":"setChats",{ids:I}),e.next=23;break;case 22:d||x&&x.hasMore||n("resetChats");case 23:return n("setChatsListHasMore",x&&x.hasMore),n("setNextOffset",x&&x.nextOffset),n("setLoading",!1),n("setChatsListLoading",!1),n("setFirstLoadingChatsList",!0),e.abrupt("return",x);case 31:return e.prev=31,e.t0=e["catch"](7),e.t0 instanceof k||(n("setChatsListHasMore",!1),n("setNextOffset",null),n("setLoading",!1),n("setChatsListLoading",!1)),e.abrupt("return",{list:[],hasMore:!1});case 35:case"end":return e.stop()}}),e,null,[[7,31]])})));function t(t){return e.apply(this,arguments)}return t}(),fetchChat:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var a,s,i,o,u,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.commit,s=t.rootGetters,i=t.dispatch,e.prev=1,o=s["users/needSkipUsersOnChats"]?"all":void 0,e.next=5,Object(m["e"])(n,o);case 5:if(u=e.sent,!u||"object"!==Object(r["a"])(u)){e.next=14;break}if(d=Object(c["a"])(u,f["d"]),!o){e.next=11;break}return e.next=11,i("users/getUsersIfNeeded",d,{root:!0});case 11:a("set",d,{root:!0}),e.next=16;break;case 14:throw Object(p["c"])({error:new Error("typeof response is incorrect"),extra:{response:u}}),new Error;case 16:e.next=23;break;case 18:throw e.prev=18,e.t0=e["catch"](1),l["default"].$router.replace({name:"Chats"}),l["default"].$nextTick((function(){Object(p["b"])(e.t0)})),e.t0;case 23:case"end":return e.stop()}}),e,null,[[1,18]])})));function t(t,n){return e.apply(this,arguments)}return t}(),fetchChatsMessages:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,s,i,o,u,d,b,g,v,y,w,O,j,k,S,x,P,I=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,r=t.rootGetters,a=t.dispatch,s=I.length>1&&void 0!==I[1]?I[1]:{},i=s.userId,o=s.lastId,u=s.firstId,d=s.id,b=s.more,g=void 0!==b&&b,v=s.before,y=void 0===v||v,w=s.limit,O=void 0===w?h["e"]:w,n("setEmptyMessagesList",!1),e.prev=3,j=r["users/needSkipUsersOnShort"]?"all":void 0,e.next=7,Object(m["g"])(i,{lastId:o,firstId:u,id:d,skip_users:j,limit:O});case 7:if(k=e.sent,1!==O||1!==k.list.length){e.next=13;break}S=Object(c["a"])(k.list[0],f["c"]),n("set",S,{root:!0}),e.next=23;break;case 13:if(x=Object(c["a"])(k.list,f["b"]),!j){e.next=17;break}return e.next=17,a("users/getUsersIfNeeded",x,{root:!0});case 17:x.chatId=i,n("set",x,{root:!0}),n("setChatsHasMore",{userId:i,hasMore:k.hasMore}),P=x.result.reverse(),g?n("setChatMessages",{id:i,messageIds:P,add:!0,before:y}):(n("setChatMessages",{id:i,messageIds:P}),k.list.length||n("setEmptyMessagesList",!0)),n("setFirstLoadingMessagesList",!0);case 23:return e.abrupt("return",k);case 26:e.prev=26,e.t0=e["catch"](3),l["default"].$router.replace({name:"Chats"}),l["default"].$nextTick((function(){Object(p["b"])(e.t0)}));case 30:case"end":return e.stop()}}),e,null,[[3,26]])})));function t(t){return e.apply(this,arguments)}return t}(),fetchChatsUsers:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,a,s,i,o,u,d,l,b,g,v,y,w,O,j,k,S,x,P=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,a=t.rootGetters,s=t.dispatch,i=P.length>1&&void 0!==P[1]?P[1]:{},o=i.query,u=i.offset,d=i.sort,l=i.field,b=i.filter,g=i.limit,v=void 0===g?h["e"]:g,y=i.scheduledSubscribedOn,e.prev=2,w=a["users/needSkipUsersOnShort"]?"all":void 0,e.next=6,Object(m["h"])({query:o,offset:u,sort:d,field:l,filter:b,limit:v,total:o||u?0:1,skip_users:w,scheduledSubscribedOn:y});case 6:if(O=e.sent,!O||"object"!==Object(r["a"])(O)){e.next=19;break}if(j=O.hasMore,k=O.list,S=O.total,n("setHasMoreUsers",!!j),"number"===typeof S&&n("setUsersTotal",S),!Array.isArray(k)||!k.length){e.next=18;break}if(x=Object(c["a"])(k,f["y"]),!w){e.next=16;break}return e.next=16,s("users/getUsersIfNeeded",x,{root:!0});case 16:return n("set",x,{root:!0}),e.abrupt("return",x.result);case 18:return e.abrupt("return",[]);case 19:Object(p["c"])({error:new Error("typeof response is incorrect"),extra:{response:O}}),e.next=24;break;case 22:e.prev=22,e.t0=e["catch"](2);case 24:return n("setUsersTotal",0),n("setHasMoreUsers",!1),e.abrupt("return",[]);case 27:case"end":return e.stop()}}),e,null,[[2,22]])})));function t(t){return e.apply(this,arguments)}return t}(),fetchMessagesQueue:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.prev=1,e.next=4,Object(m["j"])();case 4:r=e.sent,Array.isArray(r)&&n("setMessagesQueue",{items:r}),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),Object(p["b"])(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));function t(t){return e.apply(this,arguments)}return t}(),clearQueueState:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,s,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=t.commit,a=t.state,s=n.id,i=Object.values(a.queueItems),o=Object.values(a.messages).filter((function(e){return e.isFromQueue&&e.queueId===s})).map((function(e){return e.id})),o.forEach((function(e){return r("deleteMessageById",e)})),r("setMessagesQueue",{items:i.filter((function(e){return e.id!==s}))});case 6:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),delMessagesQueue:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,s,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=t.state,a=t.dispatch,s=n.id,i=n.withRequest,i){e.next=6;break}a("clearQueueState",{id:s}),e.next=17;break;case 6:if(!r.queueIds.includes(s)){e.next=17;break}return e.prev=7,e.next=10,Object(m["a"])(s);case 10:o=e.sent,o&&o.success&&a("clearQueueState",{id:s}),e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](7),Object(p["b"])(e.t0);case 17:case"end":return e.stop()}}),e,null,[[7,14]])})));function t(t,n){return e.apply(this,arguments)}return t}(),sendMessage:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,s,i,o,u,l,h;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,a=t.state,s=n.id,i=n.data,r("setSendMessageLoading",!0),e.prev=3,e.next=6,Object(m["w"])(s,i);case 6:if(o=e.sent,r("setSendMessageLoading",!1),!o||!o.id){e.next=17;break}return o.chatId=s,u=Object(c["a"])(o,f["c"]),r("set",u,{root:!0}),l=u.result,r("setChatMessages",{id:s,messageIds:l,add:!0,before:!1}),h=Number(s),a.chats.includes(h)||r("setAddedNewItemChats",{id:h}),e.abrupt("return",!0);case 17:e.next=26;break;case 19:if(e.prev=19,e.t0=e["catch"](3),r("setSendMessageLoading",!1),!d()(e.t0,"data.errors.textHighLight[0]")){e.next=25;break}return Object(p["b"])(e.t0),e.abrupt("return",e.t0);case 25:Object(p["b"])(e.t0);case 26:return e.abrupt("return",!1);case 27:case"end":return e.stop()}}),e,null,[[3,19]])})));function t(t,n){return e.apply(this,arguments)}return t}(),updateChatMessagesCount:function(e,t){var n=e.commit,r=e.rootGetters,a=r["auth/authUserId"],s=r["users/getUser"](a).chatMessagesCount,i=s+t.status;n("users/setUserField",{userId:a,field:"chatMessagesCount",status:i<0?0:i},{root:!0})},deleteChat:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,a=t.dispatch,i=Array.isArray(n)?n.join():n,e.prev=2,e.next=5,Object(m["b"])(i);case 5:s=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](2),Object(p["b"])(e.t0);case 11:s&&s.success&&(Array.isArray(n)?(r("deleteSomeChat",n),a("updateChatMessagesCount",{status:-Number(n.length)})):(r("deleteChat",i),a("updateChatMessagesCount",{status:-1})));case 12:case"end":return e.stop()}}),e,null,[[2,8]])})));function t(t,n){return e.apply(this,arguments)}return t}(),searchMessages:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,a=n.id,s=n.query,e.prev=2,e.next=5,Object(m["u"])(a,{query:s});case 5:i=e.sent,e.next=11;break;case 8:return e.prev=8,e.t0=e["catch"](2),e.abrupt("return",[]);case 11:return r("setSearchIds",i),r("setSearchQuery",s),e.abrupt("return",i);case 14:case"end":return e.stop()}}),e,null,[[2,8]])})));function t(t,n){return e.apply(this,arguments)}return t}(),deleteMessages:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,s,i,o,c,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,a=t.rootGetters,s=t.dispatch,i=n.chatId,o=n.messageId,e.prev=2,e.next=5,Object(m["d"])(o,i);case 5:c=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](2),Object(p["b"])(e.t0);case 11:c&&c.success&&(r("deleteMessage",{chatId:i,messageId:o}),u=a["chats/chatMessages"](i),u.length||s("deleteChat",i));case 12:case"end":return e.stop()}}),e,null,[[2,8]])})));function t(t,n){return e.apply(this,arguments)}return t}(),markChatAsRead:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,a=t.dispatch,e.prev=1,e.next=4,Object(m["t"])(n);case 4:s=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](1),Object(p["b"])(e.t0);case 10:s&&s.success&&(r("setChatAsRead",n),a("updateChatMessagesCount",{status:-1}));case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));function t(t,n){return e.apply(this,arguments)}return t}(),markChatAsUnRead:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,a=t.dispatch,e.prev=1,e.next=4,Object(m["c"])(n);case 4:s=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](1),Object(p["b"])(e.t0);case 10:s&&s.success&&(r("setChatAsUnRead",n),a("updateChatMessagesCount",{status:1}));case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));function t(t,n){return e.apply(this,arguments)}return t}(),markAllChatAsRead:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,s,i,o,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,a=t.rootState,s=n.filteredChatsIds,i=n.unreadMessagesCount,o=n.currentFiltersIds,e.prev=2,e.next=5,Object(m["r"])(o);case 5:c=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](2),Object(p["b"])(e.t0);case 11:c&&c.success&&(r("users/resetChatMessagesCount",{userId:a.auth.user,unreadMessagesCount:i},{root:!0}),r("setAllChatAsRead",s));case 12:case"end":return e.stop()}}),e,null,[[2,8]])})));function t(t,n){return e.apply(this,arguments)}return t}(),setLikeMessage:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,a=n.messageId,s=n.withUserId,e.prev=2,r("setLoading",!0),e.next=6,Object(m["p"])(a,s);case 6:i=e.sent,r("setLoading",!1),i&&i.success&&r("setMessageIsLiked",{messageId:a,value:!0}),e.next=15;break;case 11:e.prev=11,e.t0=e["catch"](2),r("setLoading",!1),Object(p["b"])(e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));function t(t,n){return e.apply(this,arguments)}return t}(),setUnlikeMessage:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,a=n.messageId,s=n.withUserId,e.prev=2,r("setLoading",!0),e.next=6,Object(m["y"])(a,s);case 6:i=e.sent,r("setLoading",!1),i&&i.success&&r("setMessageIsLiked",{messageId:a,value:!1}),e.next=15;break;case 11:e.prev=11,e.t0=e["catch"](2),r("setLoading",!1),Object(p["b"])(e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));function t(t,n){return e.apply(this,arguments)}return t}(),hideChats:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.prev=1,e.next=4,Object(m["s"])(n);case 4:a=e.sent,a&&a.success&&r("setHideChats",n),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),Object(p["b"])(e.t0);case 11:return e.abrupt("return",a);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));function t(t,n){return e.apply(this,arguments)}return t}(),toggleMuteNotifications:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,s,i,o,c,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=t.commit,a=t.state,s=t.rootState,i=a.items[n].isMutedNotifications,e.prev=2,!i){e.next=9;break}return e.next=6,Object(m["z"])(n);case 6:o=e.sent,e.next=12;break;case 9:return e.next=11,Object(m["q"])(n);case 11:o=e.sent;case 12:o&&o.success&&(r("setMuteNotifications",n),c=s.users.items[n],c&&c.listsStates&&c.listsStates.length&&(u=c.listsStates.map((function(e){return"muted"===e.type?v(v({},e),{},{hasUser:!e.hasUser}):e})),r("users/setUserField",{userId:n,field:"listsStates",status:u},{root:!0}))),e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](2),Object(p["b"])(e.t0);case 18:return e.abrupt("return",o);case 19:case"end":return e.stop()}}),e,null,[[2,15]])})));function t(t,n){return e.apply(this,arguments)}return t}(),fetchChatsUsersMedia:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,s,i,o,u,d,l,p,h,b=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,r=t.rootGetters,a=t.dispatch,s=b.length>1&&void 0!==b[1]?b[1]:{},i=s.userId,o=s.offset,u=s.limit,d=s.filter,e.prev=2,l=r["users/needSkipUsersOnShort"]?"all":void 0,e.next=6,Object(m["n"])({userId:i,offset:o,limit:u,filter:d,skipUsers:l});case 6:if(p=e.sent,!p){e.next=17;break}if(!(p.list&&Array.isArray(p.list)&&p.list.length)){e.next=15;break}if(h=Object(c["a"])(p.list,f["b"]),!l){e.next=13;break}return e.next=13,a("users/getUsersIfNeeded",h,{root:!0});case 13:n("set",h,{root:!0}),n(o?"addChatUserMedia":"setChatUserMedia",h.result);case 15:return n("setGalleryListHasMore",p.hasMore),e.abrupt("return",!!p.hasMore);case 17:e.next=22;break;case 19:e.prev=19,e.t0=e["catch"](2),Sentry.captureException(e.t0);case 22:return e.abrupt("return",!1);case 23:case"end":return e.stop()}}),e,null,[[2,19]])})));function t(t){return e.apply(this,arguments)}return t}(),fetchQueueBuyersList:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,s,i,o,u,d,l,p,b;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,a=t.rootGetters,s=t.dispatch,i=t.state,o=n.queueId,u=n.more,d=void 0!==u&&u,r("setQueueBuyersError",!1),e.prev=3,d||(r("setQueueBuyersOffset"),r("setQueueBuyersMarker"),r("setQueueBuyersIds")),l=a["users/needSkipUsersOnShort"]?"all":void 0,e.next=8,Object(m["k"])({queueId:o,skip_users:l,offset:i.queueBuyersOffset,marker:i.queueBuyersMarker});case 8:if(p=e.sent,!p||!p.list){e.next=18;break}if(r("setQueueBuyersOffset",i.queueBuyersOffset+h["e"]),p.marker&&r("setQueueBuyersMarker",p.marker),b=Object(c["a"])(p.list,f["y"]),!l){e.next=16;break}return e.next=16,s("users/getUsersIfNeeded",b,{root:!0});case 16:r("set",b,{root:!0}),r("setQueueBuyersIds",{more:d,ids:b.result});case 18:return e.abrupt("return",p&&p.hasMore);case 21:e.prev=21,e.t0=e["catch"](3),r("setQueueBuyersError",!0);case 24:return e.abrupt("return",!1);case 25:case"end":return e.stop()}}),e,null,[[3,21]])})));function t(t,n){return e.apply(this,arguments)}return t}(),newMessageFromSocket:function(e,t){var n=e.commit,r=e.rootGetters,a=r["usersLists/getCurrentFilterListId"],s=t.listsStates.find((function(e){return e.id===a}));(s&&s.hasUser||!a)&&n("setChatMessages",t)},hideMessage:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.prev=1,e.next=4,Object(m["o"])(n);case 4:return a=e.sent,a&&a.success&&r("deleteMessageById",n),e.abrupt("return",a);case 9:e.prev=9,e.t0=e["catch"](1),Object(p["b"])(e.t0);case 12:return e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));function t(t,n){return e.apply(this,arguments)}return t}()}},ff1d:function(e,t,n){"use strict";(function(e){n("55dd"),n("28a5");var t=n("7618");n("456d"),n("a481"),n("ac6a");(function(r,a,s,i){var o,c=["","webkit","Moz","MS","ms","o"],u=a.createElement("div"),d="function",l=Math.round,f=Math.abs,m=Date.now;function p(e,t,n){return setTimeout(O(e,n),t)}function h(e,t,n){return!!Array.isArray(e)&&(b(e,n[t],n),!0)}function b(e,t,n){var r;if(e)if(e.forEach)e.forEach(t,n);else if(e.length!==i){r=0;while(r<e.length)t.call(n,e[r],r,e),r++}else for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e)}function g(e,t,n){var a="DEPRECATED METHOD: "+t+"\n"+n+" AT \n";return function(){var t=new Error("get-stack-trace"),n=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",s=r.console&&(r.console.warn||r.console.log);return s&&s.call(r.console,a,n),e.apply(this,arguments)}}o="function"!==typeof Object.assign?function(e){if(e===i||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(r!==i&&null!==r)for(var a in r)r.hasOwnProperty(a)&&(t[a]=r[a])}return t}:Object.assign;var v=g((function(e,t,n){var r=Object.keys(t),a=0;while(a<r.length)(!n||n&&e[r[a]]===i)&&(e[r[a]]=t[r[a]]),a++;return e}),"extend","Use `assign`."),y=g((function(e,t){return v(e,t,!0)}),"merge","Use `assign`.");function w(e,t,n){var r,a=t.prototype;r=e.prototype=Object.create(a),r.constructor=e,r._super=a,n&&o(r,n)}function O(e,t){return function(){return e.apply(t,arguments)}}function j(e,n){return Object(t["a"])(e)==d?e.apply(n&&n[0]||i,n):e}function k(e,t){return e===i?t:e}function S(e,t,n){b(C(t),(function(t){e.addEventListener(t,n,!1)}))}function x(e,t,n){b(C(t),(function(t){e.removeEventListener(t,n,!1)}))}function P(e,t){while(e){if(e==t)return!0;e=e.parentNode}return!1}function I(e,t){return e.indexOf(t)>-1}function C(e){return e.trim().split(/\s+/g)}function R(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);var r=0;while(r<e.length){if(n&&e[r][n]==t||!n&&e[r]===t)return r;r++}return-1}function T(e){return Array.prototype.slice.call(e,0)}function _(e,t,n){var r=[],a=[],s=0;while(s<e.length){var i=t?e[s][t]:e[s];R(a,i)<0&&r.push(e[s]),a[s]=i,s++}return n&&(r=t?r.sort((function(e,n){return e[t]>n[t]})):r.sort()),r}function A(e,t){var n,r,a=t[0].toUpperCase()+t.slice(1),s=0;while(s<c.length){if(n=c[s],r=n?n+a:t,r in e)return r;s++}return i}var L=1;function E(){return L++}function M(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||r}var U="ontouchstart"in r,D=!1,F=!0,B="touch",N="pen",q="mouse",V="kinect",$=25,H=1,G=2,z=4,W=8,Y=1,X=2,Q=4,K=8,J=16,Z=X|Q,ee=K|J,te=Z|ee,ne=["x","y"],re=["clientX","clientY"];function ae(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){j(e.options.enable,[e])&&n.handler(t)},this.init()}function se(e){var t,n=e.options.inputClass;return t=n||(D?Pe:F?Ee:U?De:Oe),new t(e,ie)}function ie(e,t,n){var r=n.pointers.length,a=n.changedPointers.length,s=t&H&&r-a===0,i=t&(z|W)&&r-a===0;n.isFirst=!!s,n.isFinal=!!i,s&&(e.session={}),n.eventType=t,oe(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function oe(e,t){var n=e.session,r=t.pointers,a=r.length;n.firstInput||(n.firstInput=de(t)),a>1&&!n.firstMultiple?n.firstMultiple=de(t):1===a&&(n.firstMultiple=!1);var s=n.firstInput,i=n.firstMultiple,o=i?i.center:s.center,c=t.center=le(r);t.timeStamp=m(),t.deltaTime=t.timeStamp-s.timeStamp,t.angle=he(o,c),t.distance=pe(o,c),ce(n,t),t.offsetDirection=me(t.deltaX,t.deltaY);var u=fe(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=u.x,t.overallVelocityY=u.y,t.overallVelocity=f(u.x)>f(u.y)?u.x:u.y,t.scale=i?ge(i.pointers,r):1,t.rotation=i?be(i.pointers,r):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,ue(n,t);var d=e.element;P(t.srcEvent.target,d)&&(d=t.srcEvent.target),t.target=d}function ce(e,t){var n=t.center,r=e.offsetDelta||{},a=e.prevDelta||{},s=e.prevInput||{};t.eventType!==H&&s.eventType!==z||(a=e.prevDelta={x:s.deltaX||0,y:s.deltaY||0},r=e.offsetDelta={x:n.x,y:n.y}),t.deltaX=a.x+(n.x-r.x),t.deltaY=a.y+(n.y-r.y)}function ue(e,t){var n,r,a,s,o=e.lastInterval||t,c=t.timeStamp-o.timeStamp;if(t.eventType!=W&&(c>$||o.velocity===i)){var u=t.deltaX-o.deltaX,d=t.deltaY-o.deltaY,l=fe(c,u,d);r=l.x,a=l.y,n=f(l.x)>f(l.y)?l.x:l.y,s=me(u,d),e.lastInterval=t}else n=o.velocity,r=o.velocityX,a=o.velocityY,s=o.direction;t.velocity=n,t.velocityX=r,t.velocityY=a,t.direction=s}function de(e){var t=[],n=0;while(n<e.pointers.length)t[n]={clientX:l(e.pointers[n].clientX),clientY:l(e.pointers[n].clientY)},n++;return{timeStamp:m(),pointers:t,center:le(t),deltaX:e.deltaX,deltaY:e.deltaY}}function le(e){var t=e.length;if(1===t)return{x:l(e[0].clientX),y:l(e[0].clientY)};var n=0,r=0,a=0;while(a<t)n+=e[a].clientX,r+=e[a].clientY,a++;return{x:l(n/t),y:l(r/t)}}function fe(e,t,n){return{x:t/e||0,y:n/e||0}}function me(e,t){return e===t?Y:f(e)>=f(t)?e<0?X:Q:t<0?K:J}function pe(e,t,n){n||(n=ne);var r=t[n[0]]-e[n[0]],a=t[n[1]]-e[n[1]];return Math.sqrt(r*r+a*a)}function he(e,t,n){n||(n=ne);var r=t[n[0]]-e[n[0]],a=t[n[1]]-e[n[1]];return 180*Math.atan2(a,r)/Math.PI}function be(e,t){return he(t[1],t[0],re)+he(e[1],e[0],re)}function ge(e,t){return pe(t[0],t[1],re)/pe(e[0],e[1],re)}ae.prototype={handler:function(){},init:function(){this.evEl&&S(this.element,this.evEl,this.domHandler),this.evTarget&&S(this.target,this.evTarget,this.domHandler),this.evWin&&S(M(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&x(this.element,this.evEl,this.domHandler),this.evTarget&&x(this.target,this.evTarget,this.domHandler),this.evWin&&x(M(this.element),this.evWin,this.domHandler)}};var ve={mousedown:H,mousemove:G,mouseup:z},ye="mousedown",we="mousemove mouseup";function Oe(){this.evEl=ye,this.evWin=we,this.pressed=!1,ae.apply(this,arguments)}w(Oe,ae,{handler:function(e){var t=ve[e.type];t&H&&0===e.button&&(this.pressed=!0),t&G&&1!==e.which&&(t=z),this.pressed&&(t&z&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:q,srcEvent:e}))}});var je={pointerdown:H,pointermove:G,pointerup:z,pointercancel:W,pointerout:W},ke={2:B,3:N,4:q,5:V},Se="pointerdown",xe="pointermove pointerup pointercancel";function Pe(){this.evEl=Se,this.evWin=xe,ae.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}r.MSPointerEvent&&!r.PointerEvent&&(Se="MSPointerDown",xe="MSPointerMove MSPointerUp MSPointerCancel"),w(Pe,ae,{handler:function(e){var t=this.store,n=!1,r=e.type.toLowerCase().replace("ms",""),a=je[r],s=ke[e.pointerType]||e.pointerType,i=s==B,o=R(t,e.pointerId,"pointerId");a&H&&(0===e.button||i)?o<0&&(t.push(e),o=t.length-1):a&(z|W)&&(n=!0),o<0||(t[o]=e,this.callback(this.manager,a,{pointers:t,changedPointers:[e],pointerType:s,srcEvent:e}),n&&t.splice(o,1))}});var Ie={touchstart:H,touchmove:G,touchend:z,touchcancel:W},Ce="touchstart",Re="touchstart touchmove touchend touchcancel";function Te(){this.evTarget=Ce,this.evWin=Re,this.started=!1,ae.apply(this,arguments)}function _e(e,t){var n=T(e.touches),r=T(e.changedTouches);return t&(z|W)&&(n=_(n.concat(r),"identifier",!0)),[n,r]}w(Te,ae,{handler:function(e){var t=Ie[e.type];if(t===H&&(this.started=!0),this.started){var n=_e.call(this,e,t);t&(z|W)&&n[0].length-n[1].length===0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:B,srcEvent:e})}}});var Ae={touchstart:H,touchmove:G,touchend:z,touchcancel:W},Le="touchstart touchmove touchend touchcancel";function Ee(){this.evTarget=Le,this.targetIds={},ae.apply(this,arguments)}function Me(e,t){var n=T(e.touches),r=this.targetIds;if(t&(H|G)&&1===n.length)return r[n[0].identifier]=!0,[n,n];var a,s,i=T(e.changedTouches),o=[];this.target;if(s=n.filter((function(e){return!0})),t===H){a=0;while(a<s.length)r[s[a].identifier]=!0,a++}a=0;while(a<i.length)r[i[a].identifier]&&o.push(i[a]),t&(z|W)&&delete r[i[a].identifier],a++;return o.length?[_(s.concat(o),"identifier",!0),o]:void 0}w(Ee,ae,{handler:function(e){var t=Ae[e.type],n=Me.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:B,srcEvent:e})}});var Ue=2500;function De(){ae.apply(this,arguments);var e=O(this.handler,this);this.touch=new Ee(this.manager,e),this.mouse=new Oe(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function Fe(e,t){e&H?(this.primaryTouch=t.changedPointers[0].identifier,Be.call(this,t)):e&(z|W)&&Be.call(this,t)}function Be(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY};this.lastTouches.push(n);var r=this.lastTouches,a=function(){var e=r.indexOf(n);e>-1&&r.splice(e,1)};setTimeout(a,Ue)}}function Ne(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var a=this.lastTouches[r],s=Math.abs(t-a.x),i=Math.abs(n-a.y);if(s<=DEDUP_DISTANCE&&i<=DEDUP_DISTANCE)return!0}return!1}w(De,ae,{handler:function(e,t,n){var r=n.pointerType==B,a=n.pointerType==q;if(!(a&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)Fe.call(this,t,n);else if(a&&Ne.call(this,n))return;this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var qe=A(u.style,"touchAction"),Ve=qe!==i,$e="compute",He="auto",Ge="manipulation",ze="none",We="pan-x",Ye="pan-y",Xe=Je();function Qe(e,t){this.manager=e,this.set(t)}function Ke(e){if(I(e,ze))return ze;var t=I(e,We),n=I(e,Ye);return t&&n?ze:t||n?t?We:Ye:I(e,Ge)?Ge:He}function Je(){if(!Ve)return!1;var e={},t=r.CSS&&r.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){e[n]=!t||r.CSS.supports("touch-action",n)})),e}Qe.prototype={set:function(e){e==$e&&(e=this.compute()),Ve&&this.manager.element.style&&Xe[e]&&(this.manager.element.style[qe]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return b(this.manager.recognizers,(function(t){j(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))})),Ke(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)t.preventDefault();else{var r=this.actions,a=I(r,ze)&&!Xe[ze],s=I(r,Ye)&&!Xe[Ye],i=I(r,We)&&!Xe[We];if(a){var o=1===e.pointers.length,c=e.distance<2,u=e.deltaTime<250;if(o&&c&&u)return}if(!i||!s)return a||s&&n&Z||i&&n&ee?this.preventSrc(t):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var Ze=1,et=2,tt=4,nt=8,rt=nt,at=16,st=32;function it(e){this.options=o({},this.defaults,e||{}),this.id=E(),this.manager=null,this.options.enable=k(this.options.enable,!0),this.state=Ze,this.simultaneous={},this.requireFail=[]}function ot(e){return e&at?"cancel":e&nt?"end":e&tt?"move":e&et?"start":""}function ct(e){return e==J?"down":e==K?"up":e==X?"left":e==Q?"right":""}function ut(e,t){var n=t.manager;return n?n.get(e):e}function dt(){it.apply(this,arguments)}function lt(){dt.apply(this,arguments),this.pX=null,this.pY=null}function ft(){dt.apply(this,arguments)}function mt(){it.apply(this,arguments),this._timer=null,this._input=null}function pt(){dt.apply(this,arguments)}function ht(){dt.apply(this,arguments)}function bt(){it.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function gt(e,t){return t=t||{},t.recognizers=k(t.recognizers,gt.defaults.preset),new wt(e,t)}it.prototype={defaults:{},set:function(e){return o(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(h(e,"recognizeWith",this))return this;var t=this.simultaneous;return e=ut(e,this),t[e.id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return h(e,"dropRecognizeWith",this)||(e=ut(e,this),delete this.simultaneous[e.id]),this},requireFailure:function(e){if(h(e,"requireFailure",this))return this;var t=this.requireFail;return e=ut(e,this),-1===R(t,e)&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(h(e,"dropRequireFailure",this))return this;e=ut(e,this);var t=R(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){var t=this,n=this.state;function r(n){t.manager.emit(n,e)}n<nt&&r(t.options.event+ot(n)),r(t.options.event),e.additionalEvent&&r(e.additionalEvent),n>=nt&&r(t.options.event+ot(n))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=st},canEmit:function(){var e=0;while(e<this.requireFail.length){if(!(this.requireFail[e].state&(st|Ze)))return!1;e++}return!0},recognize:function(e){var t=o({},e);if(!j(this.options.enable,[this,t]))return this.reset(),void(this.state=st);this.state&(rt|at|st)&&(this.state=Ze),this.state=this.process(t),this.state&(et|tt|nt|at)&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}},w(dt,it,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,r=t&(et|tt),a=this.attrTest(e);return r&&(n&W||!a)?t|at:r||a?n&z?t|nt:t&et?t|tt:et:st}}),w(lt,dt,{defaults:{event:"pan",threshold:10,pointers:1,direction:te},getTouchAction:function(){var e=this.options.direction,t=[];return e&Z&&t.push(Ye),e&ee&&t.push(We),t},directionTest:function(e){var t=this.options,n=!0,r=e.distance,a=e.direction,s=e.deltaX,i=e.deltaY;return a&t.direction||(t.direction&Z?(a=0===s?Y:s<0?X:Q,n=s!=this.pX,r=Math.abs(e.deltaX)):(a=0===i?Y:i<0?K:J,n=i!=this.pY,r=Math.abs(e.deltaY))),e.direction=a,n&&r>t.threshold&&a&t.direction},attrTest:function(e){return dt.prototype.attrTest.call(this,e)&&(this.state&et||!(this.state&et)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=ct(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),w(ft,dt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[ze]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||this.state&et)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),w(mt,it,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[He]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,a=e.deltaTime>t.time;if(this._input=e,!r||!n||e.eventType&(z|W)&&!a)this.reset();else if(e.eventType&H)this.reset(),this._timer=p((function(){this.state=rt,this.tryEmit()}),t.time,this);else if(e.eventType&z)return rt;return st},reset:function(){clearTimeout(this._timer)},emit:function(e){this.state===rt&&(e&&e.eventType&z?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=m(),this.manager.emit(this.options.event,this._input)))}}),w(pt,dt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[ze]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||this.state&et)}}),w(ht,dt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Z|ee,pointers:1},getTouchAction:function(){return lt.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return n&(Z|ee)?t=e.overallVelocity:n&Z?t=e.overallVelocityX:n&ee&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&f(t)>this.options.velocity&&e.eventType&z},emit:function(e){var t=ct(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),w(bt,it,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Ge]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,a=e.deltaTime<t.time;if(this.reset(),e.eventType&H&&0===this.count)return this.failTimeout();if(r&&a&&n){if(e.eventType!=z)return this.failTimeout();var s=!this.pTime||e.timeStamp-this.pTime<t.interval,i=!this.pCenter||pe(this.pCenter,e.center)<t.posThreshold;this.pTime=e.timeStamp,this.pCenter=e.center,i&&s?this.count+=1:this.count=1,this._input=e;var o=this.count%t.taps;if(0===o)return this.hasRequireFailures()?(this._timer=p((function(){this.state=rt,this.tryEmit()}),t.interval,this),et):rt}return st},failTimeout:function(){return this._timer=p((function(){this.state=st}),this.options.interval,this),st},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==rt&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),gt.VERSION="2.0.7",gt.defaults={domEvents:!1,touchAction:$e,enable:!0,inputTarget:null,inputClass:null,preset:[[pt,{enable:!1}],[ft,{enable:!1},["rotate"]],[ht,{direction:Z}],[lt,{direction:Z},["swipe"]],[bt],[bt,{event:"doubletap",taps:2},["tap"]],[mt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var vt=1,yt=2;function wt(e,t){this.options=o({},gt.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=se(this),this.touchAction=new Qe(this,this.options.touchAction),Ot(this,!0),b(this.options.recognizers,(function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])}),this)}function Ot(e,t){var n,r=e.element;r.style&&(b(e.options.cssProps,(function(a,s){n=A(r.style,s),t?(e.oldCssProps[n]=r.style[n],r.style[n]=a):r.style[n]=e.oldCssProps[n]||""})),t||(e.oldCssProps={}))}function jt(e,t){var n=a.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)}wt.prototype={set:function(e){return o(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?yt:vt},recognize:function(e){var t=this.session;if(!t.stopped){var n;this.touchAction.preventDefaults(e);var r=this.recognizers,a=t.curRecognizer;(!a||a&&a.state&rt)&&(a=t.curRecognizer=null);var s=0;while(s<r.length)n=r[s],t.stopped===yt||a&&n!=a&&!n.canRecognizeWith(a)?n.reset():n.recognize(e),!a&&n.state&(et|tt|nt)&&(a=t.curRecognizer=n),s++}},get:function(e){if(e instanceof it)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(h(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(h(e,"remove",this))return this;if(e=this.get(e),e){var t=this.recognizers,n=R(t,e);-1!==n&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){if(e!==i&&t!==i){var n=this.handlers;return b(C(e),(function(e){n[e]=n[e]||[],n[e].push(t)})),this}},off:function(e,t){if(e!==i){var n=this.handlers;return b(C(e),(function(e){t?n[e]&&n[e].splice(R(n[e],t),1):delete n[e]})),this}},emit:function(e,t){this.options.domEvents&&jt(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};var r=0;while(r<n.length)n[r](t),r++}},destroy:function(){this.element&&Ot(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},o(gt,{INPUT_START:H,INPUT_MOVE:G,INPUT_END:z,INPUT_CANCEL:W,STATE_POSSIBLE:Ze,STATE_BEGAN:et,STATE_CHANGED:tt,STATE_ENDED:nt,STATE_RECOGNIZED:rt,STATE_CANCELLED:at,STATE_FAILED:st,DIRECTION_NONE:Y,DIRECTION_LEFT:X,DIRECTION_RIGHT:Q,DIRECTION_UP:K,DIRECTION_DOWN:J,DIRECTION_HORIZONTAL:Z,DIRECTION_VERTICAL:ee,DIRECTION_ALL:te,Manager:wt,Input:ae,TouchAction:Qe,TouchInput:Ee,MouseInput:Oe,PointerEventInput:Pe,TouchMouseInput:De,SingleTouchInput:Te,Recognizer:it,AttrRecognizer:dt,Tap:bt,Pan:lt,Swipe:ht,Pinch:ft,Rotate:pt,Press:mt,on:S,off:x,each:b,merge:y,extend:v,assign:o,inherit:w,bindFn:O,prefixed:A});var kt="undefined"!==typeof r?r:"undefined"!==typeof self?self:{};kt.Hammer=gt,"function"===typeof define&&n("3c35")?define((function(){return gt})):e.exports?e.exports=gt:r[s]=gt})(window,document,"Hammer")}).call(this,n("dd40")(e))}});